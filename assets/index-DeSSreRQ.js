(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function iw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Km={exports:{}},rc={};var zv;function rw(){if(zv)return rc;zv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:u,ref:o!==void 0?o:null,props:c}}return rc.Fragment=e,rc.jsx=t,rc.jsxs=t,rc}var Uv;function sw(){return Uv||(Uv=1,Km.exports=rw()),Km.exports}var p=sw(),Ym={exports:{}},Re={};var Bv;function aw(){if(Bv)return Re;Bv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function N(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Q={};function se(R,B,oe){this.props=R,this.context=B,this.refs=Q,this.updater=oe||j}se.prototype.isReactComponent={},se.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},se.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function G(){}G.prototype=se.prototype;function ee(R,B,oe){this.props=R,this.context=B,this.refs=Q,this.updater=oe||j}var J=ee.prototype=new G;J.constructor=ee,P(J,se.prototype),J.isPureReactComponent=!0;var Y=Array.isArray;function L(){}var T={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(R,B,oe){var le=oe.ref;return{$$typeof:i,type:R,key:B,ref:le!==void 0?le:null,props:oe}}function V(R,B){return I(R.type,B,R.props)}function k(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function z(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(oe){return B[oe]})}var D=/\/+/g;function ke(R,B){return typeof R=="object"&&R!==null&&R.key!=null?z(""+R.key):B.toString(36)}function Ye(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(L,L):(R.status="pending",R.then(function(B){R.status==="pending"&&(R.status="fulfilled",R.value=B)},function(B){R.status==="pending"&&(R.status="rejected",R.reason=B)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function W(R,B,oe,le,pe){var be=typeof R;(be==="undefined"||be==="boolean")&&(R=null);var Oe=!1;if(R===null)Oe=!0;else switch(be){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(R.$$typeof){case i:case e:Oe=!0;break;case E:return Oe=R._init,W(Oe(R._payload),B,oe,le,pe)}}if(Oe)return pe=pe(R),Oe=le===""?"."+ke(R,0):le,Y(pe)?(oe="",Oe!=null&&(oe=Oe.replace(D,"$&/")+"/"),W(pe,B,oe,"",function(ti){return ti})):pe!=null&&(k(pe)&&(pe=V(pe,oe+(pe.key==null||R&&R.key===pe.key?"":(""+pe.key).replace(D,"$&/")+"/")+Oe)),B.push(pe)),1;Oe=0;var ct=le===""?".":le+":";if(Y(R))for(var $e=0;$e<R.length;$e++)le=R[$e],be=ct+ke(le,$e),Oe+=W(le,B,oe,be,pe);else if($e=N(R),typeof $e=="function")for(R=$e.call(R),$e=0;!(le=R.next()).done;)le=le.value,be=ct+ke(le,$e++),Oe+=W(le,B,oe,be,pe);else if(be==="object"){if(typeof R.then=="function")return W(Ye(R),B,oe,le,pe);throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ue(R,B,oe){if(R==null)return R;var le=[],pe=0;return W(R,le,"","",function(be){return B.call(oe,be,pe++)}),le}function ve(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(oe){(R._status===0||R._status===-1)&&(R._status=1,R._result=oe)},function(oe){(R._status===0||R._status===-1)&&(R._status=2,R._result=oe)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var xe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Le={map:ue,forEach:function(R,B,oe){ue(R,function(){B.apply(this,arguments)},oe)},count:function(R){var B=0;return ue(R,function(){B++}),B},toArray:function(R){return ue(R,function(B){return B})||[]},only:function(R){if(!k(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Re.Activity=A,Re.Children=Le,Re.Component=se,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=ee,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Re.__COMPILER_RUNTIME={__proto__:null,c:function(R){return T.H.useMemoCache(R)}},Re.cache=function(R){return function(){return R.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(R,B,oe){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var le=P({},R.props),pe=R.key;if(B!=null)for(be in B.key!==void 0&&(pe=""+B.key),B)!x.call(B,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&B.ref===void 0||(le[be]=B[be]);var be=arguments.length-2;if(be===1)le.children=oe;else if(1<be){for(var Oe=Array(be),ct=0;ct<be;ct++)Oe[ct]=arguments[ct+2];le.children=Oe}return I(R.type,pe,le)},Re.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Re.createElement=function(R,B,oe){var le,pe={},be=null;if(B!=null)for(le in B.key!==void 0&&(be=""+B.key),B)x.call(B,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=B[le]);var Oe=arguments.length-2;if(Oe===1)pe.children=oe;else if(1<Oe){for(var ct=Array(Oe),$e=0;$e<Oe;$e++)ct[$e]=arguments[$e+2];pe.children=ct}if(R&&R.defaultProps)for(le in Oe=R.defaultProps,Oe)pe[le]===void 0&&(pe[le]=Oe[le]);return I(R,be,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(R){return{$$typeof:m,render:R}},Re.isValidElement=k,Re.lazy=function(R){return{$$typeof:E,_payload:{_status:-1,_result:R},_init:ve}},Re.memo=function(R,B){return{$$typeof:y,type:R,compare:B===void 0?null:B}},Re.startTransition=function(R){var B=T.T,oe={};T.T=oe;try{var le=R(),pe=T.S;pe!==null&&pe(oe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(L,xe)}catch(be){xe(be)}finally{B!==null&&oe.types!==null&&(B.types=oe.types),T.T=B}},Re.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Re.use=function(R){return T.H.use(R)},Re.useActionState=function(R,B,oe){return T.H.useActionState(R,B,oe)},Re.useCallback=function(R,B){return T.H.useCallback(R,B)},Re.useContext=function(R){return T.H.useContext(R)},Re.useDebugValue=function(){},Re.useDeferredValue=function(R,B){return T.H.useDeferredValue(R,B)},Re.useEffect=function(R,B){return T.H.useEffect(R,B)},Re.useEffectEvent=function(R){return T.H.useEffectEvent(R)},Re.useId=function(){return T.H.useId()},Re.useImperativeHandle=function(R,B,oe){return T.H.useImperativeHandle(R,B,oe)},Re.useInsertionEffect=function(R,B){return T.H.useInsertionEffect(R,B)},Re.useLayoutEffect=function(R,B){return T.H.useLayoutEffect(R,B)},Re.useMemo=function(R,B){return T.H.useMemo(R,B)},Re.useOptimistic=function(R,B){return T.H.useOptimistic(R,B)},Re.useReducer=function(R,B,oe){return T.H.useReducer(R,B,oe)},Re.useRef=function(R){return T.H.useRef(R)},Re.useState=function(R){return T.H.useState(R)},Re.useSyncExternalStore=function(R,B,oe){return T.H.useSyncExternalStore(R,B,oe)},Re.useTransition=function(){return T.H.useTransition()},Re.version="19.2.3",Re}var Fv;function dg(){return Fv||(Fv=1,Ym.exports=aw()),Ym.exports}var ae=dg();const Bt=iw(ae);var Xm={exports:{}},sc={},Wm={exports:{}},Zm={};var qv;function ow(){return qv||(qv=1,(function(i){function e(W,ue){var ve=W.length;W.push(ue);e:for(;0<ve;){var xe=ve-1>>>1,Le=W[xe];if(0<o(Le,ue))W[xe]=ue,W[ve]=Le,ve=xe;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ue=W[0],ve=W.pop();if(ve!==ue){W[0]=ve;e:for(var xe=0,Le=W.length,R=Le>>>1;xe<R;){var B=2*(xe+1)-1,oe=W[B],le=B+1,pe=W[le];if(0>o(oe,ve))le<Le&&0>o(pe,oe)?(W[xe]=pe,W[le]=ve,xe=le):(W[xe]=oe,W[B]=ve,xe=B);else if(le<Le&&0>o(pe,ve))W[xe]=pe,W[le]=ve,xe=le;else break e}}return ue}function o(W,ue){var ve=W.sortIndex-ue.sortIndex;return ve!==0?ve:W.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();i.unstable_now=function(){return u.now()-m}}var g=[],y=[],E=1,A=null,w=3,N=!1,j=!1,P=!1,Q=!1,se=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function J(W){for(var ue=t(y);ue!==null;){if(ue.callback===null)s(y);else if(ue.startTime<=W)s(y),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=t(y)}}function Y(W){if(P=!1,J(W),!j)if(t(g)!==null)j=!0,L||(L=!0,z());else{var ue=t(y);ue!==null&&Ye(Y,ue.startTime-W)}}var L=!1,T=-1,x=5,I=-1;function V(){return Q?!0:!(i.unstable_now()-I<x)}function k(){if(Q=!1,L){var W=i.unstable_now();I=W;var ue=!0;try{e:{j=!1,P&&(P=!1,G(T),T=-1),N=!0;var ve=w;try{t:{for(J(W),A=t(g);A!==null&&!(A.expirationTime>W&&V());){var xe=A.callback;if(typeof xe=="function"){A.callback=null,w=A.priorityLevel;var Le=xe(A.expirationTime<=W);if(W=i.unstable_now(),typeof Le=="function"){A.callback=Le,J(W),ue=!0;break t}A===t(g)&&s(g),J(W)}else s(g);A=t(g)}if(A!==null)ue=!0;else{var R=t(y);R!==null&&Ye(Y,R.startTime-W),ue=!1}}break e}finally{A=null,w=ve,N=!1}ue=void 0}}finally{ue?z():L=!1}}}var z;if(typeof ee=="function")z=function(){ee(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ke=D.port2;D.port1.onmessage=k,z=function(){ke.postMessage(null)}}else z=function(){se(k,0)};function Ye(W,ue){T=se(function(){W(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var ve=w;w=ue;try{return W()}finally{w=ve}},i.unstable_requestPaint=function(){Q=!0},i.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ve=w;w=W;try{return ue()}finally{w=ve}},i.unstable_scheduleCallback=function(W,ue,ve){var xe=i.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?xe+ve:xe):ve=xe,W){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=ve+Le,W={id:E++,callback:ue,priorityLevel:W,startTime:ve,expirationTime:Le,sortIndex:-1},ve>xe?(W.sortIndex=ve,e(y,W),t(g)===null&&W===t(y)&&(P?(G(T),T=-1):P=!0,Ye(Y,ve-xe))):(W.sortIndex=Le,e(g,W),j||N||(j=!0,L||(L=!0,z()))),W},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(W){var ue=w;return function(){var ve=w;w=ue;try{return W.apply(this,arguments)}finally{w=ve}}}})(Zm)),Zm}var Hv;function lw(){return Hv||(Hv=1,Wm.exports=ow()),Wm.exports}var Jm={exports:{}},an={};var Gv;function cw(){if(Gv)return an;Gv=1;var i=dg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},an.flushSync=function(g){var y=u.T,E=s.p;try{if(u.T=null,s.p=2,g)return g()}finally{u.T=y,s.p=E,s.d.f()}},an.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},an.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},an.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:N}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:w,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},an.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},an.requestFormReset=function(g){s.d.r(g)},an.unstable_batchedUpdates=function(g,y){return g(y)},an.useFormState=function(g,y,E){return u.H.useFormState(g,y,E)},an.useFormStatus=function(){return u.H.useHostTransitionStatus()},an.version="19.2.3",an}var $v;function ab(){if($v)return Jm.exports;$v=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jm.exports=cw(),Jm.exports}var Qv;function uw(){if(Qv)return sc;Qv=1;var i=lw(),e=dg(),t=ab();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function u(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function g(n){if(c(n)!==n)throw Error(s(188))}function y(n){var r=n.alternate;if(!r){if(r=c(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),n;if(f===l)return g(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function E(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=E(n),r!==null)return r;n=n.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function ke(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case se:return"Profiler";case Q:return"StrictMode";case Y:return"Suspense";case L:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case ee:return n.displayName||"Context";case G:return(n._context.displayName||"Context")+".Consumer";case J:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case T:return r=n.displayName||null,r!==null?r:ke(n.type)||"Memo";case x:r=n._payload,n=n._init;try{return ke(n(r))}catch{}}return null}var Ye=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},xe=[],Le=-1;function R(n){return{current:n}}function B(n){0>Le||(n.current=xe[Le],xe[Le]=null,Le--)}function oe(n,r){Le++,xe[Le]=n.current,n.current=r}var le=R(null),pe=R(null),be=R(null),Oe=R(null);function ct(n,r){switch(oe(be,r),oe(pe,n),oe(le,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?lv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=lv(r),n=cv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}B(le),oe(le,n)}function $e(){B(le),B(pe),B(be)}function ti(n){n.memoizedState!==null&&oe(Oe,n);var r=le.current,a=cv(r,n.type);r!==a&&(oe(pe,n),oe(le,a))}function ni(n){pe.current===n&&(B(le),B(pe)),Oe.current===n&&(B(Oe),ec._currentValue=ve)}var dn,Ra;function bi(n){if(dn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);dn=r&&r[1]||"",Ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dn+n+Ra}var el=!1;function Ms(n,r){if(!n||el)return"";el=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var $=X}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(X){$=X}n.call(ie.prototype)}}else{try{throw Error()}catch(X){$=X}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var M=_.split(`
`),H=S.split(`
`);for(d=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===M.length||d===H.length)for(l=M.length-1,d=H.length-1;1<=l&&0<=d&&M[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(M[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||M[l]!==H[d]){var Z=`
`+M[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=d);break}}}finally{el=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?bi(a):""}function tl(n,r){switch(n.tag){case 26:case 27:case 5:return bi(n.type);case 16:return bi("Lazy");case 13:return n.child!==r&&r!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Ms(n.type,!1);case 11:return Ms(n.type.render,!1);case 1:return Ms(n.type,!0);case 31:return bi("Activity");default:return""}}function nl(n){try{var r="",a=null;do r+=tl(n,a),a=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,zt=i.unstable_scheduleCallback,Cr=i.unstable_cancelCallback,Yd=i.unstable_shouldYield,qc=i.unstable_requestPaint,fn=i.unstable_now,ks=i.unstable_getCurrentPriorityLevel,il=i.unstable_ImmediatePriority,rl=i.unstable_UserBlockingPriority,Rr=i.unstable_NormalPriority,Xd=i.unstable_LowPriority,Hc=i.unstable_IdlePriority,Gc=i.log,$c=i.unstable_setDisableYieldValue,ii=null,Xt=null;function zn(n){if(typeof Gc=="function"&&$c(n),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ii,n)}catch{}}var Et=Math.clz32?Math.clz32:Kc,Qc=Math.log,Na=Math.LN2;function Kc(n){return n>>>=0,n===0?32:31-(Qc(n)/Na|0)|0}var Ai=256,js=262144,xt=4194304;function Ti(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Si(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,f=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?d=Ti(l):(_&=S,_!==0?d=Ti(_):a||(a=S&~n,a!==0&&(d=Ti(a))))):(S=l&~f,S!==0?d=Ti(S):_!==0?d=Ti(_):a||(a=l&~n,a!==0&&(d=Ti(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function ri(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Wd(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yc(){var n=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),n}function wi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Os(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Zd(n,r,a,l,d,f){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,M=n.expirationTimes,H=n.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-Et(a),ie=1<<Z;S[Z]=0,M[Z]=-1;var $=H[Z];if($!==null)for(H[Z]=null,Z=0;Z<$.length;Z++){var X=$[Z];X!==null&&(X.lane&=-536870913)}a&=~ie}l!==0&&Vs(n,l,0),f!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=f&~(_&~r))}function Vs(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Et(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function sl(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Et(a),d=1<<l;d&r|n[l]&r&&(n[l]|=r),a&=~d}}function al(n,r){var a=r&-r;return a=(a&42)!==0?1:Ps(a),(a&(n.suspendedLanes|r))!==0?0:a}function Ps(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ji(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xc(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:Mv(n.type))}function si(n,r){var a=ue.p;try{return ue.p=n,r()}finally{ue.p=a}}var ai=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ai,Ht="__reactProps$"+ai,xi="__reactContainer$"+ai,Ia="__reactEvents$"+ai,Jd="__reactListeners$"+ai,Wc="__reactHandles$"+ai,Zc="__reactResources$"+ai,Ci="__reactMarker$"+ai;function Da(n){delete n[Ct],delete n[Ht],delete n[Ia],delete n[Jd],delete n[Wc]}function Ri(n){var r=n[Ct];if(r)return r;for(var a=n.parentNode;a;){if(r=a[xi]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=gv(n);n!==null;){if(a=n[Ct])return a;n=gv(n)}return r}n=a,a=n.parentNode}return null}function Un(n){if(n=n[Ct]||n[xi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Cn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Ni(n){var r=n[Zc];return r||(r=n[Zc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(n){n[Ci]=!0}var ol=new Set,ll={};function Ii(n,r){Di(n,r),Di(n+"Capture",r)}function Di(n,r){for(ll[n]=r,n=0;n<r.length;n++)ol.add(r[n])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},hl={};function Jc(n){return wt.call(hl,n)?!0:wt.call(ul,n)?!1:cl.test(n)?hl[n]=!0:(ul[n]=!0,!1)}function Ma(n,r,a){if(Jc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Rn(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Nt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function Gt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Nr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dl(n,r,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function et(n){if(!n._valueTracker){var r=Nr(n)?"checked":"value";n._valueTracker=dl(n,r,""+n[r])}}function Ls(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Nr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Mi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var zs=/[\n"\\]/g;function gn(n){return n.replace(zs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ka(n,r,a,l,d,f,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Gt(r)):n.value!==""+Gt(r)&&(n.value=""+Gt(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?fl(n,_,Gt(r)):a!=null?fl(n,_,Gt(a)):l!=null&&n.removeAttribute("value"),d==null&&f!=null&&(n.defaultChecked=!!f),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Gt(S):n.removeAttribute("name")}function eu(n,r,a,l,d,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){et(n);return}a=a!=null?""+Gt(a):"",r=r!=null?""+Gt(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),et(n)}function fl(n,r,a){r==="number"&&Mi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ir(n,r,a,l){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Gt(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function tu(n,r,a){if(r!=null&&(r=""+Gt(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Gt(a):""}function Dr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ye(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Gt(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),et(n)}function yn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||nu.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function pl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&ml(n,d,l)}else for(var f in r)r.hasOwnProperty(f)&&ml(n,f,r[f])}function ja(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(n){return Mr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function oi(){}var gl=null;function Bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var kr=null,ki=null;function Us(n){var r=Un(n);if(r&&(n=r.stateNode)){var a=n[Ht]||null;e:switch(n=r.stateNode,r.type){case"input":if(ka(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var d=l[Ht]||null;if(!d)throw Error(s(90));ka(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Ls(l)}break e;case"textarea":tu(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ir(n,!!a.multiple,r,!1)}}}var Va=!1;function jr(n,r,a){if(Va)return n(r,a);Va=!0;try{var l=n(r);return l}finally{if(Va=!1,(kr!==null||ki!==null)&&(Xu(),kr&&(r=kr,n=ki,ki=kr=null,Us(r),n)))for(r=0;r<n.length;r++)Us(n[r])}}function li(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Ht]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(Fn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Bs=!1}var ji=null,yl=null,Fs=null;function vl(){if(Fs)return Fs;var n,r=yl,a=r.length,l,d="value"in ji?ji.value:ji.textContent,f=d.length;for(n=0;n<a&&r[n]===d[n];n++);var _=a-n;for(l=1;l<=_&&r[a-l]===d[f-l];l++);return Fs=d.slice(n,1<l?1-l:void 0)}function qs(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function er(){return!0}function ci(){return!1}function Wt(n){function r(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?er:ci,this.isPropagationStopped=ci,this}return A(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),r}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Wt(tr),Or=A({},tr,{view:0,detail:0}),_l=Wt(Or),Vr,Pa,Vi,La=A({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vi&&(Vi&&n.type==="mousemove"?(Vr=n.screenX-Vi.screenX,Pa=n.screenY-Vi.screenY):Pa=Vr=0,Vi=n),Vr)},movementY:function(n){return"movementY"in n?n.movementY:Pa}}),El=Wt(La),Hs=A({},La,{dataTransfer:0}),ru=Wt(Hs),su=A({},Or,{relatedTarget:0}),Gs=Wt(su),bl=A({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),au=Wt(bl),za=A({},tr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ou=Wt(za),lu=A({},tr,{data:0}),Pi=Wt(lu),cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=hu[n])?!!r[n]:!1}function Pr(){return du}var mn=A({},Or,{key:function(n){if(n.key){var r=cu[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=qs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?uu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(n){return n.type==="keypress"?qs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),fu=Wt(mn),mu=A({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=Wt(mu),h=A({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),v=Wt(h),b=A({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Wt(b),F=A({},La,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Wt(F),ce=A({},tr,{newState:0,oldState:0}),Ie=Wt(ce),bt=[9,13,27,32],Xe=Fn&&"CompositionEvent"in window,mt=null;Fn&&"documentMode"in document&&(mt=document.documentMode);var qn=Fn&&"TextEvent"in window&&!mt,Li=Fn&&(!Xe||mt&&8<mt&&11>=mt),ui=" ",hi=!1;function $s(n,r){switch(n){case"keyup":return bt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ba=!1;function C2(n,r){switch(n){case"compositionend":return Ua(r);case"keypress":return r.which!==32?null:(hi=!0,ui);case"textInput":return n=r.data,n===ui&&hi?null:n;default:return null}}function R2(n,r){if(Ba)return n==="compositionend"||!Xe&&$s(n,r)?(n=vl(),Fs=yl=ji=null,Ba=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Li&&r.locale!=="ko"?null:r.data;default:return null}}var N2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!N2[n.type]:r==="textarea"}function Ey(n,r,a,l){kr?ki?ki.push(l):ki=[l]:kr=l,r=ih(r,"onChange"),0<r.length&&(a=new Oi("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Al=null,Tl=null;function I2(n){nv(n,0)}function pu(n){var r=Cn(n);if(Ls(r))return n}function by(n,r){if(n==="change")return r}var Ay=!1;if(Fn){var ef;if(Fn){var tf="oninput"in document;if(!tf){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),tf=typeof Ty.oninput=="function"}ef=tf}else ef=!1;Ay=ef&&(!document.documentMode||9<document.documentMode)}function Sy(){Al&&(Al.detachEvent("onpropertychange",wy),Tl=Al=null)}function wy(n){if(n.propertyName==="value"&&pu(Tl)){var r=[];Ey(r,Tl,n,Bn(n)),jr(I2,r)}}function D2(n,r,a){n==="focusin"?(Sy(),Al=r,Tl=a,Al.attachEvent("onpropertychange",wy)):n==="focusout"&&Sy()}function M2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return pu(Tl)}function k2(n,r){if(n==="click")return pu(r)}function j2(n,r){if(n==="input"||n==="change")return pu(r)}function O2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Nn=typeof Object.is=="function"?Object.is:O2;function Sl(n,r){if(Nn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!wt.call(r,d)||!Nn(n[d],r[d]))return!1}return!0}function xy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cy(n,r){var a=xy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xy(a)}}function Ry(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ry(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Ny(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Mi(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Mi(n.document)}return r}function nf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var V2=Fn&&"documentMode"in document&&11>=document.documentMode,Fa=null,rf=null,wl=null,sf=!1;function Iy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||Fa==null||Fa!==Mi(l)||(l=Fa,"selectionStart"in l&&nf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wl&&Sl(wl,l)||(wl=l,l=ih(rf,"onSelect"),0<l.length&&(r=new Oi("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Fa)))}function Qs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var qa={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},af={},Dy={};Fn&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Ks(n){if(af[n])return af[n];if(!qa[n])return n;var r=qa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Dy)return af[n]=r[a];return n}var My=Ks("animationend"),ky=Ks("animationiteration"),jy=Ks("animationstart"),P2=Ks("transitionrun"),L2=Ks("transitionstart"),z2=Ks("transitioncancel"),Oy=Ks("transitionend"),Vy=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function di(n,r){Vy.set(n,r),Ii(r,[n])}var gu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Hn=[],Ha=0,lf=0;function yu(){for(var n=Ha,r=lf=Ha=0;r<n;){var a=Hn[r];Hn[r++]=null;var l=Hn[r];Hn[r++]=null;var d=Hn[r];Hn[r++]=null;var f=Hn[r];if(Hn[r++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&Py(a,d,f)}}function vu(n,r,a,l){Hn[Ha++]=n,Hn[Ha++]=r,Hn[Ha++]=a,Hn[Ha++]=l,lf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function cf(n,r,a,l){return vu(n,r,a,l),_u(n)}function Ys(n,r){return vu(n,null,null,r),_u(n)}function Py(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=n.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(d=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,d&&r!==null&&(d=31-Et(a),n=f.hiddenUpdates,l=n[d],l===null?n[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function _u(n){if(50<Ql)throw Ql=0,vm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ga={};function U2(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,r,a,l){return new U2(n,r,a,l)}function uf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ir(n,r){var a=n.alternate;return a===null?(a=In(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ly(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Eu(n,r,a,l,d,f){var _=0;if(l=n,typeof n=="function")uf(n)&&(_=1);else if(typeof n=="string")_=GS(n,a,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=In(31,a,r,d),n.elementType=I,n.lanes=f,n;case P:return Xs(a.children,d,f,r);case Q:_=8,d|=24;break;case se:return n=In(12,a,r,d|2),n.elementType=se,n.lanes=f,n;case Y:return n=In(13,a,r,d),n.elementType=Y,n.lanes=f,n;case L:return n=In(19,a,r,d),n.elementType=L,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ee:_=10;break e;case G:_=9;break e;case J:_=11;break e;case T:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=In(_,a,r,d),r.elementType=n,r.type=l,r.lanes=f,r}function Xs(n,r,a,l){return n=In(7,n,l,r),n.lanes=a,n}function hf(n,r,a){return n=In(6,n,null,r),n.lanes=a,n}function zy(n){var r=In(18,null,null,0);return r.stateNode=n,r}function df(n,r,a){return r=In(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Uy=new WeakMap;function Gn(n,r){if(typeof n=="object"&&n!==null){var a=Uy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:nl(r)},Uy.set(n,r),r)}return{value:n,source:r,stack:nl(r)}}var $a=[],Qa=0,bu=null,xl=0,$n=[],Qn=0,Lr=null,zi=1,Ui="";function rr(n,r){$a[Qa++]=xl,$a[Qa++]=bu,bu=n,xl=r}function By(n,r,a){$n[Qn++]=zi,$n[Qn++]=Ui,$n[Qn++]=Lr,Lr=n;var l=zi;n=Ui;var d=32-Et(l)-1;l&=~(1<<d),a+=1;var f=32-Et(r)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,zi=1<<32-Et(r)+d|a<<d|l,Ui=f+n}else zi=1<<f|a<<d|l,Ui=n}function ff(n){n.return!==null&&(rr(n,1),By(n,1,0))}function mf(n){for(;n===bu;)bu=$a[--Qa],$a[Qa]=null,xl=$a[--Qa],$a[Qa]=null;for(;n===Lr;)Lr=$n[--Qn],$n[Qn]=null,Ui=$n[--Qn],$n[Qn]=null,zi=$n[--Qn],$n[Qn]=null}function Fy(n,r){$n[Qn++]=zi,$n[Qn++]=Ui,$n[Qn++]=Lr,zi=r.id,Ui=r.overflow,Lr=n}var Zt=null,ut=null,He=!1,zr=null,Kn=!1,pf=Error(s(519));function Ur(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(Gn(r,n)),pf}function qy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Ct]=n,r[Ht]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Yl.length;a++)Pe(Yl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),eu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Dr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||av(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=oi),r=!0):r=!1,r||Ur(n,!0)}function Hy(n){for(Zt=n.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Zt=Zt.return}}function Ka(n){if(n!==Zt)return!1;if(!He)return Hy(n),He=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||km(n.type,n.memoizedProps)),a=!a),a&&ut&&Ur(n),Hy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ut=pv(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ut=pv(n)}else r===27?(r=ut,es(n.type)?(n=Lm,Lm=null,ut=n):ut=r):ut=Zt?Xn(n.stateNode.nextSibling):null;return!0}function Ws(){ut=Zt=null,He=!1}function gf(){var n=zr;return n!==null&&(bn===null?bn=n:bn.push.apply(bn,n),zr=null),n}function Cl(n){zr===null?zr=[n]:zr.push(n)}var yf=R(null),Zs=null,sr=null;function Br(n,r,a){oe(yf,r._currentValue),r._currentValue=a}function ar(n){n._currentValue=yf.current,B(yf)}function vf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function _f(n,r,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=d;for(var M=0;M<r.length;M++)if(S.context===r[M]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),vf(f.return,a,n),l||(_=null);break e}f=S.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),vf(_,a,n),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===n){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Ya(n,r,a,l){n=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=d.type;Nn(d.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(d===Oe.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(ec):n=[ec])}d=d.return}n!==null&&_f(r,n,a,l),r.flags|=262144}function Au(n){for(n=n.firstContext;n!==null;){if(!Nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Js(n){Zs=n,sr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return Gy(Zs,n)}function Tu(n,r){return Zs===null&&Js(n),Gy(n,r)}function Gy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},sr===null){if(n===null)throw Error(s(308));sr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else sr=sr.next=r;return a}var B2=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},F2=i.unstable_scheduleCallback,q2=i.unstable_NormalPriority,It={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new B2,data:new Map,refCount:0}}function Rl(n){n.refCount--,n.refCount===0&&F2(q2,function(){n.controller.abort()})}var Nl=null,bf=0,Xa=0,Wa=null;function H2(n,r){if(Nl===null){var a=Nl=[];bf=0,Xa=Sm(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bf++,r.then($y,$y),r}function $y(){if(--bf===0&&Nl!==null){Wa!==null&&(Wa.status="fulfilled");var n=Nl;Nl=null,Xa=0,Wa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function G2(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Qy=W.S;W.S=function(n,r){I1=fn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&H2(n,r),Qy!==null&&Qy(n,r)};var ea=R(null);function Af(){var n=ea.current;return n!==null?n:ot.pooledCache}function Su(n,r){r===null?oe(ea,ea.current):oe(ea,r.pool)}function Ky(){var n=Af();return n===null?null:{parent:It._currentValue,pool:n}}var Za=Error(s(460)),Tf=Error(s(474)),wu=Error(s(542)),xu={then:function(){}};function Yy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Xy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(oi,oi),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Zy(n),n;default:if(typeof r.status=="string")r.then(oi,oi);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Zy(n),n}throw na=r,Za}}function ta(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,Za):a}}var na=null;function Wy(){if(na===null)throw Error(s(459));var n=na;return na=null,n}function Zy(n){if(n===Za||n===wu)throw Error(s(483))}var Ja=null,Il=0;function Cu(n){var r=Il;return Il+=1,Ja===null&&(Ja=[]),Xy(Ja,n,r)}function Dl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Ru(n,r){throw r.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Jy(n){function r(U,O){if(n){var q=U.deletions;q===null?(U.deletions=[O],U.flags|=16):q.push(O)}}function a(U,O){if(!n)return null;for(;O!==null;)r(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function d(U,O){return U=ir(U,O),U.index=0,U.sibling=null,U}function f(U,O,q){return U.index=q,n?(q=U.alternate,q!==null?(q=q.index,q<O?(U.flags|=67108866,O):q):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function S(U,O,q,te){return O===null||O.tag!==6?(O=hf(q,U.mode,te),O.return=U,O):(O=d(O,q),O.return=U,O)}function M(U,O,q,te){var _e=q.type;return _e===P?Z(U,O,q.props.children,te,q.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&ta(_e)===O.type)?(O=d(O,q.props),Dl(O,q),O.return=U,O):(O=Eu(q.type,q.key,q.props,null,U.mode,te),Dl(O,q),O.return=U,O)}function H(U,O,q,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=df(q,U.mode,te),O.return=U,O):(O=d(O,q.children||[]),O.return=U,O)}function Z(U,O,q,te,_e){return O===null||O.tag!==7?(O=Xs(q,U.mode,te,_e),O.return=U,O):(O=d(O,q),O.return=U,O)}function ie(U,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=hf(""+O,U.mode,q),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case N:return q=Eu(O.type,O.key,O.props,null,U.mode,q),Dl(q,O),q.return=U,q;case j:return O=df(O,U.mode,q),O.return=U,O;case x:return O=ta(O),ie(U,O,q)}if(Ye(O)||z(O))return O=Xs(O,U.mode,q,null),O.return=U,O;if(typeof O.then=="function")return ie(U,Cu(O),q);if(O.$$typeof===ee)return ie(U,Tu(U,O),q);Ru(U,O)}return null}function $(U,O,q,te){var _e=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return _e!==null?null:S(U,O,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return q.key===_e?M(U,O,q,te):null;case j:return q.key===_e?H(U,O,q,te):null;case x:return q=ta(q),$(U,O,q,te)}if(Ye(q)||z(q))return _e!==null?null:Z(U,O,q,te,null);if(typeof q.then=="function")return $(U,O,Cu(q),te);if(q.$$typeof===ee)return $(U,O,Tu(U,q),te);Ru(U,q)}return null}function X(U,O,q,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(q)||null,S(O,U,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case N:return U=U.get(te.key===null?q:te.key)||null,M(O,U,te,_e);case j:return U=U.get(te.key===null?q:te.key)||null,H(O,U,te,_e);case x:return te=ta(te),X(U,O,q,te,_e)}if(Ye(te)||z(te))return U=U.get(q)||null,Z(O,U,te,_e,null);if(typeof te.then=="function")return X(U,O,q,Cu(te),_e);if(te.$$typeof===ee)return X(U,O,q,Tu(O,te),_e);Ru(O,te)}return null}function me(U,O,q,te){for(var _e=null,Qe=null,ge=O,Me=O=0,Ue=null;ge!==null&&Me<q.length;Me++){ge.index>Me?(Ue=ge,ge=null):Ue=ge.sibling;var Ke=$(U,ge,q[Me],te);if(Ke===null){ge===null&&(ge=Ue);break}n&&ge&&Ke.alternate===null&&r(U,ge),O=f(Ke,O,Me),Qe===null?_e=Ke:Qe.sibling=Ke,Qe=Ke,ge=Ue}if(Me===q.length)return a(U,ge),He&&rr(U,Me),_e;if(ge===null){for(;Me<q.length;Me++)ge=ie(U,q[Me],te),ge!==null&&(O=f(ge,O,Me),Qe===null?_e=ge:Qe.sibling=ge,Qe=ge);return He&&rr(U,Me),_e}for(ge=l(ge);Me<q.length;Me++)Ue=X(ge,U,Me,q[Me],te),Ue!==null&&(n&&Ue.alternate!==null&&ge.delete(Ue.key===null?Me:Ue.key),O=f(Ue,O,Me),Qe===null?_e=Ue:Qe.sibling=Ue,Qe=Ue);return n&&ge.forEach(function(ss){return r(U,ss)}),He&&rr(U,Me),_e}function Ae(U,O,q,te){if(q==null)throw Error(s(151));for(var _e=null,Qe=null,ge=O,Me=O=0,Ue=null,Ke=q.next();ge!==null&&!Ke.done;Me++,Ke=q.next()){ge.index>Me?(Ue=ge,ge=null):Ue=ge.sibling;var ss=$(U,ge,Ke.value,te);if(ss===null){ge===null&&(ge=Ue);break}n&&ge&&ss.alternate===null&&r(U,ge),O=f(ss,O,Me),Qe===null?_e=ss:Qe.sibling=ss,Qe=ss,ge=Ue}if(Ke.done)return a(U,ge),He&&rr(U,Me),_e;if(ge===null){for(;!Ke.done;Me++,Ke=q.next())Ke=ie(U,Ke.value,te),Ke!==null&&(O=f(Ke,O,Me),Qe===null?_e=Ke:Qe.sibling=Ke,Qe=Ke);return He&&rr(U,Me),_e}for(ge=l(ge);!Ke.done;Me++,Ke=q.next())Ke=X(ge,U,Me,Ke.value,te),Ke!==null&&(n&&Ke.alternate!==null&&ge.delete(Ke.key===null?Me:Ke.key),O=f(Ke,O,Me),Qe===null?_e=Ke:Qe.sibling=Ke,Qe=Ke);return n&&ge.forEach(function(nw){return r(U,nw)}),He&&rr(U,Me),_e}function at(U,O,q,te){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case N:e:{for(var _e=q.key;O!==null;){if(O.key===_e){if(_e=q.type,_e===P){if(O.tag===7){a(U,O.sibling),te=d(O,q.props.children),te.return=U,U=te;break e}}else if(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&ta(_e)===O.type){a(U,O.sibling),te=d(O,q.props),Dl(te,q),te.return=U,U=te;break e}a(U,O);break}else r(U,O);O=O.sibling}q.type===P?(te=Xs(q.props.children,U.mode,te,q.key),te.return=U,U=te):(te=Eu(q.type,q.key,q.props,null,U.mode,te),Dl(te,q),te.return=U,U=te)}return _(U);case j:e:{for(_e=q.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){a(U,O.sibling),te=d(O,q.children||[]),te.return=U,U=te;break e}else{a(U,O);break}else r(U,O);O=O.sibling}te=df(q,U.mode,te),te.return=U,U=te}return _(U);case x:return q=ta(q),at(U,O,q,te)}if(Ye(q))return me(U,O,q,te);if(z(q)){if(_e=z(q),typeof _e!="function")throw Error(s(150));return q=_e.call(q),Ae(U,O,q,te)}if(typeof q.then=="function")return at(U,O,Cu(q),te);if(q.$$typeof===ee)return at(U,O,Tu(U,q),te);Ru(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(a(U,O.sibling),te=d(O,q),te.return=U,U=te):(a(U,O),te=hf(q,U.mode,te),te.return=U,U=te),_(U)):a(U,O)}return function(U,O,q,te){try{Il=0;var _e=at(U,O,q,te);return Ja=null,_e}catch(ge){if(ge===Za||ge===wu)throw ge;var Qe=In(29,ge,null,U.mode);return Qe.lanes=te,Qe.return=U,Qe}}}var ia=Jy(!0),e0=Jy(!1),Fr=!1;function Sf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function qr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Hr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=_u(n),Py(n,null,a),r}return vu(n,l,r,a),_u(n)}function Ml(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,sl(n,a)}}function xf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Cf=!1;function kl(){if(Cf){var n=Wa;if(n!==null)throw n}}function jl(n,r,a,l){Cf=!1;var d=n.updateQueue;Fr=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var M=S,H=M.next;M.next=null,_===null?f=H:_.next=H,_=M;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=H:S.next=H,Z.lastBaseUpdate=M))}if(f!==null){var ie=d.baseState;_=0,Z=H=M=null,S=f;do{var $=S.lane&-536870913,X=$!==S.lane;if(X?(ze&$)===$:(l&$)===$){$!==0&&$===Xa&&(Cf=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=n,Ae=S;$=r;var at=a;switch(Ae.tag){case 1:if(me=Ae.payload,typeof me=="function"){ie=me.call(at,ie,$);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ae.payload,$=typeof me=="function"?me.call(at,ie,$):me,$==null)break e;ie=A({},ie,$);break e;case 2:Fr=!0}}$=S.callback,$!==null&&(n.flags|=64,X&&(n.flags|=8192),X=d.callbacks,X===null?d.callbacks=[$]:X.push($))}else X={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(H=Z=X,M=ie):Z=Z.next=X,_|=$;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(M=ie),d.baseState=M,d.firstBaseUpdate=H,d.lastBaseUpdate=Z,f===null&&(d.shared.lanes=0),Yr|=_,n.lanes=_,n.memoizedState=ie}}function t0(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function n0(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)t0(a[n],r)}var eo=R(null),Nu=R(0);function i0(n,r){n=pr,oe(Nu,n),oe(eo,r),pr=n|r.baseLanes}function Rf(){oe(Nu,pr),oe(eo,eo.current)}function Nf(){pr=Nu.current,B(eo),B(Nu)}var Dn=R(null),Yn=null;function Gr(n){var r=n.alternate;oe(At,At.current&1),oe(Dn,n),Yn===null&&(r===null||eo.current!==null||r.memoizedState!==null)&&(Yn=n)}function If(n){oe(At,At.current),oe(Dn,n),Yn===null&&(Yn=n)}function r0(n){n.tag===22?(oe(At,At.current),oe(Dn,n),Yn===null&&(Yn=n)):$r()}function $r(){oe(At,At.current),oe(Dn,Dn.current)}function Mn(n){B(Dn),Yn===n&&(Yn=null),B(At)}var At=R(0);function Iu(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vm(a)||Pm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var or=0,De=null,rt=null,Dt=null,Du=!1,to=!1,ra=!1,Mu=0,Ol=0,no=null,$2=0;function vt(){throw Error(s(321))}function Df(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Nn(n[a],r[a]))return!1;return!0}function Mf(n,r,a,l,d,f){return or=f,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=n===null||n.memoizedState===null?B0:Qf,ra=!1,f=a(l,d),ra=!1,to&&(f=a0(r,a,l,d)),s0(n),f}function s0(n){W.H=Ll;var r=rt!==null&&rt.next!==null;if(or=0,Dt=rt=De=null,Du=!1,Ol=0,no=null,r)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&Au(n)&&(Mt=!0))}function a0(n,r,a,l){De=n;var d=0;do{if(to&&(no=null),Ol=0,to=!1,25<=d)throw Error(s(301));if(d+=1,Dt=rt=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}W.H=F0,f=r(a,l)}while(to);return f}function Q2(){var n=W.H,r=n.useState()[0];return r=typeof r.then=="function"?Vl(r):r,n=n.useState()[0],(rt!==null?rt.memoizedState:null)!==n&&(De.flags|=1024),r}function kf(){var n=Mu!==0;return Mu=0,n}function jf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Of(n){if(Du){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Du=!1}or=0,Dt=rt=De=null,to=!1,Ol=Mu=0,no=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?De.memoizedState=Dt=n:Dt=Dt.next=n,Dt}function Tt(){if(rt===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var r=Dt===null?De.memoizedState:Dt.next;if(r!==null)Dt=r,rt=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Dt===null?De.memoizedState=Dt=n:Dt=Dt.next=n}return Dt}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(n){var r=Ol;return Ol+=1,no===null&&(no=[]),n=Xy(no,n,r),r=De,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?B0:Qf),n}function ju(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Vl(n);if(n.$$typeof===ee)return Jt(n)}throw Error(s(438,String(n)))}function Vf(n){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ku(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=V;return r.index++,a}function lr(n,r){return typeof r=="function"?r(n):r}function Ou(n){var r=Tt();return Pf(r,rt,n)}function Pf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}r.baseQueue=d=f,l.pending=null}if(f=n.baseState,d===null)n.memoizedState=f;else{r=d.next;var S=_=null,M=null,H=r,Z=!1;do{var ie=H.lane&-536870913;if(ie!==H.lane?(ze&ie)===ie:(or&ie)===ie){var $=H.revertLane;if($===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ie===Xa&&(Z=!0);else if((or&$)===$){H=H.next,$===Xa&&(Z=!0);continue}else ie={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(S=M=ie,_=f):M=M.next=ie,De.lanes|=$,Yr|=$;ie=H.action,ra&&a(f,ie),f=H.hasEagerState?H.eagerState:a(f,ie)}else $={lane:ie,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(S=M=$,_=f):M=M.next=$,De.lanes|=ie,Yr|=ie;H=H.next}while(H!==null&&H!==r);if(M===null?_=f:M.next=S,!Nn(f,n.memoizedState)&&(Mt=!0,Z&&(a=Wa,a!==null)))throw a;n.memoizedState=f,n.baseState=_,n.baseQueue=M,l.lastRenderedState=f}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Lf(n){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=n(f,_.action),_=_.next;while(_!==d);Nn(f,r.memoizedState)||(Mt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function o0(n,r,a){var l=De,d=Tt(),f=He;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Nn((rt||d).memoizedState,a);if(_&&(d.memoizedState=a,Mt=!0),d=d.queue,Bf(u0.bind(null,l,d,n),[n]),d.getSnapshot!==r||_||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,io(9,{destroy:void 0},c0.bind(null,l,d,a,r),null),ot===null)throw Error(s(349));f||(or&127)!==0||l0(l,r,a)}return a}function l0(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=ku(),De.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function c0(n,r,a,l){r.value=a,r.getSnapshot=l,h0(r)&&d0(n)}function u0(n,r,a){return a(function(){h0(r)&&d0(n)})}function h0(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Nn(n,a)}catch{return!0}}function d0(n){var r=Ys(n,2);r!==null&&An(r,n,2)}function zf(n){var r=pn();if(typeof n=="function"){var a=n;if(n=a(),ra){zn(!0);try{a()}finally{zn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:n},r}function f0(n,r,a,l){return n.baseState=a,Pf(n,rt,typeof l=="function"?l:lr)}function K2(n,r,a,l,d){if(Lu(n))throw Error(s(485));if(n=r.action,n!==null){var f={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};W.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,m0(r,f)):(f.next=a.next,r.pending=a.next=f)}}function m0(n,r){var a=r.action,l=r.payload,d=n.state;if(r.isTransition){var f=W.T,_={};W.T=_;try{var S=a(d,l),M=W.S;M!==null&&M(_,S),p0(n,r,S)}catch(H){Uf(n,r,H)}finally{f!==null&&_.types!==null&&(f.types=_.types),W.T=f}}else try{f=a(d,l),p0(n,r,f)}catch(H){Uf(n,r,H)}}function p0(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){g0(n,r,l)},function(l){return Uf(n,r,l)}):g0(n,r,a)}function g0(n,r,a){r.status="fulfilled",r.value=a,y0(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,m0(n,a)))}function Uf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,y0(r),r=r.next;while(r!==l)}n.action=null}function y0(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function v0(n,r){return r}function _0(n,r){if(He){var a=ot.formState;if(a!==null){e:{var l=De;if(He){if(ut){t:{for(var d=ut,f=Kn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Xn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ut=Xn(d.nextSibling),l=d.data==="F!";break e}}Ur(l)}l=!1}l&&(r=a[0])}}return a=pn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v0,lastRenderedState:r},a.queue=l,a=L0.bind(null,De,l),l.dispatch=a,l=zf(!1),f=$f.bind(null,De,!1,l.queue),l=pn(),d={state:r,dispatch:null,action:n,pending:null},l.queue=d,a=K2.bind(null,De,d,f,a),d.dispatch=a,l.memoizedState=n,[r,a,!1]}function E0(n){var r=Tt();return b0(r,rt,n)}function b0(n,r,a){if(r=Pf(n,r,v0)[0],n=Ou(lr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Vl(r)}catch(_){throw _===Za?wu:_}else l=r;r=Tt();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(De.flags|=2048,io(9,{destroy:void 0},Y2.bind(null,d,a),null)),[l,f,n]}function Y2(n,r){n.action=r}function A0(n){var r=Tt(),a=rt;if(a!==null)return b0(r,a,n);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function io(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=ku(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function T0(){return Tt().memoizedState}function Vu(n,r,a,l){var d=pn();De.flags|=n,d.memoizedState=io(1|r,{destroy:void 0},a,l===void 0?null:l)}function Pu(n,r,a,l){var d=Tt();l=l===void 0?null:l;var f=d.memoizedState.inst;rt!==null&&l!==null&&Df(l,rt.memoizedState.deps)?d.memoizedState=io(r,f,a,l):(De.flags|=n,d.memoizedState=io(1|r,f,a,l))}function S0(n,r){Vu(8390656,8,n,r)}function Bf(n,r){Pu(2048,8,n,r)}function X2(n){De.flags|=4;var r=De.updateQueue;if(r===null)r=ku(),De.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function w0(n){var r=Tt().memoizedState;return X2({ref:r,nextImpl:n}),function(){if((We&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function x0(n,r){return Pu(4,2,n,r)}function C0(n,r){return Pu(4,4,n,r)}function R0(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function N0(n,r,a){a=a!=null?a.concat([n]):null,Pu(4,4,R0.bind(null,r,n),a)}function Ff(){}function I0(n,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Df(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function D0(n,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Df(r,l[1]))return l[0];if(l=n(),ra){zn(!0);try{n()}finally{zn(!1)}}return a.memoizedState=[l,r],l}function qf(n,r,a){return a===void 0||(or&1073741824)!==0&&(ze&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=M1(),De.lanes|=n,Yr|=n,a)}function M0(n,r,a,l){return Nn(a,r)?a:eo.current!==null?(n=qf(n,a,l),Nn(n,r)||(Mt=!0),n):(or&42)===0||(or&1073741824)!==0&&(ze&261930)===0?(Mt=!0,n.memoizedState=a):(n=M1(),De.lanes|=n,Yr|=n,r)}function k0(n,r,a,l,d){var f=ue.p;ue.p=f!==0&&8>f?f:8;var _=W.T,S={};W.T=S,$f(n,!1,r,a);try{var M=d(),H=W.S;if(H!==null&&H(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=G2(M,l);Pl(n,r,Z,On(n))}else Pl(n,r,l,On(n))}catch(ie){Pl(n,r,{then:function(){},status:"rejected",reason:ie},On())}finally{ue.p=f,_!==null&&S.types!==null&&(_.types=S.types),W.T=_}}function W2(){}function Hf(n,r,a,l){if(n.tag!==5)throw Error(s(476));var d=j0(n).queue;k0(n,d,r,ve,a===null?W2:function(){return O0(n),a(l)})}function j0(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:ve},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function O0(n){var r=j0(n);r.next===null&&(r=n.alternate.memoizedState),Pl(n,r.next.queue,{},On())}function Gf(){return Jt(ec)}function V0(){return Tt().memoizedState}function P0(){return Tt().memoizedState}function Z2(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=On();n=qr(a);var l=Hr(r,n,a);l!==null&&(An(l,r,a),Ml(l,r,a)),r={cache:Ef()},n.payload=r;return}r=r.return}}function J2(n,r,a){var l=On();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(n)?z0(r,a):(a=cf(n,r,a,l),a!==null&&(An(a,n,l),U0(a,r,l)))}function L0(n,r,a){var l=On();Pl(n,r,a,l)}function Pl(n,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(n))z0(r,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,S=f(_,a);if(d.hasEagerState=!0,d.eagerState=S,Nn(S,_))return vu(n,r,d,0),ot===null&&yu(),!1}catch{}if(a=cf(n,r,d,l),a!==null)return An(a,n,l),U0(a,r,l),!0}return!1}function $f(n,r,a,l){if(l={lane:2,revertLane:Sm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Lu(n)){if(r)throw Error(s(479))}else r=cf(n,a,l,2),r!==null&&An(r,n,2)}function Lu(n){var r=n.alternate;return n===De||r!==null&&r===De}function z0(n,r){to=Du=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function U0(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,sl(n,a)}}var Ll={readContext:Jt,use:ju,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Ll.useEffectEvent=vt;var B0={readContext:Jt,use:ju,useCallback:function(n,r){return pn().memoizedState=[n,r===void 0?null:r],n},useContext:Jt,useEffect:S0,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Vu(4194308,4,R0.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Vu(4194308,4,n,r)},useInsertionEffect:function(n,r){Vu(4,2,n,r)},useMemo:function(n,r){var a=pn();r=r===void 0?null:r;var l=n();if(ra){zn(!0);try{n()}finally{zn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=pn();if(a!==void 0){var d=a(r);if(ra){zn(!0);try{a(r)}finally{zn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=J2.bind(null,De,n),[l.memoizedState,n]},useRef:function(n){var r=pn();return n={current:n},r.memoizedState=n},useState:function(n){n=zf(n);var r=n.queue,a=L0.bind(null,De,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(n,r){var a=pn();return qf(a,n,r)},useTransition:function(){var n=zf(!1);return n=k0.bind(null,De,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=De,d=pn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ot===null)throw Error(s(349));(ze&127)!==0||l0(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,S0(u0.bind(null,l,f,n),[n]),l.flags|=2048,io(9,{destroy:void 0},c0.bind(null,l,f,a,r),null),a},useId:function(){var n=pn(),r=ot.identifierPrefix;if(He){var a=Ui,l=zi;a=(l&~(1<<32-Et(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Mu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=$2++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Gf,useFormState:_0,useActionState:_0,useOptimistic:function(n){var r=pn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=$f.bind(null,De,!0,a),a.dispatch=r,[n,r]},useMemoCache:Vf,useCacheRefresh:function(){return pn().memoizedState=Z2.bind(null,De)},useEffectEvent:function(n){var r=pn(),a={impl:n};return r.memoizedState=a,function(){if((We&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Qf={readContext:Jt,use:ju,useCallback:I0,useContext:Jt,useEffect:Bf,useImperativeHandle:N0,useInsertionEffect:x0,useLayoutEffect:C0,useMemo:D0,useReducer:Ou,useRef:T0,useState:function(){return Ou(lr)},useDebugValue:Ff,useDeferredValue:function(n,r){var a=Tt();return M0(a,rt.memoizedState,n,r)},useTransition:function(){var n=Ou(lr)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:Vl(n),r]},useSyncExternalStore:o0,useId:V0,useHostTransitionStatus:Gf,useFormState:E0,useActionState:E0,useOptimistic:function(n,r){var a=Tt();return f0(a,rt,n,r)},useMemoCache:Vf,useCacheRefresh:P0};Qf.useEffectEvent=w0;var F0={readContext:Jt,use:ju,useCallback:I0,useContext:Jt,useEffect:Bf,useImperativeHandle:N0,useInsertionEffect:x0,useLayoutEffect:C0,useMemo:D0,useReducer:Lf,useRef:T0,useState:function(){return Lf(lr)},useDebugValue:Ff,useDeferredValue:function(n,r){var a=Tt();return rt===null?qf(a,n,r):M0(a,rt.memoizedState,n,r)},useTransition:function(){var n=Lf(lr)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:Vl(n),r]},useSyncExternalStore:o0,useId:V0,useHostTransitionStatus:Gf,useFormState:A0,useActionState:A0,useOptimistic:function(n,r){var a=Tt();return rt!==null?f0(a,rt,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:P0};F0.useEffectEvent=w0;function Kf(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:A({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Yf={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=On(),d=qr(l);d.payload=r,a!=null&&(d.callback=a),r=Hr(n,d,l),r!==null&&(An(r,n,l),Ml(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=On(),d=qr(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Hr(n,d,l),r!==null&&(An(r,n,l),Ml(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=On(),l=qr(a);l.tag=2,r!=null&&(l.callback=r),r=Hr(n,l,a),r!==null&&(An(r,n,a),Ml(r,n,a))}};function q0(n,r,a,l,d,f,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,_):r.prototype&&r.prototype.isPureReactComponent?!Sl(a,l)||!Sl(d,f):!0}function H0(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Yf.enqueueReplaceState(r,r.state,null)}function sa(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=A({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}function G0(n){gu(n)}function $0(n){console.error(n)}function Q0(n){gu(n)}function zu(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function K0(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Xf(n,r,a){return a=qr(a),a.tag=3,a.payload={element:null},a.callback=function(){zu(n,r)},a}function Y0(n){return n=qr(n),n.tag=3,n}function X0(n,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;n.payload=function(){return d(f)},n.callback=function(){K0(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){K0(r,a,l),typeof d!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function eS(n,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ya(r,a,d,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?Wu():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===xu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),bm(n,l,d)),!1;case 22:return a.flags|=65536,l===xu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),bm(n,l,d)),!1}throw Error(s(435,a.tag))}return bm(n,l,d),Wu(),!1}if(He)return r=Dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==pf&&(n=Error(s(422),{cause:l}),Cl(Gn(n,a)))):(l!==pf&&(r=Error(s(423),{cause:l}),Cl(Gn(r,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Gn(l,a),d=Xf(n.stateNode,l,d),xf(n,d),_t!==4&&(_t=2)),!1;var f=Error(s(520),{cause:l});if(f=Gn(f,a),$l===null?$l=[f]:$l.push(f),_t!==4&&(_t=2),r===null)return!0;l=Gn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=Xf(a.stateNode,l,n),xf(a,n),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xr===null||!Xr.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Y0(d),X0(d,n,a,l),xf(a,d),!1}a=a.return}while(a!==null);return!1}var Wf=Error(s(461)),Mt=!1;function en(n,r,a,l){r.child=n===null?e0(r,null,a,l):ia(r,n.child,a,l)}function W0(n,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Js(r),l=Mf(n,r,a,_,f,d),S=kf(),n!==null&&!Mt?(jf(n,r,d),cr(n,r,d)):(He&&S&&ff(r),r.flags|=1,en(n,r,l,d),r.child)}function Z0(n,r,a,l,d){if(n===null){var f=a.type;return typeof f=="function"&&!uf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,J0(n,r,f,l,d)):(n=Eu(a.type,null,l,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(f=n.child,!sm(n,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(_,l)&&n.ref===r.ref)return cr(n,r,d)}return r.flags|=1,n=ir(f,l),n.ref=r.ref,n.return=r,r.child=n}function J0(n,r,a,l,d){if(n!==null){var f=n.memoizedProps;if(Sl(f,l)&&n.ref===r.ref)if(Mt=!1,r.pendingProps=l=f,sm(n,d))(n.flags&131072)!==0&&(Mt=!0);else return r.lanes=n.lanes,cr(n,r,d)}return Zf(n,r,a,l,d)}function e1(n,r,a,l){var d=l.children,f=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,n!==null){for(l=r.child=n.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,r.child=null;return t1(n,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Su(r,f!==null?f.cachePool:null),f!==null?i0(r,f):Rf(),r0(r);else return l=r.lanes=536870912,t1(n,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Su(r,f.cachePool),i0(r,f),$r(),r.memoizedState=null):(n!==null&&Su(r,null),Rf(),$r());return en(n,r,d,a),r.child}function zl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function t1(n,r,a,l,d){var f=Af();return f=f===null?null:{parent:It._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Su(r,null),Rf(),r0(r),n!==null&&Ya(n,r,l,!0),r.childLanes=d,null}function Uu(n,r){return r=Fu({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function n1(n,r,a){return ia(r,n.child,null,a),n=Uu(r,r.pendingProps),n.flags|=2,Mn(r),r.memoizedState=null,n}function tS(n,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(He){if(l.mode==="hidden")return n=Uu(r,l),r.lanes=536870912,zl(null,n);if(If(r),(n=ut)?(n=mv(n,Kn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Lr!==null?{id:zi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=zy(n),a.return=r,r.child=a,Zt=r,ut=null)):n=null,n===null)throw Ur(r);return r.lanes=536870912,null}return Uu(r,l)}var f=n.memoizedState;if(f!==null){var _=f.dehydrated;if(If(r),d)if(r.flags&256)r.flags&=-257,r=n1(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(Mt||Ya(n,r,a,!1),d=(a&n.childLanes)!==0,Mt||d){if(l=ot,l!==null&&(_=al(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Ys(n,_),An(l,n,_),Wf;Wu(),r=n1(n,r,a)}else n=f.treeContext,ut=Xn(_.nextSibling),Zt=r,He=!0,zr=null,Kn=!1,n!==null&&Fy(r,n),r=Uu(r,l),r.flags|=4096;return r}return n=ir(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Bu(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Zf(n,r,a,l,d){return Js(r),a=Mf(n,r,a,l,void 0,d),l=kf(),n!==null&&!Mt?(jf(n,r,d),cr(n,r,d)):(He&&l&&ff(r),r.flags|=1,en(n,r,a,d),r.child)}function i1(n,r,a,l,d,f){return Js(r),r.updateQueue=null,a=a0(r,l,a,d),s0(n),l=kf(),n!==null&&!Mt?(jf(n,r,f),cr(n,r,f)):(He&&l&&ff(r),r.flags|=1,en(n,r,a,f),r.child)}function r1(n,r,a,l,d){if(Js(r),r.stateNode===null){var f=Ga,_=a.contextType;typeof _=="object"&&_!==null&&(f=Jt(_)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Sf(r),_=a.contextType,f.context=typeof _=="object"&&_!==null?Jt(_):Ga,f.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Kf(r,a,_,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Yf.enqueueReplaceState(f,f.state,null),jl(r,l,f,d),kl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){f=r.stateNode;var S=r.memoizedProps,M=sa(a,S);f.props=M;var H=f.context,Z=a.contextType;_=Ga,typeof Z=="object"&&Z!==null&&(_=Jt(Z));var ie=a.getDerivedStateFromProps;Z=typeof ie=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||H!==_)&&H0(r,f,l,_),Fr=!1;var $=r.memoizedState;f.state=$,jl(r,l,f,d),kl(),H=r.memoizedState,S||$!==H||Fr?(typeof ie=="function"&&(Kf(r,a,ie,l),H=r.memoizedState),(M=Fr||q0(r,a,M,l,$,H,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),f.props=l,f.state=H,f.context=_,l=M):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,wf(n,r),_=r.memoizedProps,Z=sa(a,_),f.props=Z,ie=r.pendingProps,$=f.context,H=a.contextType,M=Ga,typeof H=="object"&&H!==null&&(M=Jt(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==ie||$!==M)&&H0(r,f,l,M),Fr=!1,$=r.memoizedState,f.state=$,jl(r,l,f,d),kl();var X=r.memoizedState;_!==ie||$!==X||Fr||n!==null&&n.dependencies!==null&&Au(n.dependencies)?(typeof S=="function"&&(Kf(r,a,S,l),X=r.memoizedState),(Z=Fr||q0(r,a,Z,l,$,X,M)||n!==null&&n.dependencies!==null&&Au(n.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,M)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),f.props=l,f.state=X,f.context=M,l=Z):(typeof f.componentDidUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),l=!1)}return f=l,Bu(n,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,n!==null&&l?(r.child=ia(r,n.child,null,d),r.child=ia(r,null,a,d)):en(n,r,a,d),r.memoizedState=f.state,n=r.child):n=cr(n,r,d),n}function s1(n,r,a,l){return Ws(),r.flags|=256,en(n,r,a,l),r.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function em(n){return{baseLanes:n,cachePool:Ky()}}function tm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=jn),n}function a1(n,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,_;if((_=f)||(_=n!==null&&n.memoizedState===null?!1:(At.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(He){if(d?Gr(r):$r(),(n=ut)?(n=mv(n,Kn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Lr!==null?{id:zi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=zy(n),a.return=r,r.child=a,Zt=r,ut=null)):n=null,n===null)throw Ur(r);return Pm(n)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,d?($r(),d=r.mode,S=Fu({mode:"hidden",children:S},d),l=Xs(l,d,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=em(a),l.childLanes=tm(n,_,a),r.memoizedState=Jf,zl(null,l)):(Gr(r),nm(r,S))}var M=n.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(f)r.flags&256?(Gr(r),r.flags&=-257,r=im(n,r,a)):r.memoizedState!==null?($r(),r.child=n.child,r.flags|=128,r=null):($r(),S=l.fallback,d=r.mode,l=Fu({mode:"visible",children:l.children},d),S=Xs(S,d,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,ia(r,n.child,null,a),l=r.child,l.memoizedState=em(a),l.childLanes=tm(n,_,a),r.memoizedState=Jf,r=zl(null,l));else if(Gr(r),Pm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,Cl({value:l,source:null,stack:null}),r=im(n,r,a)}else if(Mt||Ya(n,r,a,!1),_=(a&n.childLanes)!==0,Mt||_){if(_=ot,_!==null&&(l=al(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Ys(n,l),An(_,n,l),Wf;Vm(S)||Wu(),r=im(n,r,a)}else Vm(S)?(r.flags|=192,r.child=n.child,r=null):(n=M.treeContext,ut=Xn(S.nextSibling),Zt=r,He=!0,zr=null,Kn=!1,n!==null&&Fy(r,n),r=nm(r,l.children),r.flags|=4096);return r}return d?($r(),S=l.fallback,d=r.mode,M=n.child,H=M.sibling,l=ir(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?S=ir(H,S):(S=Xs(S,d,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,zl(null,l),l=r.child,S=n.child.memoizedState,S===null?S=em(a):(d=S.cachePool,d!==null?(M=It._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Ky(),S={baseLanes:S.baseLanes|a,cachePool:d}),l.memoizedState=S,l.childLanes=tm(n,_,a),r.memoizedState=Jf,zl(n.child,l)):(Gr(r),a=n.child,n=a.sibling,a=ir(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function nm(n,r){return r=Fu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Fu(n,r){return n=In(22,n,null,r),n.lanes=0,n}function im(n,r,a){return ia(r,n.child,null,a),n=nm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function o1(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),vf(n.return,r,a)}function rm(n,r,a,l,d,f){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function l1(n,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=At.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,oe(At,_),en(n,r,l,a),l=He?xl:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&o1(n,a,r);else if(n.tag===19)o1(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&Iu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),rm(r,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Iu(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}rm(r,!0,a,null,f,l);break;case"together":rm(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function cr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Yr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Ya(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ir(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ir(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function sm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Au(n)))}function nS(n,r,a){switch(r.tag){case 3:ct(r,r.stateNode.containerInfo),Br(r,It,n.memoizedState.cache),Ws();break;case 27:case 5:ti(r);break;case 4:ct(r,r.stateNode.containerInfo);break;case 10:Br(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,If(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Gr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?a1(n,r,a):(Gr(r),n=cr(n,r,a),n!==null?n.sibling:null);Gr(r);break;case 19:var d=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ya(n,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return l1(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(At,At.current),l)break;return null;case 22:return r.lanes=0,e1(n,r,a,r.pendingProps);case 24:Br(r,It,n.memoizedState.cache)}return cr(n,r,a)}function c1(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Mt=!0;else{if(!sm(n,a)&&(r.flags&128)===0)return Mt=!1,nS(n,r,a);Mt=(n.flags&131072)!==0}else Mt=!1,He&&(r.flags&1048576)!==0&&By(r,xl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(n=ta(r.elementType),r.type=n,typeof n=="function")uf(n)?(l=sa(n,l),r.tag=1,r=r1(null,r,n,l,a)):(r.tag=0,r=Zf(null,r,n,l,a));else{if(n!=null){var d=n.$$typeof;if(d===J){r.tag=11,r=W0(null,r,n,l,a);break e}else if(d===T){r.tag=14,r=Z0(null,r,n,l,a);break e}}throw r=ke(n)||n,Error(s(306,r,""))}}return r;case 0:return Zf(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=sa(l,r.pendingProps),r1(n,r,l,d,a);case 3:e:{if(ct(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,wf(n,r),jl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Br(r,It,l),l!==f.cache&&_f(r,[It],a,!0),kl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=s1(n,r,l,a);break e}else if(l!==d){d=Gn(Error(s(424)),r),Cl(d),r=s1(n,r,l,a);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,ut=Xn(n.firstChild),Zt=r,He=!0,zr=null,Kn=!0,a=e0(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ws(),l===d){r=cr(n,r,a);break e}en(n,r,l,a)}r=r.child}return r;case 26:return Bu(n,r),n===null?(a=Ev(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,n=r.pendingProps,l=rh(be.current).createElement(a),l[Ct]=r,l[Ht]=n,tn(l,a,n),Rt(l),r.stateNode=l):r.memoizedState=Ev(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ti(r),n===null&&He&&(l=r.stateNode=yv(r.type,r.pendingProps,be.current),Zt=r,Kn=!0,d=ut,es(r.type)?(Lm=d,ut=Xn(l.firstChild)):ut=d),en(n,r,r.pendingProps.children,a),Bu(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&He&&((d=l=ut)&&(l=MS(l,r.type,r.pendingProps,Kn),l!==null?(r.stateNode=l,Zt=r,ut=Xn(l.firstChild),Kn=!1,d=!0):d=!1),d||Ur(r)),ti(r),d=r.type,f=r.pendingProps,_=n!==null?n.memoizedProps:null,l=f.children,km(d,f)?l=null:_!==null&&km(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=Mf(n,r,Q2,null,null,a),ec._currentValue=d),Bu(n,r),en(n,r,l,a),r.child;case 6:return n===null&&He&&((n=a=ut)&&(a=kS(a,r.pendingProps,Kn),a!==null?(r.stateNode=a,Zt=r,ut=null,n=!0):n=!1),n||Ur(r)),null;case 13:return a1(n,r,a);case 4:return ct(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ia(r,null,l,a):en(n,r,l,a),r.child;case 11:return W0(n,r,r.type,r.pendingProps,a);case 7:return en(n,r,r.pendingProps,a),r.child;case 8:return en(n,r,r.pendingProps.children,a),r.child;case 12:return en(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Br(r,r.type,l.value),en(n,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Js(r),d=Jt(d),l=l(d),r.flags|=1,en(n,r,l,a),r.child;case 14:return Z0(n,r,r.type,r.pendingProps,a);case 15:return J0(n,r,r.type,r.pendingProps,a);case 19:return l1(n,r,a);case 31:return tS(n,r,a);case 22:return e1(n,r,a,r.pendingProps);case 24:return Js(r),l=Jt(It),n===null?(d=Af(),d===null&&(d=ot,f=Ef(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},Sf(r),Br(r,It,d)):((n.lanes&a)!==0&&(wf(n,r),jl(r,null,null,a),kl()),d=n.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Br(r,It,l)):(l=f.cache,Br(r,It,l),l!==d.cache&&_f(r,[It],a,!0))),en(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ur(n){n.flags|=4}function am(n,r,a,l,d){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(V1())n.flags|=8192;else throw na=xu,Tf}else n.flags&=-16777217}function u1(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!wv(r))if(V1())n.flags|=8192;else throw na=xu,Tf}function qu(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Yc():536870912,n.lanes|=r,oo|=r)}function Ul(n,r){if(!He)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function iS(n,r,a){var l=r.pendingProps;switch(mf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ar(It),$e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ka(r)?ur(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gf())),ht(r),null;case 26:var d=r.type,f=r.memoizedState;return n===null?(ur(r),f!==null?(ht(r),u1(r,f)):(ht(r),am(r,d,null,l,a))):f?f!==n.memoizedState?(ur(r),ht(r),u1(r,f)):(ht(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&ur(r),ht(r),am(r,d,n,l,a)),null;case 27:if(ni(r),a=be.current,d=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}n=le.current,Ka(r)?qy(r):(n=yv(d,l,a),r.stateNode=n,ur(r))}return ht(r),null;case 5:if(ni(r),d=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(f=le.current,Ka(r))qy(r);else{var _=rh(be.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[Ct]=r,f[Ht]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=f;e:switch(tn(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ur(r)}}return ht(r),am(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&ur(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=be.current,Ka(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,d=Zt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[Ct]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||av(n.nodeValue,a)),n||Ur(r,!0)}else n=rh(n).createTextNode(l),n[Ct]=r,r.stateNode=n}return ht(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(l=Ka(r),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Ct]=r}else Ws(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),n=!1}else a=gf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(Mn(r),r):(Mn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ht(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ka(r),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ct]=r}else Ws(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),d=!1}else d=gf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Mn(r),r):(Mn(r),null)}return Mn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),qu(r,r.updateQueue),ht(r),null);case 4:return $e(),n===null&&Rm(r.stateNode.containerInfo),ht(r),null;case 10:return ar(r.type),ht(r),null;case 19:if(B(At),l=r.memoizedState,l===null)return ht(r),null;if(d=(r.flags&128)!==0,f=l.rendering,f===null)if(d)Ul(l,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(f=Iu(n),f!==null){for(r.flags|=128,Ul(l,!1),n=f.updateQueue,r.updateQueue=n,qu(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Ly(a,n),a=a.sibling;return oe(At,At.current&1|2),He&&rr(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&fn()>Ku&&(r.flags|=128,d=!0,Ul(l,!1),r.lanes=4194304)}else{if(!d)if(n=Iu(f),n!==null){if(r.flags|=128,d=!0,n=n.updateQueue,r.updateQueue=n,qu(r,n),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return ht(r),null}else 2*fn()-l.renderingStartTime>Ku&&a!==536870912&&(r.flags|=128,d=!0,Ul(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(n=l.last,n!==null?n.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=fn(),n.sibling=null,a=At.current,oe(At,d?a&1|2:a&1),He&&rr(r,l.treeForkCount),n):(ht(r),null);case 22:case 23:return Mn(r),Nf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),a=r.updateQueue,a!==null&&qu(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&B(ea),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ar(It),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function rS(n,r){switch(mf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ar(It),$e(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ni(r),null;case 31:if(r.memoizedState!==null){if(Mn(r),r.alternate===null)throw Error(s(340));Ws()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Mn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ws()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return B(At),null;case 4:return $e(),null;case 10:return ar(r.type),null;case 22:case 23:return Mn(r),Nf(),n!==null&&B(ea),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ar(It),null;case 25:return null;default:return null}}function h1(n,r){switch(mf(r),r.tag){case 3:ar(It),$e();break;case 26:case 27:case 5:ni(r);break;case 4:$e();break;case 31:r.memoizedState!==null&&Mn(r);break;case 13:Mn(r);break;case 19:B(At);break;case 10:ar(r.type);break;case 22:case 23:Mn(r),Nf(),n!==null&&B(ea);break;case 24:ar(It)}}function Bl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(S){nt(r,r.return,S)}}function Qr(n,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&n)===n){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,d=r;var M=a,H=S;try{H()}catch(Z){nt(d,M,Z)}}}l=l.next}while(l!==f)}}catch(Z){nt(r,r.return,Z)}}function d1(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{n0(r,a)}catch(l){nt(n,n.return,l)}}}function f1(n,r,a){a.props=sa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,r,l)}}function Fl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){nt(n,r,d)}}function Bi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){nt(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){nt(n,r,d)}else a.current=null}function m1(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){nt(n,n.return,d)}}function om(n,r,a){try{var l=n.stateNode;xS(l,n.type,a,r),l[Ht]=r}catch(d){nt(n,n.return,d)}}function p1(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&es(n.type)||n.tag===4}function lm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||p1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&es(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function cm(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=oi));else if(l!==4&&(l===27&&es(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(cm(n,r,a),n=n.sibling;n!==null;)cm(n,r,a),n=n.sibling}function Hu(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&es(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Hu(n,r,a),n=n.sibling;n!==null;)Hu(n,r,a),n=n.sibling}function g1(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);tn(r,l,a),r[Ct]=n,r[Ht]=a}catch(f){nt(n,n.return,f)}}var hr=!1,kt=!1,um=!1,y1=typeof WeakSet=="function"?WeakSet:Set,$t=null;function sS(n,r){if(n=n.containerInfo,Dm=hh,n=Ny(n),nf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,S=-1,M=-1,H=0,Z=0,ie=n,$=null;t:for(;;){for(var X;ie!==a||d!==0&&ie.nodeType!==3||(S=_+d),ie!==f||l!==0&&ie.nodeType!==3||(M=_+l),ie.nodeType===3&&(_+=ie.nodeValue.length),(X=ie.firstChild)!==null;)$=ie,ie=X;for(;;){if(ie===n)break t;if($===a&&++H===d&&(S=_),$===f&&++Z===l&&(M=_),(X=ie.nextSibling)!==null)break;ie=$,$=ie.parentNode}ie=X}a=S===-1||M===-1?null:{start:S,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mm={focusedElem:n,selectionRange:a},hh=!1,$t=r;$t!==null;)if(r=$t,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,$t=n;else for(;$t!==null;){switch(r=$t,f=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)d=n[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=sa(a.type,d);n=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){nt(a,a.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Om(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Om(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,$t=n;break}$t=r.return}}function v1(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fr(n,a),l&4&&Bl(5,a);break;case 1:if(fr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(_){nt(a,a.return,_)}else{var d=sa(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){nt(a,a.return,_)}}l&64&&d1(a),l&512&&Fl(a,a.return);break;case 3:if(fr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{n0(n,r)}catch(_){nt(a,a.return,_)}}break;case 27:r===null&&l&4&&g1(a);case 26:case 5:fr(n,a),r===null&&l&4&&m1(a),l&512&&Fl(a,a.return);break;case 12:fr(n,a);break;case 31:fr(n,a),l&4&&b1(n,a);break;case 13:fr(n,a),l&4&&A1(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=mS.bind(null,a),jS(n,a))));break;case 22:if(l=a.memoizedState!==null||hr,!l){r=r!==null&&r.memoizedState!==null||kt,d=hr;var f=kt;hr=l,(kt=r)&&!f?mr(n,a,(a.subtreeFlags&8772)!==0):fr(n,a),hr=d,kt=f}break;case 30:break;default:fr(n,a)}}function _1(n){var r=n.alternate;r!==null&&(n.alternate=null,_1(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Da(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,vn=!1;function dr(n,r,a){for(a=a.child;a!==null;)E1(n,r,a),a=a.sibling}function E1(n,r,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ii,a)}catch{}switch(a.tag){case 26:kt||Bi(a,r),dr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:kt||Bi(a,r);var l=pt,d=vn;es(a.type)&&(pt=a.stateNode,vn=!1),dr(n,r,a),Wl(a.stateNode),pt=l,vn=d;break;case 5:kt||Bi(a,r);case 6:if(l=pt,d=vn,pt=null,dr(n,r,a),pt=l,vn=d,pt!==null)if(vn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(f){nt(a,r,f)}else try{pt.removeChild(a.stateNode)}catch(f){nt(a,r,f)}break;case 18:pt!==null&&(vn?(n=pt,dv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),go(n)):dv(pt,a.stateNode));break;case 4:l=pt,d=vn,pt=a.stateNode.containerInfo,vn=!0,dr(n,r,a),pt=l,vn=d;break;case 0:case 11:case 14:case 15:Qr(2,a,r),kt||Qr(4,a,r),dr(n,r,a);break;case 1:kt||(Bi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&f1(a,r,l)),dr(n,r,a);break;case 21:dr(n,r,a);break;case 22:kt=(l=kt)||a.memoizedState!==null,dr(n,r,a),kt=l;break;default:dr(n,r,a)}}function b1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{go(n)}catch(a){nt(r,r.return,a)}}}function A1(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{go(n)}catch(a){nt(r,r.return,a)}}function aS(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new y1),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new y1),r;default:throw Error(s(435,n.tag))}}function Gu(n,r){var a=aS(n);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=pS.bind(null,n,l);l.then(d,d)}})}function _n(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=n,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(es(S.type)){pt=S.stateNode,vn=!1;break e}break;case 5:pt=S.stateNode,vn=!1;break e;case 3:case 4:pt=S.stateNode.containerInfo,vn=!0;break e}S=S.return}if(pt===null)throw Error(s(160));E1(f,_,d),pt=null,vn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)T1(r,n),r=r.sibling}var fi=null;function T1(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(r,n),En(n),l&4&&(Qr(3,n,n.return),Bl(3,n),Qr(5,n,n.return));break;case 1:_n(r,n),En(n),l&512&&(kt||a===null||Bi(a,a.return)),l&64&&hr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=fi;if(_n(r,n),En(n),l&512&&(kt||a===null||Bi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Ci]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),tn(f,l,a),f[Ct]=n,Rt(f),l=f;break e;case"link":var _=Tv("link","href",d).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}f=d.createElement(l),tn(f,l,a),d.head.appendChild(f);break;case"meta":if(_=Tv("meta","content",d).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}f=d.createElement(l),tn(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ct]=n,Rt(f),l=f}n.stateNode=l}else Sv(d,n.type,n.stateNode);else n.stateNode=Av(d,l,n.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Sv(d,n.type,n.stateNode):Av(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&om(n,n.memoizedProps,a.memoizedProps)}break;case 27:_n(r,n),En(n),l&512&&(kt||a===null||Bi(a,a.return)),a!==null&&l&4&&om(n,n.memoizedProps,a.memoizedProps);break;case 5:if(_n(r,n),En(n),l&512&&(kt||a===null||Bi(a,a.return)),n.flags&32){d=n.stateNode;try{yn(d,"")}catch(me){nt(n,n.return,me)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,om(n,d,a!==null?a.memoizedProps:d)),l&1024&&(um=!0);break;case 6:if(_n(r,n),En(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(me){nt(n,n.return,me)}}break;case 3:if(oh=null,d=fi,fi=sh(r.containerInfo),_n(r,n),fi=d,En(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{go(r.containerInfo)}catch(me){nt(n,n.return,me)}um&&(um=!1,S1(n));break;case 4:l=fi,fi=sh(n.stateNode.containerInfo),_n(r,n),En(n),fi=l;break;case 12:_n(r,n),En(n);break;case 31:_n(r,n),En(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gu(n,l)));break;case 13:_n(r,n),En(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qu=fn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gu(n,l)));break;case 22:d=n.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,H=hr,Z=kt;if(hr=H||d,kt=Z||M,_n(r,n),kt=Z,hr=H,En(n),l&8192)e:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||M||hr||kt||aa(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){M=a=r;try{if(f=M.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=M.stateNode;var ie=M.memoizedProps.style,$=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(me){nt(M,M.return,me)}}}else if(r.tag===6){if(a===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(me){nt(M,M.return,me)}}}else if(r.tag===18){if(a===null){M=r;try{var X=M.stateNode;d?fv(X,!0):fv(M.stateNode,!1)}catch(me){nt(M,M.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gu(n,a))));break;case 19:_n(r,n),En(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gu(n,l)));break;case 30:break;case 21:break;default:_n(r,n),En(n)}}function En(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(p1(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=lm(n);Hu(n,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(yn(_,""),a.flags&=-33);var S=lm(n);Hu(n,S,_);break;case 3:case 4:var M=a.stateNode.containerInfo,H=lm(n);cm(n,H,M);break;default:throw Error(s(161))}}catch(Z){nt(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function S1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;S1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function fr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)v1(n,r.alternate,r),r=r.sibling}function aa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Qr(4,r,r.return),aa(r);break;case 1:Bi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&f1(r,r.return,a),aa(r);break;case 27:Wl(r.stateNode);case 26:case 5:Bi(r,r.return),aa(r);break;case 22:r.memoizedState===null&&aa(r);break;case 30:aa(r);break;default:aa(r)}n=n.sibling}}function mr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=n,f=r,_=f.flags;switch(f.tag){case 0:case 11:case 15:mr(d,f,a),Bl(4,f);break;case 1:if(mr(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){nt(l,l.return,H)}if(l=f,d=l.updateQueue,d!==null){var S=l.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)t0(M[d],S)}catch(H){nt(l,l.return,H)}}a&&_&64&&d1(f),Fl(f,f.return);break;case 27:g1(f);case 26:case 5:mr(d,f,a),a&&l===null&&_&4&&m1(f),Fl(f,f.return);break;case 12:mr(d,f,a);break;case 31:mr(d,f,a),a&&_&4&&b1(d,f);break;case 13:mr(d,f,a),a&&_&4&&A1(d,f);break;case 22:f.memoizedState===null&&mr(d,f,a),Fl(f,f.return);break;case 30:break;default:mr(d,f,a)}r=r.sibling}}function hm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Rl(a))}function dm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Rl(n))}function mi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)w1(n,r,a,l),r=r.sibling}function w1(n,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:mi(n,r,a,l),d&2048&&Bl(9,r);break;case 1:mi(n,r,a,l);break;case 3:mi(n,r,a,l),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Rl(n)));break;case 12:if(d&2048){mi(n,r,a,l),n=r.stateNode;try{var f=r.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){nt(r,r.return,M)}}else mi(n,r,a,l);break;case 31:mi(n,r,a,l);break;case 13:mi(n,r,a,l);break;case 23:break;case 22:f=r.stateNode,_=r.alternate,r.memoizedState!==null?f._visibility&2?mi(n,r,a,l):ql(n,r):f._visibility&2?mi(n,r,a,l):(f._visibility|=2,ro(n,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&hm(_,r);break;case 24:mi(n,r,a,l),d&2048&&dm(r.alternate,r);break;default:mi(n,r,a,l)}}function ro(n,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=n,_=r,S=a,M=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:ro(f,_,S,M,d),Bl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?ro(f,_,S,M,d):ql(f,_):(Z._visibility|=2,ro(f,_,S,M,d)),d&&H&2048&&hm(_.alternate,_);break;case 24:ro(f,_,S,M,d),d&&H&2048&&dm(_.alternate,_);break;default:ro(f,_,S,M,d)}r=r.sibling}}function ql(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,d=l.flags;switch(l.tag){case 22:ql(a,l),d&2048&&hm(l.alternate,l);break;case 24:ql(a,l),d&2048&&dm(l.alternate,l);break;default:ql(a,l)}r=r.sibling}}var Hl=8192;function so(n,r,a){if(n.subtreeFlags&Hl)for(n=n.child;n!==null;)x1(n,r,a),n=n.sibling}function x1(n,r,a){switch(n.tag){case 26:so(n,r,a),n.flags&Hl&&n.memoizedState!==null&&$S(a,fi,n.memoizedState,n.memoizedProps);break;case 5:so(n,r,a);break;case 3:case 4:var l=fi;fi=sh(n.stateNode.containerInfo),so(n,r,a),fi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,so(n,r,a),Hl=l):so(n,r,a));break;default:so(n,r,a)}}function C1(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Gl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$t=l,N1(l,n)}C1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)R1(n),n=n.sibling}function R1(n){switch(n.tag){case 0:case 11:case 15:Gl(n),n.flags&2048&&Qr(9,n,n.return);break;case 3:Gl(n);break;case 12:Gl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,$u(n)):Gl(n);break;default:Gl(n)}}function $u(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$t=l,N1(l,n)}C1(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Qr(8,r,r.return),$u(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,$u(r));break;default:$u(r)}n=n.sibling}}function N1(n,r){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:Qr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=n;$t!==null;){l=$t;var d=l.sibling,f=l.return;if(_1(l),l===a){$t=null;break e}if(d!==null){d.return=f,$t=d;break e}$t=f}}}var oS={getCacheForType:function(n){var r=Jt(It),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return Jt(It).controller.signal}},lS=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,Ve=null,ze=0,tt=0,kn=null,Kr=!1,ao=!1,fm=!1,pr=0,_t=0,Yr=0,oa=0,mm=0,jn=0,oo=0,$l=null,bn=null,pm=!1,Qu=0,I1=0,Ku=1/0,Yu=null,Xr=null,Ut=0,Wr=null,lo=null,gr=0,gm=0,ym=null,D1=null,Ql=0,vm=null;function On(){return(We&2)!==0&&ze!==0?ze&-ze:W.T!==null?Sm():Xc()}function M1(){if(jn===0)if((ze&536870912)===0||He){var n=js;js<<=1,(js&3932160)===0&&(js=262144),jn=n}else jn=536870912;return n=Dn.current,n!==null&&(n.flags|=32),jn}function An(n,r,a){(n===ot&&(tt===2||tt===9)||n.cancelPendingCommit!==null)&&(co(n,0),Zr(n,ze,jn,!1)),Os(n,a),((We&2)===0||n!==ot)&&(n===ot&&((We&2)===0&&(oa|=a),_t===4&&Zr(n,ze,jn,!1)),Fi(n))}function k1(n,r,a){if((We&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&n.expiredLanes)===0||ri(n,r),d=l?hS(n,r):Em(n,r,!0),f=l;do{if(d===0){ao&&!l&&Zr(n,r,0,!1);break}else{if(a=n.current.alternate,f&&!cS(a)){d=Em(n,r,!1),f=!1;continue}if(d===2){if(f=r,n.errorRecoveryDisabledLanes&f)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=n;d=$l;var M=S.current.memoizedState.isDehydrated;if(M&&(co(S,_).flags|=256),_=Em(S,_,!1),_!==2){if(fm&&!M){S.errorRecoveryDisabledLanes|=f,oa|=f,d=4;break e}f=bn,bn=d,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){co(n,0),Zr(n,r,0,!0);break}e:{switch(l=n,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Zr(l,r,jn,!Kr);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Qu+300-fn(),10<d)){if(Zr(l,r,jn,!Kr),Si(l,0,!0)!==0)break e;gr=r,l.timeoutHandle=uv(j1.bind(null,l,a,bn,Yu,pm,r,jn,oa,oo,Kr,f,"Throttled",-0,0),d);break e}j1(l,a,bn,Yu,pm,r,jn,oa,oo,Kr,f,null,-0,0)}}break}while(!0);Fi(n)}function j1(n,r,a,l,d,f,_,S,M,H,Z,ie,$,X){if(n.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},x1(r,f,ie);var me=(f&62914560)===f?Qu-fn():(f&4194048)===f?I1-fn():0;if(me=QS(ie,me),me!==null){gr=f,n.cancelPendingCommit=me(F1.bind(null,n,r,f,a,l,d,_,S,M,Z,ie,null,$,X)),Zr(n,f,_,!H);return}}F1(n,r,f,a,l,d,_,S,M)}function cS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Nn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zr(n,r,a,l){r&=~mm,r&=~oa,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var d=r;0<d;){var f=31-Et(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&Vs(n,a,r)}function Xu(){return(We&6)===0?(Kl(0),!1):!0}function _m(){if(Ve!==null){if(tt===0)var n=Ve.return;else n=Ve,sr=Zs=null,Of(n),Ja=null,Il=0,n=Ve;for(;n!==null;)h1(n.alternate,n),n=n.return;Ve=null}}function co(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,NS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),gr=0,_m(),ot=n,Ve=a=ir(n.current,null),ze=r,tt=0,kn=null,Kr=!1,ao=ri(n,r),fm=!1,oo=jn=mm=oa=Yr=_t=0,bn=$l=null,pm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var d=31-Et(l),f=1<<d;r|=n[d],l&=~f}return pr=r,yu(),a}function O1(n,r){De=null,W.H=Ll,r===Za||r===wu?(r=Wy(),tt=3):r===Tf?(r=Wy(),tt=4):tt=r===Wf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,Ve===null&&(_t=1,zu(n,Gn(r,n.current)))}function V1(){var n=Dn.current;return n===null?!0:(ze&4194048)===ze?Yn===null:(ze&62914560)===ze||(ze&536870912)!==0?n===Yn:!1}function P1(){var n=W.H;return W.H=Ll,n===null?Ll:n}function L1(){var n=W.A;return W.A=oS,n}function Wu(){_t=4,Kr||(ze&4194048)!==ze&&Dn.current!==null||(ao=!0),(Yr&134217727)===0&&(oa&134217727)===0||ot===null||Zr(ot,ze,jn,!1)}function Em(n,r,a){var l=We;We|=2;var d=P1(),f=L1();(ot!==n||ze!==r)&&(Yu=null,co(n,r)),r=!1;var _=_t;e:do try{if(tt!==0&&Ve!==null){var S=Ve,M=kn;switch(tt){case 8:_m(),_=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(r=!0);var H=tt;if(tt=0,kn=null,uo(n,S,M,H),a&&ao){_=0;break e}break;default:H=tt,tt=0,kn=null,uo(n,S,M,H)}}uS(),_=_t;break}catch(Z){O1(n,Z)}while(!0);return r&&n.shellSuspendCounter++,sr=Zs=null,We=l,W.H=d,W.A=f,Ve===null&&(ot=null,ze=0,yu()),_}function uS(){for(;Ve!==null;)z1(Ve)}function hS(n,r){var a=We;We|=2;var l=P1(),d=L1();ot!==n||ze!==r?(Yu=null,Ku=fn()+500,co(n,r)):ao=ri(n,r);e:do try{if(tt!==0&&Ve!==null){r=Ve;var f=kn;t:switch(tt){case 1:tt=0,kn=null,uo(n,r,f,1);break;case 2:case 9:if(Yy(f)){tt=0,kn=null,U1(r);break}r=function(){tt!==2&&tt!==9||ot!==n||(tt=7),Fi(n)},f.then(r,r);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Yy(f)?(tt=0,kn=null,U1(r)):(tt=0,kn=null,uo(n,r,f,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var S=Ve;if(_?wv(_):S.stateNode.complete){tt=0,kn=null;var M=S.sibling;if(M!==null)Ve=M;else{var H=S.return;H!==null?(Ve=H,Zu(H)):Ve=null}break t}}tt=0,kn=null,uo(n,r,f,5);break;case 6:tt=0,kn=null,uo(n,r,f,6);break;case 8:_m(),_t=6;break e;default:throw Error(s(462))}}dS();break}catch(Z){O1(n,Z)}while(!0);return sr=Zs=null,W.H=l,W.A=d,We=a,Ve!==null?0:(ot=null,ze=0,yu(),_t)}function dS(){for(;Ve!==null&&!Yd();)z1(Ve)}function z1(n){var r=c1(n.alternate,n,pr);n.memoizedProps=n.pendingProps,r===null?Zu(n):Ve=r}function U1(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=i1(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=i1(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Of(r);default:h1(a,r),r=Ve=Ly(r,pr),r=c1(a,r,pr)}n.memoizedProps=n.pendingProps,r===null?Zu(n):Ve=r}function uo(n,r,a,l){sr=Zs=null,Of(r),Ja=null,Il=0;var d=r.return;try{if(eS(n,d,r,a,ze)){_t=1,zu(n,Gn(a,n.current)),Ve=null;return}}catch(f){if(d!==null)throw Ve=d,f;_t=1,zu(n,Gn(a,n.current)),Ve=null;return}r.flags&32768?(He||l===1?n=!0:ao||(ze&536870912)!==0?n=!1:(Kr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),B1(r,n)):Zu(r)}function Zu(n){var r=n;do{if((r.flags&32768)!==0){B1(r,Kr);return}n=r.return;var a=iS(r.alternate,r,pr);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);_t===0&&(_t=5)}function B1(n,r){do{var a=rS(n.alternate,n);if(a!==null){a.flags&=32767,Ve=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=a}while(n!==null);_t=6,Ve=null}function F1(n,r,a,l,d,f,_,S,M){n.cancelPendingCommit=null;do Ju();while(Ut!==0);if((We&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=lf,Zd(n,a,f,_,S,M),n===ot&&(Ve=ot=null,ze=0),lo=r,Wr=n,gr=a,gm=f,ym=d,D1=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,gS(Rr,function(){return Q1(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,d=ue.p,ue.p=2,_=We,We|=4;try{sS(n,r,a)}finally{We=_,ue.p=d,W.T=l}}Ut=1,q1(),H1(),G1()}}function q1(){if(Ut===1){Ut=0;var n=Wr,r=lo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var d=We;We|=4;try{T1(r,n);var f=Mm,_=Ny(n.containerInfo),S=f.focusedElem,M=f.selectionRange;if(_!==S&&S&&S.ownerDocument&&Ry(S.ownerDocument.documentElement,S)){if(M!==null&&nf(S)){var H=M.start,Z=M.end;if(Z===void 0&&(Z=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(Z,S.value.length);else{var ie=S.ownerDocument||document,$=ie&&ie.defaultView||window;if($.getSelection){var X=$.getSelection(),me=S.textContent.length,Ae=Math.min(M.start,me),at=M.end===void 0?Ae:Math.min(M.end,me);!X.extend&&Ae>at&&(_=at,at=Ae,Ae=_);var U=Cy(S,Ae),O=Cy(S,at);if(U&&O&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==O.node||X.focusOffset!==O.offset)){var q=ie.createRange();q.setStart(U.node,U.offset),X.removeAllRanges(),Ae>at?(X.addRange(q),X.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),X.addRange(q))}}}}for(ie=[],X=S;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var te=ie[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}hh=!!Dm,Mm=Dm=null}finally{We=d,ue.p=l,W.T=a}}n.current=r,Ut=2}}function H1(){if(Ut===2){Ut=0;var n=Wr,r=lo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var d=We;We|=4;try{v1(n,r.alternate,r)}finally{We=d,ue.p=l,W.T=a}}Ut=3}}function G1(){if(Ut===4||Ut===3){Ut=0,qc();var n=Wr,r=lo,a=gr,l=D1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,lo=Wr=null,$1(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Xr=null),Ji(a),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ii,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,d=ue.p,ue.p=2,W.T=null;try{for(var f=n.onRecoverableError,_=0;_<l.length;_++){var S=l[_];f(S.value,{componentStack:S.stack})}}finally{W.T=r,ue.p=d}}(gr&3)!==0&&Ju(),Fi(n),d=n.pendingLanes,(a&261930)!==0&&(d&42)!==0?n===vm?Ql++:(Ql=0,vm=n):Ql=0,Kl(0)}}function $1(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Rl(r)))}function Ju(){return q1(),H1(),G1(),Q1()}function Q1(){if(Ut!==5)return!1;var n=Wr,r=gm;gm=0;var a=Ji(gr),l=W.T,d=ue.p;try{ue.p=32>a?32:a,W.T=null,a=ym,ym=null;var f=Wr,_=gr;if(Ut=0,lo=Wr=null,gr=0,(We&6)!==0)throw Error(s(331));var S=We;if(We|=4,R1(f.current),w1(f,f.current,_,a),We=S,Kl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ii,f)}catch{}return!0}finally{ue.p=d,W.T=l,$1(n,r)}}function K1(n,r,a){r=Gn(a,r),r=Xf(n.stateNode,r,2),n=Hr(n,r,2),n!==null&&(Os(n,2),Fi(n))}function nt(n,r,a){if(n.tag===3)K1(n,n,a);else for(;r!==null;){if(r.tag===3){K1(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){n=Gn(a,n),a=Y0(2),l=Hr(r,a,2),l!==null&&(X0(a,l,r,n),Os(l,2),Fi(l));break}}r=r.return}}function bm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new lS;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(fm=!0,d.add(a),n=fS.bind(null,n,r,a),r.then(n,n))}function fS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ot===n&&(ze&a)===a&&(_t===4||_t===3&&(ze&62914560)===ze&&300>fn()-Qu?(We&2)===0&&co(n,0):mm|=a,oo===ze&&(oo=0)),Fi(n)}function Y1(n,r){r===0&&(r=Yc()),n=Ys(n,r),n!==null&&(Os(n,r),Fi(n))}function mS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Y1(n,a)}function pS(n,r){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Y1(n,a)}function gS(n,r){return zt(n,r)}var eh=null,ho=null,Am=!1,th=!1,Tm=!1,Jr=0;function Fi(n){n!==ho&&n.next===null&&(ho===null?eh=ho=n:ho=ho.next=n),th=!0,Am||(Am=!0,vS())}function Kl(n,r){if(!Tm&&th){Tm=!0;do for(var a=!1,l=eh;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Et(42|n)+1)-1,f&=d&~(_&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,J1(l,f))}else f=ze,f=Si(l,l===ot?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ri(l,f)||(a=!0,J1(l,f));l=l.next}while(a);Tm=!1}}function yS(){X1()}function X1(){th=Am=!1;var n=0;Jr!==0&&RS()&&(n=Jr);for(var r=fn(),a=null,l=eh;l!==null;){var d=l.next,f=W1(l,r);f===0?(l.next=null,a===null?eh=d:a.next=d,d===null&&(ho=a)):(a=l,(n!==0||(f&3)!==0)&&(th=!0)),l=d}Ut!==0&&Ut!==5||Kl(n),Jr!==0&&(Jr=0)}function W1(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var _=31-Et(f),S=1<<_,M=d[_];M===-1?((S&a)===0||(S&l)!==0)&&(d[_]=Wd(S,r)):M<=r&&(n.expiredLanes|=S),f&=~S}if(r=ot,a=ze,a=Si(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(tt===2||tt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ri(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Cr(l),Ji(a)){case 2:case 8:a=rl;break;case 32:a=Rr;break;case 268435456:a=Hc;break;default:a=Rr}return l=Z1.bind(null,n),a=zt(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Cr(l),n.callbackPriority=2,n.callbackNode=null,2}function Z1(n,r){if(Ut!==0&&Ut!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Ju()&&n.callbackNode!==a)return null;var l=ze;return l=Si(n,n===ot?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(k1(n,l,r),W1(n,fn()),n.callbackNode!=null&&n.callbackNode===a?Z1.bind(null,n):null)}function J1(n,r){if(Ju())return null;k1(n,r,!0)}function vS(){IS(function(){(We&6)!==0?zt(il,yS):X1()})}function Sm(){if(Jr===0){var n=Xa;n===0&&(n=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),Jr=n}return Jr}function ev(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Oa(""+n)}function tv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function _S(n,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=ev((d[Ht]||null).action),_=l.submitter;_&&(r=(r=_[Ht]||null)?ev(r.formAction):_.getAttribute("formAction"),r!==null&&(f=r,_=null));var S=new Oi("action","action",null,l,d);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var M=_?tv(d,_):new FormData(d);Hf(a,{pending:!0,data:M,method:d.method,action:f},null,M)}}else typeof f=="function"&&(S.preventDefault(),M=_?tv(d,_):new FormData(d),Hf(a,{pending:!0,data:M,method:d.method,action:f},f,M))},currentTarget:d}]})}}for(var wm=0;wm<of.length;wm++){var xm=of[wm],ES=xm.toLowerCase(),bS=xm[0].toUpperCase()+xm.slice(1);di(ES,"on"+bS)}di(My,"onAnimationEnd"),di(ky,"onAnimationIteration"),di(jy,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(P2,"onTransitionRun"),di(L2,"onTransitionStart"),di(z2,"onTransitionCancel"),di(Oy,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function nv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],M=S.instance,H=S.currentTarget;if(S=S.listener,M!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=H;try{f(d)}catch(Z){gu(Z)}d.currentTarget=null,f=M}else for(_=0;_<l.length;_++){if(S=l[_],M=S.instance,H=S.currentTarget,S=S.listener,M!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=H;try{f(d)}catch(Z){gu(Z)}d.currentTarget=null,f=M}}}}function Pe(n,r){var a=r[Ia];a===void 0&&(a=r[Ia]=new Set);var l=n+"__bubble";a.has(l)||(iv(r,n,2,!1),a.add(l))}function Cm(n,r,a){var l=0;r&&(l|=4),iv(a,n,l,r)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Rm(n){if(!n[nh]){n[nh]=!0,ol.forEach(function(a){a!=="selectionchange"&&(AS.has(a)||Cm(a,!1,n),Cm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[nh]||(r[nh]=!0,Cm("selectionchange",!1,r))}}function iv(n,r,a,l){switch(Mv(r)){case 2:var d=XS;break;case 8:d=WS;break;default:d=qm}a=d.bind(null,r,a,n),d=void 0,!Bs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function Nm(n,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===d)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;S!==null;){if(_=Ri(S),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=f=_;continue e}S=S.parentNode}}l=l.return}jr(function(){var H=f,Z=Bn(a),ie=[];e:{var $=Vy.get(n);if($!==void 0){var X=Oi,me=n;switch(n){case"keypress":if(qs(a)===0)break e;case"keydown":case"keyup":X=fu;break;case"focusin":me="focus",X=Gs;break;case"focusout":me="blur",X=Gs;break;case"beforeblur":case"afterblur":X=Gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=El;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case My:case ky:case jy:X=au;break;case Oy:X=C;break;case"scroll":case"scrollend":X=_l;break;case"wheel":X=K;break;case"copy":case"cut":case"paste":X=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=nr;break;case"toggle":case"beforetoggle":X=Ie}var Ae=(r&4)!==0,at=!Ae&&(n==="scroll"||n==="scrollend"),U=Ae?$!==null?$+"Capture":null:$;Ae=[];for(var O=H,q;O!==null;){var te=O;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||U===null||(te=li(O,U),te!=null&&Ae.push(Xl(O,te,q))),at)break;O=O.return}0<Ae.length&&($=new X($,me,null,a,Z),ie.push({event:$,listeners:Ae}))}}if((r&7)===0){e:{if($=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",$&&a!==gl&&(me=a.relatedTarget||a.fromElement)&&(Ri(me)||me[xi]))break e;if((X||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,X?(me=a.relatedTarget||a.toElement,X=H,me=me?Ri(me):null,me!==null&&(at=c(me),Ae=me.tag,me!==at||Ae!==5&&Ae!==27&&Ae!==6)&&(me=null)):(X=null,me=H),X!==me)){if(Ae=El,te="onMouseLeave",U="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=nr,te="onPointerLeave",U="onPointerEnter",O="pointer"),at=X==null?$:Cn(X),q=me==null?$:Cn(me),$=new Ae(te,O+"leave",X,a,Z),$.target=at,$.relatedTarget=q,te=null,Ri(Z)===H&&(Ae=new Ae(U,O+"enter",me,a,Z),Ae.target=q,Ae.relatedTarget=at,te=Ae),at=te,X&&me)t:{for(Ae=TS,U=X,O=me,q=0,te=U;te;te=Ae(te))q++;te=0;for(var _e=O;_e;_e=Ae(_e))te++;for(;0<q-te;)U=Ae(U),q--;for(;0<te-q;)O=Ae(O),te--;for(;q--;){if(U===O||O!==null&&U===O.alternate){Ae=U;break t}U=Ae(U),O=Ae(O)}Ae=null}else Ae=null;X!==null&&rv(ie,$,X,Ae,!1),me!==null&&at!==null&&rv(ie,at,me,Ae,!0)}}e:{if($=H?Cn(H):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var Qe=by;else if(_y($))if(Ay)Qe=j2;else{Qe=M2;var ge=D2}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?H&&ja(H.elementType)&&(Qe=by):Qe=k2;if(Qe&&(Qe=Qe(n,H))){Ey(ie,Qe,a,Z);break e}ge&&ge(n,$,H),n==="focusout"&&H&&$.type==="number"&&H.memoizedProps.value!=null&&fl($,"number",$.value)}switch(ge=H?Cn(H):window,n){case"focusin":(_y(ge)||ge.contentEditable==="true")&&(Fa=ge,rf=H,wl=null);break;case"focusout":wl=rf=Fa=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Iy(ie,a,Z);break;case"selectionchange":if(V2)break;case"keydown":case"keyup":Iy(ie,a,Z)}var Me;if(Xe)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ba?$s(n,a)&&(Ue="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Li&&a.locale!=="ko"&&(Ba||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ba&&(Me=vl()):(ji=Z,yl="value"in ji?ji.value:ji.textContent,Ba=!0)),ge=ih(H,Ue),0<ge.length&&(Ue=new Pi(Ue,n,null,a,Z),ie.push({event:Ue,listeners:ge}),Me?Ue.data=Me:(Me=Ua(a),Me!==null&&(Ue.data=Me)))),(Me=qn?C2(n,a):R2(n,a))&&(Ue=ih(H,"onBeforeInput"),0<Ue.length&&(ge=new Pi("onBeforeInput","beforeinput",null,a,Z),ie.push({event:ge,listeners:Ue}),ge.data=Me)),_S(ie,n,H,a,Z)}nv(ie,r)})}function Xl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function ih(n,r){for(var a=r+"Capture",l=[];n!==null;){var d=n,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=li(n,a),d!=null&&l.unshift(Xl(n,d,f)),d=li(n,r),d!=null&&l.push(Xl(n,d,f))),n.tag===3)return l;n=n.return}return[]}function TS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function rv(n,r,a,l,d){for(var f=r._reactName,_=[];a!==null&&a!==l;){var S=a,M=S.alternate,H=S.stateNode;if(S=S.tag,M!==null&&M===l)break;S!==5&&S!==26&&S!==27||H===null||(M=H,d?(H=li(a,f),H!=null&&_.unshift(Xl(a,H,M))):d||(H=li(a,f),H!=null&&_.push(Xl(a,H,M)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var SS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function sv(n){return(typeof n=="string"?n:""+n).replace(SS,`
`).replace(wS,"")}function av(n,r){return r=sv(r),sv(n)===r}function st(n,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||yn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&yn(n,""+l);break;case"className":Rn(n,"class",l);break;case"tabIndex":Rn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(n,a,l);break;case"style":pl(n,l,f);break;case"data":if(r!=="object"){Rn(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Oa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&st(n,r,"name",d.name,d,null),st(n,r,"formEncType",d.formEncType,d,null),st(n,r,"formMethod",d.formMethod,d,null),st(n,r,"formTarget",d.formTarget,d,null)):(st(n,r,"encType",d.encType,d,null),st(n,r,"method",d.method,d,null),st(n,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Oa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=oi);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Oa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Ma(n,"popover",l);break;case"xlinkActuate":Nt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ma(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=iu.get(a)||a,Ma(n,a,l))}}function Im(n,r,a,l,d,f){switch(a){case"style":pl(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?yn(n,l):(typeof l=="number"||typeof l=="bigint")&&yn(n,""+l);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ll.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=n[Ht]||null,f=f!=null?f[a]:null,typeof f=="function"&&n.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ma(n,a,l)}}}function tn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(n,r,f,_,a,null)}}d&&st(n,r,"srcSet",a.srcSet,a,null),l&&st(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var S=f=_=d=null,M=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":d=Z;break;case"type":_=Z;break;case"checked":M=Z;break;case"defaultChecked":H=Z;break;case"value":f=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:st(n,r,l,Z,a,null)}}eu(n,f,S,M,H,_,d,!1);return;case"select":Pe("invalid",n),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:st(n,r,d,S,a,null)}r=f,a=_,n.multiple=!!l,r!=null?Ir(n,!!l,r,!1):a!=null&&Ir(n,!!l,a,!0);return;case"textarea":Pe("invalid",n),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":d=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:st(n,r,_,S,a,null)}Dr(n,l,d,f);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":st(n,r,M,l,a,null));return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Pe(Yl[l],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(n,r,H,l,a,null)}return;default:if(ja(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Im(n,r,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&st(n,r,S,l,a,null))}function xS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,S=null,M=null,H=null,Z=null;for(X in a){var ie=a[X];if(a.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=ie;default:l.hasOwnProperty(X)||st(n,r,X,null,l,ie)}}for(var $ in l){var X=l[$];if(ie=a[$],l.hasOwnProperty($)&&(X!=null||ie!=null))switch($){case"type":f=X;break;case"name":d=X;break;case"checked":H=X;break;case"defaultChecked":Z=X;break;case"value":_=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ie&&st(n,r,$,X,l,ie)}}ka(n,_,S,M,H,Z,f,d);return;case"select":X=_=S=$=null;for(f in a)if(M=a[f],a.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":X=M;default:l.hasOwnProperty(f)||st(n,r,f,null,l,M)}for(d in l)if(f=l[d],M=a[d],l.hasOwnProperty(d)&&(f!=null||M!=null))switch(d){case"value":$=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==M&&st(n,r,d,f,l,M)}r=S,a=_,l=X,$!=null?Ir(n,!!a,$,!1):!!l!=!!a&&(r!=null?Ir(n,!!a,r,!0):Ir(n,!!a,a?[]:"",!1));return;case"textarea":X=$=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:st(n,r,S,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":$=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&st(n,r,_,d,l,f)}tu(n,$,X);return;case"option":for(var me in a)$=a[me],a.hasOwnProperty(me)&&$!=null&&!l.hasOwnProperty(me)&&(me==="selected"?n.selected=!1:st(n,r,me,null,l,$));for(M in l)$=l[M],X=a[M],l.hasOwnProperty(M)&&$!==X&&($!=null||X!=null)&&(M==="selected"?n.selected=$&&typeof $!="function"&&typeof $!="symbol":st(n,r,M,$,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)$=a[Ae],a.hasOwnProperty(Ae)&&$!=null&&!l.hasOwnProperty(Ae)&&st(n,r,Ae,null,l,$);for(H in l)if($=l[H],X=a[H],l.hasOwnProperty(H)&&$!==X&&($!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:st(n,r,H,$,l,X)}return;default:if(ja(r)){for(var at in a)$=a[at],a.hasOwnProperty(at)&&$!==void 0&&!l.hasOwnProperty(at)&&Im(n,r,at,void 0,l,$);for(Z in l)$=l[Z],X=a[Z],!l.hasOwnProperty(Z)||$===X||$===void 0&&X===void 0||Im(n,r,Z,$,l,X);return}}for(var U in a)$=a[U],a.hasOwnProperty(U)&&$!=null&&!l.hasOwnProperty(U)&&st(n,r,U,null,l,$);for(ie in l)$=l[ie],X=a[ie],!l.hasOwnProperty(ie)||$===X||$==null&&X==null||st(n,r,ie,$,l,X)}function ov(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,S=d.duration;if(f&&S&&ov(_)){for(_=0,S=d.responseEnd,l+=1;l<a.length;l++){var M=a[l],H=M.startTime;if(H>S)break;var Z=M.transferSize,ie=M.initiatorType;Z&&ov(ie)&&(M=M.responseEnd,_+=Z*(M<S?1:(S-H)/(M-H)))}if(--l,r+=8*(f+_)/(d.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Dm=null,Mm=null;function rh(n){return n.nodeType===9?n:n.ownerDocument}function lv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function km(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var jm=null;function RS(){var n=window.event;return n&&n.type==="popstate"?n===jm?!1:(jm=n,!0):(jm=null,!1)}var uv=typeof setTimeout=="function"?setTimeout:void 0,NS=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,IS=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(n){return hv.resolve(null).then(n).catch(DS)}:uv;function DS(n){setTimeout(function(){throw n})}function es(n){return n==="head"}function dv(n,r){var a=r,l=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(d),go(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Wl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Wl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,S=f.nodeName;f[Ci]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Wl(n.ownerDocument.body);a=d}while(a);go(r)}function fv(n,r){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Om(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Om(a),Da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function MS(n,r,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ci])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=Xn(n.nextSibling),n===null)break}return null}function kS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Xn(n.nextSibling),n===null))return null;return n}function mv(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Xn(n.nextSibling),n===null))return null;return n}function Vm(n){return n.data==="$?"||n.data==="$~"}function Pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function jS(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Xn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Lm=null;function pv(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return Xn(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function gv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function yv(n,r,a){switch(r=rh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Wl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Da(n)}var Wn=new Map,vv=new Set;function sh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var yr=ue.d;ue.d={f:OS,r:VS,D:PS,C:LS,L:zS,m:US,X:FS,S:BS,M:qS};function OS(){var n=yr.f(),r=Xu();return n||r}function VS(n){var r=Un(n);r!==null&&r.tag===5&&r.type==="form"?O0(r):yr.r(n)}var fo=typeof document>"u"?null:document;function _v(n,r,a){var l=fo;if(l&&typeof r=="string"&&r){var d=gn(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),vv.has(d)||(vv.add(d),n={rel:n,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),tn(r,"link",n),Rt(r),l.head.appendChild(r)))}}function PS(n){yr.D(n),_v("dns-prefetch",n,null)}function LS(n,r){yr.C(n,r),_v("preconnect",n,r)}function zS(n,r,a){yr.L(n,r,a);var l=fo;if(l&&n&&r){var d='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+gn(a.imageSizes)+'"]')):d+='[href="'+gn(n)+'"]';var f=d;switch(r){case"style":f=mo(n);break;case"script":f=po(n)}Wn.has(f)||(n=A({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Wn.set(f,n),l.querySelector(d)!==null||r==="style"&&l.querySelector(Zl(f))||r==="script"&&l.querySelector(Jl(f))||(r=l.createElement("link"),tn(r,"link",n),Rt(r),l.head.appendChild(r)))}}function US(n,r){yr.m(n,r);var a=fo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(n)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=po(n)}if(!Wn.has(f)&&(n=A({rel:"modulepreload",href:n},r),Wn.set(f,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(f)))return}l=a.createElement("link"),tn(l,"link",n),Rt(l),a.head.appendChild(l)}}}function BS(n,r,a){yr.S(n,r,a);var l=fo;if(l&&n){var d=Ni(l).hoistableStyles,f=mo(n);r=r||"default";var _=d.get(f);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Zl(f)))S.loading=5;else{n=A({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Wn.get(f))&&zm(n,a);var M=_=l.createElement("link");Rt(M),tn(M,"link",n),M._p=new Promise(function(H,Z){M.onload=H,M.onerror=Z}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ah(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},d.set(f,_)}}}function FS(n,r){yr.X(n,r);var a=fo;if(a&&n){var l=Ni(a).hoistableScripts,d=po(n),f=l.get(d);f||(f=a.querySelector(Jl(d)),f||(n=A({src:n,async:!0},r),(r=Wn.get(d))&&Um(n,r),f=a.createElement("script"),Rt(f),tn(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function qS(n,r){yr.M(n,r);var a=fo;if(a&&n){var l=Ni(a).hoistableScripts,d=po(n),f=l.get(d);f||(f=a.querySelector(Jl(d)),f||(n=A({src:n,async:!0,type:"module"},r),(r=Wn.get(d))&&Um(n,r),f=a.createElement("script"),Rt(f),tn(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Ev(n,r,a,l){var d=(d=be.current)?sh(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=mo(a.href),a=Ni(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=mo(a.href);var f=Ni(d).hoistableStyles,_=f.get(n);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,_),(f=d.querySelector(Zl(n)))&&!f._p&&(_.instance=f,_.state.loading=5),Wn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(n,a),f||HS(d,n,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=po(a),a=Ni(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function mo(n){return'href="'+gn(n)+'"'}function Zl(n){return'link[rel="stylesheet"]['+n+"]"}function bv(n){return A({},n,{"data-precedence":n.precedence,precedence:null})}function HS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),tn(r,"link",a),Rt(r),n.head.appendChild(r))}function po(n){return'[src="'+gn(n)+'"]'}function Jl(n){return"script[async]"+n}function Av(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+gn(a.href)+'"]');if(l)return r.instance=l,Rt(l),l;var d=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Rt(l),tn(l,"style",d),ah(l,a.precedence,n),r.instance=l;case"stylesheet":d=mo(a.href);var f=n.querySelector(Zl(d));if(f)return r.state.loading|=4,r.instance=f,Rt(f),f;l=bv(a),(d=Wn.get(d))&&zm(l,d),f=(n.ownerDocument||n).createElement("link"),Rt(f);var _=f;return _._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),tn(f,"link",l),r.state.loading|=4,ah(f,a.precedence,n),r.instance=f;case"script":return f=po(a.src),(d=n.querySelector(Jl(f)))?(r.instance=d,Rt(d),d):(l=a,(d=Wn.get(f))&&(l=A({},a),Um(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),Rt(d),tn(d,"link",l),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ah(l,a.precedence,n));return r.instance}function ah(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)f=S;else if(f!==d)break}f?f.parentNode.insertBefore(n,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function zm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Um(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var oh=null;function Tv(n,r,a){if(oh===null){var l=new Map,d=oh=new Map;d.set(a,l)}else d=oh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var f=a[d];if(!(f[Ci]||f[Ct]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(r)||"";_=n+_;var S=l.get(_);S?S.push(f):l.set(_,[f])}}return l}function Sv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function GS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function wv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function $S(n,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=mo(l.href),f=r.querySelector(Zl(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=lh.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=f,Rt(f);return}f=r.ownerDocument||r,l=bv(l),(d=Wn.get(d))&&zm(l,d),f=f.createElement("link"),Rt(f);var _=f;_._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),tn(f,"link",l),a.instance=f}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=lh.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var Bm=0;function QS(n,r){return n.stylesheets&&n.count===0&&uh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&uh(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4+r);0<n.imgBytes&&Bm===0&&(Bm=62500*CS());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&uh(n,n.stylesheets),n.unsuspend)){var f=n.unsuspend;n.unsuspend=null,f()}},(n.imgBytes>Bm?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ch=null;function uh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ch=new Map,r.forEach(KS,n),ch=null,lh.call(n))}function KS(n,r){if(!(r.state.loading&4)){var a=ch.get(n);if(a)var l=a.get(null);else{a=new Map,ch.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=r.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=lh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var ec={$$typeof:ee,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function YS(n,r,a,l,d,f,_,S,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function xv(n,r,a,l,d,f,_,S,M,H,Z,ie){return n=new YS(n,r,a,_,M,H,Z,ie,S),r=1,f===!0&&(r|=24),f=In(3,null,null,r),n.current=f,f.stateNode=n,r=Ef(),r.refCount++,n.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Sf(f),n}function Cv(n){return n?(n=Ga,n):Ga}function Rv(n,r,a,l,d,f){d=Cv(d),l.context===null?l.context=d:l.pendingContext=d,l=qr(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Hr(n,l,r),a!==null&&(An(a,n,r),Ml(a,n,r))}function Nv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Fm(n,r){Nv(n,r),(n=n.alternate)&&Nv(n,r)}function Iv(n){if(n.tag===13||n.tag===31){var r=Ys(n,67108864);r!==null&&An(r,n,67108864),Fm(n,67108864)}}function Dv(n){if(n.tag===13||n.tag===31){var r=On();r=Ps(r);var a=Ys(n,r);a!==null&&An(a,n,r),Fm(n,r)}}var hh=!0;function XS(n,r,a,l){var d=W.T;W.T=null;var f=ue.p;try{ue.p=2,qm(n,r,a,l)}finally{ue.p=f,W.T=d}}function WS(n,r,a,l){var d=W.T;W.T=null;var f=ue.p;try{ue.p=8,qm(n,r,a,l)}finally{ue.p=f,W.T=d}}function qm(n,r,a,l){if(hh){var d=Hm(l);if(d===null)Nm(n,r,l,dh,a),kv(n,l);else if(JS(d,n,r,a,l))l.stopPropagation();else if(kv(n,l),r&4&&-1<ZS.indexOf(n)){for(;d!==null;){var f=Un(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Ti(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var M=1<<31-Et(_);S.entanglements[1]|=M,_&=~M}Fi(f),(We&6)===0&&(Ku=fn()+500,Kl(0))}}break;case 31:case 13:S=Ys(f,2),S!==null&&An(S,f,2),Xu(),Fm(f,2)}if(f=Hm(l),f===null&&Nm(n,r,l,dh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Nm(n,r,l,null,a)}}function Hm(n){return n=Bn(n),Gm(n)}var dh=null;function Gm(n){if(dh=null,n=Ri(n),n!==null){var r=c(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=u(r),n!==null)return n;n=null}else if(a===31){if(n=m(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return dh=n,null}function Mv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case il:return 2;case rl:return 8;case Rr:case Xd:return 32;case Hc:return 268435456;default:return 32}default:return 32}}var $m=!1,ts=null,ns=null,is=null,tc=new Map,nc=new Map,rs=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(n,r){switch(n){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":tc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(r.pointerId)}}function ic(n,r,a,l,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Un(r),r!==null&&Iv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function JS(n,r,a,l,d){switch(r){case"focusin":return ts=ic(ts,n,r,a,l,d),!0;case"dragenter":return ns=ic(ns,n,r,a,l,d),!0;case"mouseover":return is=ic(is,n,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return tc.set(f,ic(tc.get(f)||null,n,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,nc.set(f,ic(nc.get(f)||null,n,r,a,l,d)),!0}return!1}function jv(n){var r=Ri(n.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){n.blockedOn=r,si(n.priority,function(){Dv(a)});return}}else if(r===31){if(r=m(a),r!==null){n.blockedOn=r,si(n.priority,function(){Dv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Hm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);gl=l,a.target.dispatchEvent(l),gl=null}else return r=Un(a),r!==null&&Iv(r),n.blockedOn=a,!1;r.shift()}return!0}function Ov(n,r,a){fh(n)&&a.delete(r)}function ew(){$m=!1,ts!==null&&fh(ts)&&(ts=null),ns!==null&&fh(ns)&&(ns=null),is!==null&&fh(is)&&(is=null),tc.forEach(Ov),nc.forEach(Ov)}function mh(n,r){n.blockedOn===r&&(n.blockedOn=null,$m||($m=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ew)))}var ph=null;function Vv(n){ph!==n&&(ph=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ph===n&&(ph=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],d=n[r+2];if(typeof l!="function"){if(Gm(l||a)===null)continue;break}var f=Un(a);f!==null&&(n.splice(r,3),r-=3,Hf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function go(n){function r(M){return mh(M,n)}ts!==null&&mh(ts,n),ns!==null&&mh(ns,n),is!==null&&mh(is,n),tc.forEach(r),nc.forEach(r);for(var a=0;a<rs.length;a++){var l=rs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)jv(a),a.blockedOn===null&&rs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[Ht]||null;if(typeof f=="function")_||Vv(a);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[Ht]||null)S=_.formAction;else if(Gm(d)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Vv(a)}}}function Pv(){function n(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Qm(n){this._internalRoot=n}gh.prototype.render=Qm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=On();Rv(a,l,n,r,null,null)},gh.prototype.unmount=Qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Rv(n.current,2,null,n,null,null),Xu(),r[xi]=null}};function gh(n){this._internalRoot=n}gh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Xc();n={blockedOn:null,target:n,priority:r};for(var a=0;a<rs.length&&r!==0&&r<rs[a].priority;a++);rs.splice(a,0,n),a===0&&jv(n)}};var Lv=e.version;if(Lv!=="19.2.3")throw Error(s(527,Lv,"19.2.3"));ue.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=y(r),n=n!==null?E(n):null,n=n===null?null:n.stateNode,n};var tw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{ii=yh.inject(tw),Xt=yh}catch{}}return sc.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",d=G0,f=$0,_=Q0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=xv(n,1,!1,null,null,a,l,null,d,f,_,Pv),n[xi]=r.current,Rm(n),new Qm(r)},sc.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,d="",f=G0,_=$0,S=Q0,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),r=xv(n,1,!0,r,a??null,l,d,M,f,_,S,Pv),r.context=Cv(null),a=r.current,l=On(),l=Ps(l),d=qr(l),d.callback=null,Hr(a,d,l),a=l,r.current.lanes=a,Os(r,a),Fi(r),n[xi]=r.current,Rm(n),new gh(r)},sc.version="19.2.3",sc}var Kv;function hw(){if(Kv)return Xm.exports;Kv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xm.exports=uw(),Xm.exports}var dw=hw();const Yv=i=>{let e;const t=new Set,s=(y,E)=>{const A=typeof y=="function"?y(e):y;if(!Object.is(A,e)){const w=e;e=E??(typeof A!="object"||A===null)?A:Object.assign({},e,A),t.forEach(N=>N(e,w))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>g,subscribe:y=>(t.add(y),()=>t.delete(y))},g=e=i(s,o,m);return m},fw=(i=>i?Yv(i):Yv),mw=i=>i;function pw(i,e=mw){const t=Bt.useSyncExternalStore(i.subscribe,Bt.useCallback(()=>e(i.getState()),[i,e]),Bt.useCallback(()=>e(i.getInitialState()),[i,e]));return Bt.useDebugValue(t),t}const gw=i=>{const e=fw(i),t=s=>pw(e,s);return Object.assign(t,e),t},yw=(i=>gw);function vw(i,e){let t;try{t=i()}catch{return}return{getItem:o=>{var c;const u=g=>g===null?null:JSON.parse(g,void 0),m=(c=t.getItem(o))!=null?c:null;return m instanceof Promise?m.then(u):u(m)},setItem:(o,c)=>t.setItem(o,JSON.stringify(c,void 0)),removeItem:o=>t.removeItem(o)}}const Tp=i=>e=>{try{const t=i(e);return t instanceof Promise?t:{then(s){return Tp(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return Tp(s)(t)}}}},_w=(i,e)=>(t,s,o)=>{let c={storage:vw(()=>localStorage),partialize:P=>P,version:0,merge:(P,Q)=>({...Q,...P}),...e},u=!1;const m=new Set,g=new Set;let y=c.storage;if(!y)return i((...P)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),t(...P)},s,o);const E=()=>{const P=c.partialize({...s()});return y.setItem(c.name,{state:P,version:c.version})},A=o.setState;o.setState=(P,Q)=>(A(P,Q),E());const w=i((...P)=>(t(...P),E()),s,o);o.getInitialState=()=>w;let N;const j=()=>{var P,Q;if(!y)return;u=!1,m.forEach(G=>{var ee;return G((ee=s())!=null?ee:w)});const se=((Q=c.onRehydrateStorage)==null?void 0:Q.call(c,(P=s())!=null?P:w))||void 0;return Tp(y.getItem.bind(y))(c.name).then(G=>{if(G)if(typeof G.version=="number"&&G.version!==c.version){if(c.migrate){const ee=c.migrate(G.state,G.version);return ee instanceof Promise?ee.then(J=>[!0,J]):[!0,ee]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,G.state];return[!1,void 0]}).then(G=>{var ee;const[J,Y]=G;if(N=c.merge(Y,(ee=s())!=null?ee:w),t(N,!0),J)return E()}).then(()=>{se?.(N,void 0),N=s(),u=!0,g.forEach(G=>G(N))}).catch(G=>{se?.(void 0,G)})};return o.persist={setOptions:P=>{c={...c,...P},P.storage&&(y=P.storage)},clearStorage:()=>{y?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>j(),hasHydrated:()=>u,onHydrate:P=>(m.add(P),()=>{m.delete(P)}),onFinishHydration:P=>(g.add(P),()=>{g.delete(P)})},c.skipHydration||j(),N||w},Ew=_w;function br(i){return Array.isArray?Array.isArray(i):cb(i)==="[object Array]"}function bw(i){if(typeof i=="string")return i;let e=i+"";return e=="0"&&1/i==-1/0?"-0":e}function Aw(i){return i==null?"":bw(i)}function Gi(i){return typeof i=="string"}function ob(i){return typeof i=="number"}function Tw(i){return i===!0||i===!1||Sw(i)&&cb(i)=="[object Boolean]"}function lb(i){return typeof i=="object"}function Sw(i){return lb(i)&&i!==null}function Pn(i){return i!=null}function ep(i){return!i.trim().length}function cb(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}const ww="Incorrect 'index' type",xw=i=>`Invalid value for key ${i}`,Cw=i=>`Pattern length exceeds max of ${i}.`,Rw=i=>`Missing ${i} property in key`,Nw=i=>`Property 'weight' in key '${i}' must be a positive integer`,Xv=Object.prototype.hasOwnProperty;class Iw{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(s=>{let o=ub(s);this._keys.push(o),this._keyMap[o.id]=o,t+=o.weight}),this._keys.forEach(s=>{s.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ub(i){let e=null,t=null,s=null,o=1,c=null;if(Gi(i)||br(i))s=i,e=Wv(i),t=Sp(i);else{if(!Xv.call(i,"name"))throw new Error(Rw("name"));const u=i.name;if(s=u,Xv.call(i,"weight")&&(o=i.weight,o<=0))throw new Error(Nw(u));e=Wv(u),t=Sp(u),c=i.getFn}return{path:e,id:t,weight:o,src:s,getFn:c}}function Wv(i){return br(i)?i:i.split(".")}function Sp(i){return br(i)?i.join("."):i}function Dw(i,e){let t=[],s=!1;const o=(c,u,m)=>{if(Pn(c))if(!u[m])t.push(c);else{let g=u[m];const y=c[g];if(!Pn(y))return;if(m===u.length-1&&(Gi(y)||ob(y)||Tw(y)))t.push(Aw(y));else if(br(y)){s=!0;for(let E=0,A=y.length;E<A;E+=1)o(y[E],u,m+1)}else u.length&&o(y,u,m+1)}};return o(i,Gi(e)?e.split("."):e,0),s?t:t[0]}const Mw={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},kw={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(i,e)=>i.score===e.score?i.idx<e.idx?-1:1:i.score<e.score?-1:1},jw={location:0,threshold:.6,distance:100},Ow={useExtendedSearch:!1,getFn:Dw,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var we={...kw,...Mw,...jw,...Ow};const Vw=/[^ ]+/g;function Pw(i=1,e=3){const t=new Map,s=Math.pow(10,e);return{get(o){const c=o.match(Vw).length;if(t.has(c))return t.get(c);const u=1/Math.pow(c,.5*i),m=parseFloat(Math.round(u*s)/s);return t.set(c,m),m},clear(){t.clear()}}}class fg{constructor({getFn:e=we.getFn,fieldNormWeight:t=we.fieldNormWeight}={}){this.norm=Pw(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,s)=>{this._keysMap[t.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Gi(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();Gi(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,s=this.size();t<s;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Pn(e)||ep(e))return;let s={v:e,i:t,n:this.norm.get(e)};this.records.push(s)}_addObject(e,t){let s={i:t,$:{}};this.keys.forEach((o,c)=>{let u=o.getFn?o.getFn(e):this.getFn(e,o.path);if(Pn(u)){if(br(u)){let m=[];const g=[{nestedArrIndex:-1,value:u}];for(;g.length;){const{nestedArrIndex:y,value:E}=g.pop();if(Pn(E))if(Gi(E)&&!ep(E)){let A={v:E,i:y,n:this.norm.get(E)};m.push(A)}else br(E)&&E.forEach((A,w)=>{g.push({nestedArrIndex:w,value:A})})}s.$[c]=m}else if(Gi(u)&&!ep(u)){let m={v:u,n:this.norm.get(u)};s.$[c]=m}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function hb(i,e,{getFn:t=we.getFn,fieldNormWeight:s=we.fieldNormWeight}={}){const o=new fg({getFn:t,fieldNormWeight:s});return o.setKeys(i.map(ub)),o.setSources(e),o.create(),o}function Lw(i,{getFn:e=we.getFn,fieldNormWeight:t=we.fieldNormWeight}={}){const{keys:s,records:o}=i,c=new fg({getFn:e,fieldNormWeight:t});return c.setKeys(s),c.setIndexRecords(o),c}function vh(i,{errors:e=0,currentLocation:t=0,expectedLocation:s=0,distance:o=we.distance,ignoreLocation:c=we.ignoreLocation}={}){const u=e/i.length;if(c)return u;const m=Math.abs(s-t);return o?u+m/o:m?1:u}function zw(i=[],e=we.minMatchCharLength){let t=[],s=-1,o=-1,c=0;for(let u=i.length;c<u;c+=1){let m=i[c];m&&s===-1?s=c:!m&&s!==-1&&(o=c-1,o-s+1>=e&&t.push([s,o]),s=-1)}return i[c-1]&&c-s>=e&&t.push([s,c-1]),t}const ca=32;function Uw(i,e,t,{location:s=we.location,distance:o=we.distance,threshold:c=we.threshold,findAllMatches:u=we.findAllMatches,minMatchCharLength:m=we.minMatchCharLength,includeMatches:g=we.includeMatches,ignoreLocation:y=we.ignoreLocation}={}){if(e.length>ca)throw new Error(Cw(ca));const E=e.length,A=i.length,w=Math.max(0,Math.min(s,A));let N=c,j=w;const P=m>1||g,Q=P?Array(A):[];let se;for(;(se=i.indexOf(e,j))>-1;){let T=vh(e,{currentLocation:se,expectedLocation:w,distance:o,ignoreLocation:y});if(N=Math.min(T,N),j=se+E,P){let x=0;for(;x<E;)Q[se+x]=1,x+=1}}j=-1;let G=[],ee=1,J=E+A;const Y=1<<E-1;for(let T=0;T<E;T+=1){let x=0,I=J;for(;x<I;)vh(e,{errors:T,currentLocation:w+I,expectedLocation:w,distance:o,ignoreLocation:y})<=N?x=I:J=I,I=Math.floor((J-x)/2+x);J=I;let V=Math.max(1,w-I+1),k=u?A:Math.min(w+I,A)+E,z=Array(k+2);z[k+1]=(1<<T)-1;for(let ke=k;ke>=V;ke-=1){let Ye=ke-1,W=t[i.charAt(Ye)];if(P&&(Q[Ye]=+!!W),z[ke]=(z[ke+1]<<1|1)&W,T&&(z[ke]|=(G[ke+1]|G[ke])<<1|1|G[ke+1]),z[ke]&Y&&(ee=vh(e,{errors:T,currentLocation:Ye,expectedLocation:w,distance:o,ignoreLocation:y}),ee<=N)){if(N=ee,j=Ye,j<=w)break;V=Math.max(1,2*w-j)}}if(vh(e,{errors:T+1,currentLocation:w,expectedLocation:w,distance:o,ignoreLocation:y})>N)break;G=z}const L={isMatch:j>=0,score:Math.max(.001,ee)};if(P){const T=zw(Q,m);T.length?g&&(L.indices=T):L.isMatch=!1}return L}function Bw(i){let e={};for(let t=0,s=i.length;t<s;t+=1){const o=i.charAt(t);e[o]=(e[o]||0)|1<<s-t-1}return e}const qh=String.prototype.normalize?(i=>i.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(i=>i);class db{constructor(e,{location:t=we.location,threshold:s=we.threshold,distance:o=we.distance,includeMatches:c=we.includeMatches,findAllMatches:u=we.findAllMatches,minMatchCharLength:m=we.minMatchCharLength,isCaseSensitive:g=we.isCaseSensitive,ignoreDiacritics:y=we.ignoreDiacritics,ignoreLocation:E=we.ignoreLocation}={}){if(this.options={location:t,threshold:s,distance:o,includeMatches:c,findAllMatches:u,minMatchCharLength:m,isCaseSensitive:g,ignoreDiacritics:y,ignoreLocation:E},e=g?e:e.toLowerCase(),e=y?qh(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const A=(N,j)=>{this.chunks.push({pattern:N,alphabet:Bw(N),startIndex:j})},w=this.pattern.length;if(w>ca){let N=0;const j=w%ca,P=w-j;for(;N<P;)A(this.pattern.substr(N,ca),N),N+=ca;if(j){const Q=w-ca;A(this.pattern.substr(Q),Q)}}else A(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:s,includeMatches:o}=this.options;if(e=t?e:e.toLowerCase(),e=s?qh(e):e,this.pattern===e){let P={isMatch:!0,score:0};return o&&(P.indices=[[0,e.length-1]]),P}const{location:c,distance:u,threshold:m,findAllMatches:g,minMatchCharLength:y,ignoreLocation:E}=this.options;let A=[],w=0,N=!1;this.chunks.forEach(({pattern:P,alphabet:Q,startIndex:se})=>{const{isMatch:G,score:ee,indices:J}=Uw(e,P,Q,{location:c+se,distance:u,threshold:m,findAllMatches:g,minMatchCharLength:y,includeMatches:o,ignoreLocation:E});G&&(N=!0),w+=ee,G&&J&&(A=[...A,...J])});let j={isMatch:N,score:N?w/this.chunks.length:1};return N&&o&&(j.indices=A),j}}class Cs{constructor(e){this.pattern=e}static isMultiMatch(e){return Zv(e,this.multiRegex)}static isSingleMatch(e){return Zv(e,this.singleRegex)}search(){}}function Zv(i,e){const t=i.match(e);return t?t[1]:null}class Fw extends Cs{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class qw extends Cs{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class Hw extends Cs{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Gw extends Cs{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class $w extends Cs{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Qw extends Cs{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class fb extends Cs{constructor(e,{location:t=we.location,threshold:s=we.threshold,distance:o=we.distance,includeMatches:c=we.includeMatches,findAllMatches:u=we.findAllMatches,minMatchCharLength:m=we.minMatchCharLength,isCaseSensitive:g=we.isCaseSensitive,ignoreDiacritics:y=we.ignoreDiacritics,ignoreLocation:E=we.ignoreLocation}={}){super(e),this._bitapSearch=new db(e,{location:t,threshold:s,distance:o,includeMatches:c,findAllMatches:u,minMatchCharLength:m,isCaseSensitive:g,ignoreDiacritics:y,ignoreLocation:E})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class mb extends Cs{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,s;const o=[],c=this.pattern.length;for(;(s=e.indexOf(this.pattern,t))>-1;)t=s+c,o.push([s,t-1]);const u=!!o.length;return{isMatch:u,score:u?0:1,indices:o}}}const wp=[Fw,mb,Hw,Gw,Qw,$w,qw,fb],Jv=wp.length,Kw=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Yw="|";function Xw(i,e={}){return i.split(Yw).map(t=>{let s=t.trim().split(Kw).filter(c=>c&&!!c.trim()),o=[];for(let c=0,u=s.length;c<u;c+=1){const m=s[c];let g=!1,y=-1;for(;!g&&++y<Jv;){const E=wp[y];let A=E.isMultiMatch(m);A&&(o.push(new E(A,e)),g=!0)}if(!g)for(y=-1;++y<Jv;){const E=wp[y];let A=E.isSingleMatch(m);if(A){o.push(new E(A,e));break}}}return o})}const Ww=new Set([fb.type,mb.type]);class Zw{constructor(e,{isCaseSensitive:t=we.isCaseSensitive,ignoreDiacritics:s=we.ignoreDiacritics,includeMatches:o=we.includeMatches,minMatchCharLength:c=we.minMatchCharLength,ignoreLocation:u=we.ignoreLocation,findAllMatches:m=we.findAllMatches,location:g=we.location,threshold:y=we.threshold,distance:E=we.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:s,includeMatches:o,minMatchCharLength:c,findAllMatches:m,ignoreLocation:u,location:g,threshold:y,distance:E},e=t?e:e.toLowerCase(),e=s?qh(e):e,this.pattern=e,this.query=Xw(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:o,ignoreDiacritics:c}=this.options;e=o?e:e.toLowerCase(),e=c?qh(e):e;let u=0,m=[],g=0;for(let y=0,E=t.length;y<E;y+=1){const A=t[y];m.length=0,u=0;for(let w=0,N=A.length;w<N;w+=1){const j=A[w],{isMatch:P,indices:Q,score:se}=j.search(e);if(P){if(u+=1,g+=se,s){const G=j.constructor.type;Ww.has(G)?m=[...m,...Q]:m.push(Q)}}else{g=0,u=0,m.length=0;break}}if(u){let w={isMatch:!0,score:g/u};return s&&(w.indices=m),w}}return{isMatch:!1,score:1}}}const xp=[];function Jw(...i){xp.push(...i)}function Cp(i,e){for(let t=0,s=xp.length;t<s;t+=1){let o=xp[t];if(o.condition(i,e))return new o(i,e)}return new db(i,e)}const Hh={AND:"$and",OR:"$or"},Rp={PATH:"$path",PATTERN:"$val"},Np=i=>!!(i[Hh.AND]||i[Hh.OR]),ex=i=>!!i[Rp.PATH],tx=i=>!br(i)&&lb(i)&&!Np(i),e_=i=>({[Hh.AND]:Object.keys(i).map(e=>({[e]:i[e]}))});function pb(i,e,{auto:t=!0}={}){const s=o=>{let c=Object.keys(o);const u=ex(o);if(!u&&c.length>1&&!Np(o))return s(e_(o));if(tx(o)){const g=u?o[Rp.PATH]:c[0],y=u?o[Rp.PATTERN]:o[g];if(!Gi(y))throw new Error(xw(g));const E={keyId:Sp(g),pattern:y};return t&&(E.searcher=Cp(y,e)),E}let m={children:[],operator:c[0]};return c.forEach(g=>{const y=o[g];br(y)&&y.forEach(E=>{m.children.push(s(E))})}),m};return Np(i)||(i=e_(i)),s(i)}function nx(i,{ignoreFieldNorm:e=we.ignoreFieldNorm}){i.forEach(t=>{let s=1;t.matches.forEach(({key:o,norm:c,score:u})=>{const m=o?o.weight:null;s*=Math.pow(u===0&&m?Number.EPSILON:u,(m||1)*(e?1:c))}),t.score=s})}function ix(i,e){const t=i.matches;e.matches=[],Pn(t)&&t.forEach(s=>{if(!Pn(s.indices)||!s.indices.length)return;const{indices:o,value:c}=s;let u={indices:o,value:c};s.key&&(u.key=s.key.src),s.idx>-1&&(u.refIndex=s.idx),e.matches.push(u)})}function rx(i,e){e.score=i.score}function sx(i,e,{includeMatches:t=we.includeMatches,includeScore:s=we.includeScore}={}){const o=[];return t&&o.push(ix),s&&o.push(rx),i.map(c=>{const{idx:u}=c,m={item:e[u],refIndex:u};return o.length&&o.forEach(g=>{g(c,m)}),m})}class Fo{constructor(e,t={},s){this.options={...we,...t},this.options.useExtendedSearch,this._keyStore=new Iw(this.options.keys),this.setCollection(e,s)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof fg))throw new Error(ww);this._myIndex=t||hb(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Pn(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let s=0,o=this._docs.length;s<o;s+=1){const c=this._docs[s];e(c,s)&&(this.removeAt(s),s-=1,o-=1,t.push(c))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:s,includeScore:o,shouldSort:c,sortFn:u,ignoreFieldNorm:m}=this.options;let g=Gi(e)?Gi(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return nx(g,{ignoreFieldNorm:m}),c&&g.sort(u),ob(t)&&t>-1&&(g=g.slice(0,t)),sx(g,this._docs,{includeMatches:s,includeScore:o})}_searchStringList(e){const t=Cp(e,this.options),{records:s}=this._myIndex,o=[];return s.forEach(({v:c,i:u,n:m})=>{if(!Pn(c))return;const{isMatch:g,score:y,indices:E}=t.searchIn(c);g&&o.push({item:c,idx:u,matches:[{score:y,value:c,norm:m,indices:E}]})}),o}_searchLogical(e){const t=pb(e,this.options),s=(m,g,y)=>{if(!m.children){const{keyId:A,searcher:w}=m,N=this._findMatches({key:this._keyStore.get(A),value:this._myIndex.getValueForItemAtKeyId(g,A),searcher:w});return N&&N.length?[{idx:y,item:g,matches:N}]:[]}const E=[];for(let A=0,w=m.children.length;A<w;A+=1){const N=m.children[A],j=s(N,g,y);if(j.length)E.push(...j);else if(m.operator===Hh.AND)return[]}return E},o=this._myIndex.records,c={},u=[];return o.forEach(({$:m,i:g})=>{if(Pn(m)){let y=s(t,m,g);y.length&&(c[g]||(c[g]={idx:g,item:m,matches:[]},u.push(c[g])),y.forEach(({matches:E})=>{c[g].matches.push(...E)}))}}),u}_searchObjectList(e){const t=Cp(e,this.options),{keys:s,records:o}=this._myIndex,c=[];return o.forEach(({$:u,i:m})=>{if(!Pn(u))return;let g=[];s.forEach((y,E)=>{g.push(...this._findMatches({key:y,value:u[E],searcher:t}))}),g.length&&c.push({idx:m,item:u,matches:g})}),c}_findMatches({key:e,value:t,searcher:s}){if(!Pn(t))return[];let o=[];if(br(t))t.forEach(({v:c,i:u,n:m})=>{if(!Pn(c))return;const{isMatch:g,score:y,indices:E}=s.searchIn(c);g&&o.push({score:y,key:e,value:c,idx:u,norm:m,indices:E})});else{const{v:c,n:u}=t,{isMatch:m,score:g,indices:y}=s.searchIn(c);m&&o.push({score:g,key:e,value:c,norm:u,indices:y})}return o}}Fo.version="7.1.0";Fo.createIndex=hb;Fo.parseIndex=Lw;Fo.config=we;Fo.parseQuery=pb;Jw(Zw);const ax={includeScore:!0,threshold:.1,ignoreLocation:!0,useExtendedSearch:!0,keys:[{name:"referencia",weight:3},{name:"ref",weight:2.5},{name:"oem",weight:2.5},{name:"wva",weight:2.5},{name:"fmsi",weight:2.5},{name:"aplicaciones.marca",weight:1},{name:"aplicaciones.modelo",weight:.8},{name:"aplicaciones.serie",weight:.8},{name:"aplicaciones.ao",weight:.5},{name:"fabricante",weight:.5}]},ox=(i,e)=>e?new Fo(i,ax).search(e).map(o=>o.item):i,Tn=i=>i==null?"":String(i).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),t_=i=>{if(!i||i.length===0)return 999999;const e=i[0].match(/\d+/);return e?parseInt(e[0],10):999999},lx=new Date().getFullYear(),cx=lx%100+2,Gh=i=>{if(!i)return null;const e=String(i).trim(),t=parseInt(e,10);return isNaN(t)?null:e.length===4?t:e.length<=2?t<=cx?2e3+t:1900+t:null},ux=i=>{const e=i.split(/[-/\s]+/).filter(Boolean);if(e.length>=2){const t=Gh(e[0]);let s=Gh(e[1]);if(t!==null)return s===null?null:[t,s]}return null},hx={searchQuery:(i,e)=>{if(!e)return!0;const t=Tn(e).split(/\s+/).filter(Boolean);if(t.length===0)return!0;const s=i;if(!s._searchableText){const c=[i.referencia||"",...i.ref||[],...i.oem||[],...i.fmsi||[],i.wva||"",i.fabricante||""];Array.isArray(i.aplicaciones)&&i.aplicaciones.forEach(u=>{u&&(u.marca&&c.push(u.marca),u.modelo&&c.push(u.modelo),u.serie&&c.push(u.serie),u.ao&&c.push(String(u.ao)))}),s._searchableText=Tn(c.join(" "))}const o=s._searchableText;return t.every(c=>o.includes(c))},selectedBrand:(i,e)=>{if(!e)return!0;if(!i.aplicaciones||!Array.isArray(i.aplicaciones))return!1;const t=Tn(e);return i.aplicaciones.some(s=>s&&Tn(s.marca)===t)},selectedModel:(i,e)=>{if(!e)return!0;if(!i.aplicaciones||!Array.isArray(i.aplicaciones))return!1;const t=Tn(e);return i.aplicaciones.some(s=>{if(!s)return!1;const o=Tn(s.modelo),c=Tn(s.serie);return o.includes(t)||c.includes(t)})},selectedYear:(i,e)=>{if(!e)return!0;if(!i.aplicaciones||!Array.isArray(i.aplicaciones))return!1;const t=String(e).trim(),s=Gh(t);return s!==null?i.aplicaciones.some(o=>{if(!o||!o.ao)return!1;const c=String(o.ao);if(c.includes(t))return!0;const u=ux(c);if(u){const[g,y]=u;return s>=Math.min(g,y)&&s<=Math.max(g,y)}const m=Gh(c);return m!==null?m===s:!1}):i.aplicaciones.some(o=>o&&String(o.ao||"").includes(t))},oemReference:(i,e)=>!e||(i.oem||[]).some(t=>Tn(t).includes(Tn(e))),fmsiReference:(i,e)=>!e||(i.fmsi||[]).some(t=>Tn(t).includes(Tn(e))),width:(i,e)=>{if(!e)return!0;const t=parseFloat(e);if(isNaN(t))return!0;const s=typeof i.medidas?.ancho=="string"?parseFloat(i.medidas.ancho):i.medidas?.ancho||0;return Math.abs(s-t)<=2},height:(i,e)=>{if(!e)return!0;const t=parseFloat(e);if(isNaN(t))return!0;const s=typeof i.medidas?.alto=="string"?parseFloat(i.medidas.alto):i.medidas?.alto||0;return Math.abs(s-t)<=2},selectedPositions:(i,e)=>{if(e&&Array.isArray(e)&&e.length>0&&console.log(" Position filter called with:",e),!e||!Array.isArray(e)||e.length===0)return!0;const t=new Set;if(i.posicion){const c=Tn(i.posicion);c==="ambas"?(t.add("delantera"),t.add("trasera")):t.add(c)}else Array.isArray(i.aplicaciones)&&i.aplicaciones.forEach(c=>{if(!c||!c.posicion)return;const u=Tn(c.posicion);u==="ambas"?(t.add("delantera"),t.add("trasera")):t.add(u)});const s=e.map(c=>Tn(c)),o=s.every(c=>t.has(c));return i.referencia&&i.referencia.includes("7291")&&console.log(" Pastilla 7291 Debug:",{referencia:i.referencia,rootPosition:i.posicion,required:s,productPositions:Array.from(t),passes:o,aplicacionesCount:i.aplicaciones?.length||0}),o},showFavoritesOnly:(i,e,t)=>!e||(t&&t.favorites?t.favorites.includes(i.id):!1),showNewOnly:(i,e)=>e?!!i.createdAt&&Date.now()-i.createdAt<360*60*60*1e3:!0,selectedBrandTags:(i,e)=>{if(!e||!Array.isArray(e)||e.length===0)return!0;const s=[i.referencia,i.wva,...i.ref||[],...i.intercambios||[],...i.oem||[],...i.fmsi||[]].filter(Boolean).flatMap(c=>c.split(/[\s,/-]+/)).filter(c=>c.length>2),o=(i.fabricante||"").toUpperCase();return e.some(c=>c==="INC"?s.some(u=>u.trim().toUpperCase().endsWith("INC"))||o.includes("INCOLBEST"):c==="BEX"?s.some(u=>u.trim().toUpperCase().endsWith("BEX"))||o.includes("BEX"):c==="K"?s.some(u=>u.trim().toUpperCase().startsWith("K"))||o.includes("KTC"):c==="BP"?s.some(u=>u.trim().toUpperCase().endsWith("BP"))||o.includes("BRAKE PAK")||o.includes("BRAKEPAK"):c==="SP"?s.some(u=>u.trim().toUpperCase().startsWith("SP")):!1)}},on=(i,e,t)=>{if(!i||!Array.isArray(i)||!i.length)return[];if(!e)return i;let s=e.searchQuery?ox(i,e.searchQuery):[...i];return s=s.filter(o=>Object.entries(e).every(([c,u])=>{if(c==="searchQuery")return!0;const m=hx[c];return m?m(o,u,{favorites:t}):!0})),e.searchQuery||s.sort((o,c)=>t_(o.ref)-t_(c.ref)),s},tp={searchQuery:"",selectedBrand:"",selectedModel:"",selectedYear:"",selectedPositions:[],selectedBrandTags:[],oemReference:"",fmsiReference:"",width:"",height:"",showFavoritesOnly:!1,showNewOnly:!1},dx={currentPage:1,itemsPerPage:24,gridDensity:"normal",isHistoryPanelOpen:!1,isProductDetailModalOpen:!1,isGuideModalOpen:!1,isReportModalOpen:!1,selectedProductId:null,notifications:[]},de=yw()(Ew((i,e)=>({products:[],filteredProducts:[],filters:tp,favorites:[],comparisons:[],searchHistory:[],theme:"dark",ui:dx,isNotificationPanelOpen:!1,toggleNotificationPanel:()=>i(t=>({isNotificationPanelOpen:!t.isNotificationPanelOpen})),closeNotificationPanel:()=>i({isNotificationPanelOpen:!1}),toast:null,hideToast:()=>i({toast:null}),notificationMessage:null,pwaUpdateAvailable:!1,setProducts:t=>i({products:t,filteredProducts:on(t,e().filters,e().favorites)}),setFilteredProducts:t=>i({filteredProducts:t}),setNotificationMessage:t=>i({notificationMessage:t}),setPwaUpdateAvailable:t=>i({pwaUpdateAvailable:t}),setSearchQuery:t=>i(s=>{const o={...s.filters,searchQuery:t};return{filters:o,filteredProducts:on(s.products,o,s.favorites),ui:{...s.ui,currentPage:1}}}),setSelectedBrand:t=>i(s=>{const o={...s.filters,selectedBrand:t};return{filters:o,filteredProducts:on(s.products,o,s.favorites),ui:{...s.ui,currentPage:1}}}),setSelectedModel:t=>i(s=>{const o={...s.filters,selectedModel:t};return{filters:o,filteredProducts:on(s.products,o,s.favorites),ui:{...s.ui,currentPage:1}}}),setSelectedYear:t=>i(s=>{const o={...s.filters,selectedYear:t};return{filters:o,filteredProducts:on(s.products,o,s.favorites),ui:{...s.ui,currentPage:1}}}),togglePosition:t=>i(s=>{const o=s.filters.selectedPositions||[],u=o.includes(t)?o.filter(g=>g!==t):[...o,t];console.log(" Toggle Position:",{clicked:t,before:o,after:u});const m={...s.filters,selectedPositions:u};return{filters:m,filteredProducts:on(s.products,m,s.favorites),ui:{...s.ui,currentPage:1}}}),setOemReference:t=>i(s=>{const o={...s.filters,oemReference:t};return{filters:o,filteredProducts:on(s.products,o,s.favorites),ui:{...s.ui,currentPage:1}}}),setFmsiReference:t=>i(s=>{const o={...s.filters,fmsiReference:t};return{filters:o,filteredProducts:on(s.products,o,s.favorites),ui:{...s.ui,currentPage:1}}}),setWidth:t=>i(s=>{const o={...s.filters,width:t};return{filters:o,filteredProducts:on(s.products,o,s.favorites),ui:{...s.ui,currentPage:1}}}),setHeight:t=>i(s=>{const o={...s.filters,height:t};return{filters:o,filteredProducts:on(s.products,o,s.favorites),ui:{...s.ui,currentPage:1}}}),toggleShowFavoritesOnly:()=>i(t=>{const s=!t.filters.showFavoritesOnly,o={...t.filters,showFavoritesOnly:s,showNewOnly:s?!1:t.filters.showNewOnly};return{filters:o,filteredProducts:on(t.products,o,t.favorites),ui:{...t.ui,currentPage:1}}}),toggleShowNewOnly:()=>i(t=>{const s=!t.filters.showNewOnly,o={...t.filters,showNewOnly:s,showFavoritesOnly:s?!1:t.filters.showFavoritesOnly};return{filters:o,filteredProducts:on(t.products,o,t.favorites),ui:{...t.ui,currentPage:1}}}),toggleBrandTag:t=>i(s=>{const o=s.filters.selectedBrandTags||[],c=o.includes(t)?o.filter(m=>m!==t):[...o,t],u={...s.filters,selectedBrandTags:c};return{filters:u,filteredProducts:on(s.products,u,s.favorites),ui:{...s.ui,currentPage:1}}}),clearFilters:()=>i(t=>({filters:tp,filteredProducts:on(t.products,tp,t.favorites),ui:{...t.ui,currentPage:1}})),toggleFavorite:t=>{const o=!e().favorites.includes(t);i(m=>{const g=m.favorites.includes(t)?m.favorites.filter(A=>A!==t):[...m.favorites,t];let y=m.comparisons;o&&m.comparisons.includes(t)&&(y=m.comparisons.filter(A=>A!==t));const E=m.filters.showFavoritesOnly?on(m.products,m.filters,g):m.filteredProducts;return{favorites:g,filteredProducts:E,comparisons:y}});const c=e().products.find(m=>m.id===t),u=c&&(c.referencia||c.ref?.[0])||t;e().addNotification({type:o?"success":"system",title:o?"Favorito Agregado":"Favorito Eliminado",message:o?`Se ha aadido la referencia ${u} a favoritos.`:`Se ha eliminado la referencia ${u} de favoritos.`})},toggleComparison:t=>{const s=e(),o=!s.comparisons.includes(t);let c=s.comparisons;if(o)if(s.comparisons.length<4)c=[...s.comparisons,t];else{e().addNotification({type:"system",title:"Lmite de comparacin",message:"Mximo 4 productos para comparar"});return}else c=s.comparisons.filter(u=>u!==t);i(u=>{let m=u.favorites;o&&u.favorites.includes(t)&&(m=u.favorites.filter(y=>y!==t));const g=u.filters.showFavoritesOnly?on(u.products,u.filters,m):u.filteredProducts;return{comparisons:c,favorites:m,filteredProducts:g}})},addToSearchHistory:t=>i(s=>({searchHistory:[{...t,id:Date.now().toString()},...s.searchHistory].slice(0,10)})),clearSearchHistory:()=>i({searchHistory:[]}),setTheme:t=>{i({theme:t}),document.documentElement.setAttribute("data-theme",t)},setCurrentPage:t=>i(s=>({ui:{...s.ui,currentPage:t}})),setItemsPerPage:t=>i(s=>({ui:{...s.ui,itemsPerPage:t,currentPage:1}})),setGridDensity:t=>i(s=>({ui:{...s.ui,gridDensity:t}})),openHistoryPanel:()=>i(t=>({ui:{...t.ui,isHistoryPanelOpen:!0}})),closeHistoryPanel:()=>i(t=>({ui:{...t.ui,isHistoryPanelOpen:!1}})),openProductDetailModal:t=>i(s=>({ui:{...s.ui,isProductDetailModalOpen:!0,selectedProductId:t}})),closeProductDetailModal:()=>i(t=>({ui:{...t.ui,isProductDetailModalOpen:!1,selectedProductId:null}})),openGuideModal:()=>i(t=>({ui:{...t.ui,isGuideModalOpen:!0}})),closeGuideModal:()=>i(t=>({ui:{...t.ui,isGuideModalOpen:!1}})),openReportModal:()=>i(t=>({ui:{...t.ui,isReportModalOpen:!0}})),closeReportModal:()=>i(t=>({ui:{...t.ui,isReportModalOpen:!1}})),addNotification:t=>i(s=>{const o={...t,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:Date.now(),read:!1},c=[o,...s.ui.notifications].slice(0,50);let u="info";return t.type==="success"&&(u="success"),t.type==="error"&&(u="error"),{ui:{...s.ui,notifications:c},toast:{id:o.id,title:o.title,message:o.message,type:u}}}),removeNotification:t=>i(s=>({ui:{...s.ui,notifications:s.ui.notifications.filter(o=>o.id!==t)}})),markAsRead:t=>i(s=>({ui:{...s.ui,notifications:s.ui.notifications.map(o=>o.id===t?{...o,read:!0}:o)}})),markAllAsRead:()=>i(t=>({ui:{...t.ui,notifications:t.ui.notifications.map(s=>({...s,read:!0}))}})),clearAllNotifications:()=>i(t=>({ui:{...t.ui,notifications:[]}}))}),{name:"brake-x-storage",partialize:i=>({favorites:i.favorites,comparisons:i.comparisons,searchHistory:i.searchHistory,theme:i.theme,ui:i.ui})})),fx=()=>{};var n_={};const gb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},mx=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[t++],u=i[t++],m=i[t++],g=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[t++],u=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,m=u?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,E=c>>2,A=(c&3)<<4|m>>4;let w=(m&15)<<2|y>>6,N=y&63;g||(N=64,u||(w=64)),s.push(t[E],t[A],t[w],t[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(gb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):mx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||A==null)throw new px;const w=c<<2|m>>4;if(s.push(w),y!==64){const N=m<<4&240|y>>2;if(s.push(N),A!==64){const j=y<<6&192|A;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class px extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gx=function(i){const e=gb(i);return yb.encodeByteArray(e,!0)},$h=function(i){return gx(i).replace(/\./g,"")},vb=function(i){try{return yb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vx=()=>yx().__FIREBASE_DEFAULTS__,_x=()=>{if(typeof process>"u"||typeof n_>"u")return;const i=n_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Ex=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&vb(i[1]);return e&&JSON.parse(e)},vd=()=>{try{return fx()||vx()||_x()||Ex()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_b=i=>vd()?.emulatorHosts?.[i],bx=i=>{const e=_b(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Eb=()=>vd()?.config,bb=i=>vd()?.[`_${i}`];class Ax{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function qo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ab(i){return(await fetch(i,{credentials:"include"})).ok}function Tx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[$h(JSON.stringify(t)),$h(JSON.stringify(u)),""].join(".")}const fc={};function Sx(){const i={prod:[],emulator:[]};for(const e of Object.keys(fc))fc[e]?i.emulator.push(e):i.prod.push(e);return i}function wx(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let i_=!1;function Tb(i,e){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||fc[i]===e||fc[i]||i_)return;fc[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=Sx().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{i_=!0,u()},w}function E(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=wx(s),N=t("text"),j=document.getElementById(N)||document.createElement("span"),P=t("learnmore"),Q=document.getElementById(P)||document.createElement("a"),se=t("preprendIcon"),G=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ee=w.element;m(ee),E(Q,P);const J=y();g(G,se),ee.append(G,j,Q,J),document.body.appendChild(ee)}c?(j.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function Cx(){const i=vd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Ix(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dx(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Mx(){return!Cx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kx(){try{return typeof indexedDB=="object"}catch{return!1}}function jx(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const Ox="FirebaseError";class xr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Ox,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?Vx(c,s):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new xr(o,m,s)}}function Vx(i,e){return i.replace(Px,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Px=/\{\$([^}]+)}/g;function Lx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function va(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=i[o],u=e[o];if(r_(c)&&r_(u)){if(!va(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function r_(i){return i!==null&&typeof i=="object"}function Dc(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ac(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function oc(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function zx(i,e){const t=new Ux(i,e);return t.subscribe.bind(t)}class Ux{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Bx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=np),o.error===void 0&&(o.error=np),o.complete===void 0&&(o.complete=np);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bx(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function np(){}function Lt(i){return i&&i._delegate?i._delegate:i}class _a{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class Fx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Ax;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hx(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&u.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qx(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qx(i){return i===la?void 0:i}function Hx(i){return i.instantiationMode==="EAGER"}class Gx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Fx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Be;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Be||(Be={}));const $x={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Qx=Be.INFO,Kx={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},Yx=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=Kx[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mg{constructor(e){this.name=e,this._logLevel=Qx,this._logHandler=Yx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$x[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Xx=(i,e)=>e.some(t=>i instanceof t);let s_,a_;function Wx(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zx(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sb=new WeakMap,Ip=new WeakMap,wb=new WeakMap,ip=new WeakMap,pg=new WeakMap;function Jx(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{t(fs(i.result)),o()},u=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Sb.set(t,i)}).catch(()=>{}),pg.set(e,i),e}function eC(i){if(Ip.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});Ip.set(i,e)}let Dp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Ip.get(i);if(e==="objectStoreNames")return i.objectStoreNames||wb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function tC(i){Dp=i(Dp)}function nC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(rp(this),e,...t);return wb.set(s,e.sort?e.sort():[e]),fs(s)}:Zx().includes(i)?function(...e){return i.apply(rp(this),e),fs(Sb.get(this))}:function(...e){return fs(i.apply(rp(this),e))}}function iC(i){return typeof i=="function"?nC(i):(i instanceof IDBTransaction&&eC(i),Xx(i,Wx())?new Proxy(i,Dp):i)}function fs(i){if(i instanceof IDBRequest)return Jx(i);if(ip.has(i))return ip.get(i);const e=iC(i);return e!==i&&(ip.set(i,e),pg.set(e,i)),e}const rp=i=>pg.get(i);function rC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),m=fs(u);return s&&u.addEventListener("upgradeneeded",g=>{s(fs(u.result),g.oldVersion,g.newVersion,fs(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const sC=["get","getKey","getAll","getAllKeys","count"],aC=["put","add","delete","clear"],sp=new Map;function o_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(sp.get(e))return sp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=aC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sC.includes(t)))return;const c=async function(u,...m){const g=this.transaction(u,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&g.done]))[0]};return sp.set(e,c),c}tC(i=>({...i,get:(e,t,s)=>o_(e,t)||i.get(e,t,s),has:(e,t)=>!!o_(e,t)||i.has(e,t)}));class oC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function lC(i){return i.getComponent()?.type==="VERSION"}const Mp="@firebase/app",l_="0.14.6";const Ar=new mg("@firebase/app"),cC="@firebase/app-compat",uC="@firebase/analytics-compat",hC="@firebase/analytics",dC="@firebase/app-check-compat",fC="@firebase/app-check",mC="@firebase/auth",pC="@firebase/auth-compat",gC="@firebase/database",yC="@firebase/data-connect",vC="@firebase/database-compat",_C="@firebase/functions",EC="@firebase/functions-compat",bC="@firebase/installations",AC="@firebase/installations-compat",TC="@firebase/messaging",SC="@firebase/messaging-compat",wC="@firebase/performance",xC="@firebase/performance-compat",CC="@firebase/remote-config",RC="@firebase/remote-config-compat",NC="@firebase/storage",IC="@firebase/storage-compat",DC="@firebase/firestore",MC="@firebase/ai",kC="@firebase/firestore-compat",jC="firebase",OC="12.6.0";const kp="[DEFAULT]",VC={[Mp]:"fire-core",[cC]:"fire-core-compat",[hC]:"fire-analytics",[uC]:"fire-analytics-compat",[fC]:"fire-app-check",[dC]:"fire-app-check-compat",[mC]:"fire-auth",[pC]:"fire-auth-compat",[gC]:"fire-rtdb",[yC]:"fire-data-connect",[vC]:"fire-rtdb-compat",[_C]:"fire-fn",[EC]:"fire-fn-compat",[bC]:"fire-iid",[AC]:"fire-iid-compat",[TC]:"fire-fcm",[SC]:"fire-fcm-compat",[wC]:"fire-perf",[xC]:"fire-perf-compat",[CC]:"fire-rc",[RC]:"fire-rc-compat",[NC]:"fire-gcs",[IC]:"fire-gcs-compat",[DC]:"fire-fst",[kC]:"fire-fst-compat",[MC]:"fire-vertex","fire-js":"fire-js",[jC]:"fire-js-all"};const Qh=new Map,PC=new Map,jp=new Map;function c_(i,e){try{i.container.addComponent(e)}catch(t){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ro(i){const e=i.name;if(jp.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;jp.set(e,i);for(const t of Qh.values())c_(t,i);for(const t of PC.values())c_(t,i);return!0}function gg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function pi(i){return i==null?!1:i.settings!==void 0}const LC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new Ic("app","Firebase",LC);class zC{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const Ho=OC;function xb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:kp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(t||(t=Eb()),!t)throw ms.create("no-options");const c=Qh.get(o);if(c){if(va(t,c.options)&&va(s,c.config))return c;throw ms.create("duplicate-app",{appName:o})}const u=new Gx(o);for(const g of jp.values())u.addComponent(g);const m=new zC(t,s,u);return Qh.set(o,m),m}function Cb(i=kp){const e=Qh.get(i);if(!e&&i===kp&&Eb())return xb();if(!e)throw ms.create("no-app",{appName:i});return e}function ps(i,e,t){let s=VC[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(u.join(" "));return}Ro(new _a(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const UC="firebase-heartbeat-database",BC=1,Ec="firebase-heartbeat-store";let ap=null;function Rb(){return ap||(ap=rC(UC,BC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ec)}catch(t){console.warn(t)}}}}).catch(i=>{throw ms.create("idb-open",{originalErrorMessage:i.message})})),ap}async function FC(i){try{const t=(await Rb()).transaction(Ec),s=await t.objectStore(Ec).get(Nb(i));return await t.done,s}catch(e){if(e instanceof xr)Ar.warn(e.message);else{const t=ms.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(t.message)}}}async function u_(i,e){try{const s=(await Rb()).transaction(Ec,"readwrite");await s.objectStore(Ec).put(e,Nb(i)),await s.done}catch(t){if(t instanceof xr)Ar.warn(t.message);else{const s=ms.create("idb-set",{originalErrorMessage:t?.message});Ar.warn(s.message)}}}function Nb(i){return`${i.name}!${i.options.appId}`}const qC=1024,HC=30;class GC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>HC){const o=KC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h_(),{heartbeatsToSend:t,unsentEntries:s}=$C(this._heartbeatsCache.heartbeats),o=$h(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ar.warn(e),""}}}function h_(){return new Date().toISOString().substring(0,10)}function $C(i,e=qC){const t=[];let s=i.slice();for(const o of i){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),d_(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),d_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class QC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kx()?jx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await FC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return u_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return u_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function d_(i){return $h(JSON.stringify({version:2,heartbeats:i})).length}function KC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function YC(i){Ro(new _a("platform-logger",e=>new oC(e),"PRIVATE")),Ro(new _a("heartbeat",e=>new GC(e),"PRIVATE")),ps(Mp,l_,i),ps(Mp,l_,"esm2020"),ps("fire-js","")}YC("");var XC="firebase",WC="12.7.0";ps(XC,WC,"app");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gs,Ib;(function(){var i;function e(T,x){function I(){}I.prototype=x.prototype,T.F=x.prototype,T.prototype=new I,T.prototype.constructor=T,T.D=function(V,k,z){for(var D=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)D[ke-2]=arguments[ke];return x.prototype[k].apply(V,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(T,x,I){I||(I=0);const V=Array(16);if(typeof x=="string")for(var k=0;k<16;++k)V[k]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(k=0;k<16;++k)V[k]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=T.g[0],I=T.g[1],k=T.g[2];let z=T.g[3],D;D=x+(z^I&(k^z))+V[0]+3614090360&4294967295,x=I+(D<<7&4294967295|D>>>25),D=z+(k^x&(I^k))+V[1]+3905402710&4294967295,z=x+(D<<12&4294967295|D>>>20),D=k+(I^z&(x^I))+V[2]+606105819&4294967295,k=z+(D<<17&4294967295|D>>>15),D=I+(x^k&(z^x))+V[3]+3250441966&4294967295,I=k+(D<<22&4294967295|D>>>10),D=x+(z^I&(k^z))+V[4]+4118548399&4294967295,x=I+(D<<7&4294967295|D>>>25),D=z+(k^x&(I^k))+V[5]+1200080426&4294967295,z=x+(D<<12&4294967295|D>>>20),D=k+(I^z&(x^I))+V[6]+2821735955&4294967295,k=z+(D<<17&4294967295|D>>>15),D=I+(x^k&(z^x))+V[7]+4249261313&4294967295,I=k+(D<<22&4294967295|D>>>10),D=x+(z^I&(k^z))+V[8]+1770035416&4294967295,x=I+(D<<7&4294967295|D>>>25),D=z+(k^x&(I^k))+V[9]+2336552879&4294967295,z=x+(D<<12&4294967295|D>>>20),D=k+(I^z&(x^I))+V[10]+4294925233&4294967295,k=z+(D<<17&4294967295|D>>>15),D=I+(x^k&(z^x))+V[11]+2304563134&4294967295,I=k+(D<<22&4294967295|D>>>10),D=x+(z^I&(k^z))+V[12]+1804603682&4294967295,x=I+(D<<7&4294967295|D>>>25),D=z+(k^x&(I^k))+V[13]+4254626195&4294967295,z=x+(D<<12&4294967295|D>>>20),D=k+(I^z&(x^I))+V[14]+2792965006&4294967295,k=z+(D<<17&4294967295|D>>>15),D=I+(x^k&(z^x))+V[15]+1236535329&4294967295,I=k+(D<<22&4294967295|D>>>10),D=x+(k^z&(I^k))+V[1]+4129170786&4294967295,x=I+(D<<5&4294967295|D>>>27),D=z+(I^k&(x^I))+V[6]+3225465664&4294967295,z=x+(D<<9&4294967295|D>>>23),D=k+(x^I&(z^x))+V[11]+643717713&4294967295,k=z+(D<<14&4294967295|D>>>18),D=I+(z^x&(k^z))+V[0]+3921069994&4294967295,I=k+(D<<20&4294967295|D>>>12),D=x+(k^z&(I^k))+V[5]+3593408605&4294967295,x=I+(D<<5&4294967295|D>>>27),D=z+(I^k&(x^I))+V[10]+38016083&4294967295,z=x+(D<<9&4294967295|D>>>23),D=k+(x^I&(z^x))+V[15]+3634488961&4294967295,k=z+(D<<14&4294967295|D>>>18),D=I+(z^x&(k^z))+V[4]+3889429448&4294967295,I=k+(D<<20&4294967295|D>>>12),D=x+(k^z&(I^k))+V[9]+568446438&4294967295,x=I+(D<<5&4294967295|D>>>27),D=z+(I^k&(x^I))+V[14]+3275163606&4294967295,z=x+(D<<9&4294967295|D>>>23),D=k+(x^I&(z^x))+V[3]+4107603335&4294967295,k=z+(D<<14&4294967295|D>>>18),D=I+(z^x&(k^z))+V[8]+1163531501&4294967295,I=k+(D<<20&4294967295|D>>>12),D=x+(k^z&(I^k))+V[13]+2850285829&4294967295,x=I+(D<<5&4294967295|D>>>27),D=z+(I^k&(x^I))+V[2]+4243563512&4294967295,z=x+(D<<9&4294967295|D>>>23),D=k+(x^I&(z^x))+V[7]+1735328473&4294967295,k=z+(D<<14&4294967295|D>>>18),D=I+(z^x&(k^z))+V[12]+2368359562&4294967295,I=k+(D<<20&4294967295|D>>>12),D=x+(I^k^z)+V[5]+4294588738&4294967295,x=I+(D<<4&4294967295|D>>>28),D=z+(x^I^k)+V[8]+2272392833&4294967295,z=x+(D<<11&4294967295|D>>>21),D=k+(z^x^I)+V[11]+1839030562&4294967295,k=z+(D<<16&4294967295|D>>>16),D=I+(k^z^x)+V[14]+4259657740&4294967295,I=k+(D<<23&4294967295|D>>>9),D=x+(I^k^z)+V[1]+2763975236&4294967295,x=I+(D<<4&4294967295|D>>>28),D=z+(x^I^k)+V[4]+1272893353&4294967295,z=x+(D<<11&4294967295|D>>>21),D=k+(z^x^I)+V[7]+4139469664&4294967295,k=z+(D<<16&4294967295|D>>>16),D=I+(k^z^x)+V[10]+3200236656&4294967295,I=k+(D<<23&4294967295|D>>>9),D=x+(I^k^z)+V[13]+681279174&4294967295,x=I+(D<<4&4294967295|D>>>28),D=z+(x^I^k)+V[0]+3936430074&4294967295,z=x+(D<<11&4294967295|D>>>21),D=k+(z^x^I)+V[3]+3572445317&4294967295,k=z+(D<<16&4294967295|D>>>16),D=I+(k^z^x)+V[6]+76029189&4294967295,I=k+(D<<23&4294967295|D>>>9),D=x+(I^k^z)+V[9]+3654602809&4294967295,x=I+(D<<4&4294967295|D>>>28),D=z+(x^I^k)+V[12]+3873151461&4294967295,z=x+(D<<11&4294967295|D>>>21),D=k+(z^x^I)+V[15]+530742520&4294967295,k=z+(D<<16&4294967295|D>>>16),D=I+(k^z^x)+V[2]+3299628645&4294967295,I=k+(D<<23&4294967295|D>>>9),D=x+(k^(I|~z))+V[0]+4096336452&4294967295,x=I+(D<<6&4294967295|D>>>26),D=z+(I^(x|~k))+V[7]+1126891415&4294967295,z=x+(D<<10&4294967295|D>>>22),D=k+(x^(z|~I))+V[14]+2878612391&4294967295,k=z+(D<<15&4294967295|D>>>17),D=I+(z^(k|~x))+V[5]+4237533241&4294967295,I=k+(D<<21&4294967295|D>>>11),D=x+(k^(I|~z))+V[12]+1700485571&4294967295,x=I+(D<<6&4294967295|D>>>26),D=z+(I^(x|~k))+V[3]+2399980690&4294967295,z=x+(D<<10&4294967295|D>>>22),D=k+(x^(z|~I))+V[10]+4293915773&4294967295,k=z+(D<<15&4294967295|D>>>17),D=I+(z^(k|~x))+V[1]+2240044497&4294967295,I=k+(D<<21&4294967295|D>>>11),D=x+(k^(I|~z))+V[8]+1873313359&4294967295,x=I+(D<<6&4294967295|D>>>26),D=z+(I^(x|~k))+V[15]+4264355552&4294967295,z=x+(D<<10&4294967295|D>>>22),D=k+(x^(z|~I))+V[6]+2734768916&4294967295,k=z+(D<<15&4294967295|D>>>17),D=I+(z^(k|~x))+V[13]+1309151649&4294967295,I=k+(D<<21&4294967295|D>>>11),D=x+(k^(I|~z))+V[4]+4149444226&4294967295,x=I+(D<<6&4294967295|D>>>26),D=z+(I^(x|~k))+V[11]+3174756917&4294967295,z=x+(D<<10&4294967295|D>>>22),D=k+(x^(z|~I))+V[2]+718787259&4294967295,k=z+(D<<15&4294967295|D>>>17),D=I+(z^(k|~x))+V[9]+3951481745&4294967295,T.g[0]=T.g[0]+x&4294967295,T.g[1]=T.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+z&4294967295}s.prototype.v=function(T,x){x===void 0&&(x=T.length);const I=x-this.blockSize,V=this.C;let k=this.h,z=0;for(;z<x;){if(k==0)for(;z<=I;)o(this,T,z),z+=this.blockSize;if(typeof T=="string"){for(;z<x;)if(V[k++]=T.charCodeAt(z++),k==this.blockSize){o(this,V),k=0;break}}else for(;z<x;)if(V[k++]=T[z++],k==this.blockSize){o(this,V),k=0;break}}this.h=k,this.o+=x},s.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var x=1;x<T.length-8;++x)T[x]=0;x=this.o*8;for(var I=T.length-8;I<T.length;++I)T[I]=x&255,x/=256;for(this.v(T),T=Array(16),x=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)T[x++]=this.g[I]>>>V&255;return T};function c(T,x){var I=m;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=x(T)}function u(T,x){this.h=x;const I=[];let V=!0;for(let k=T.length-1;k>=0;k--){const z=T[k]|0;V&&z==x||(I[k]=z,V=!1)}this.g=I}var m={};function g(T){return-128<=T&&T<128?c(T,function(x){return new u([x|0],x<0?-1:0)}):new u([T|0],T<0?-1:0)}function y(T){if(isNaN(T)||!isFinite(T))return A;if(T<0)return Q(y(-T));const x=[];let I=1;for(let V=0;T>=I;V++)x[V]=T/I|0,I*=4294967296;return new u(x,0)}function E(T,x){if(T.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(T.charAt(0)=="-")return Q(E(T.substring(1),x));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(x,8));let V=A;for(let z=0;z<T.length;z+=8){var k=Math.min(8,T.length-z);const D=parseInt(T.substring(z,z+k),x);k<8?(k=y(Math.pow(x,k)),V=V.j(k).add(y(D))):(V=V.j(I),V=V.add(y(D)))}return V}var A=g(0),w=g(1),N=g(16777216);i=u.prototype,i.m=function(){if(P(this))return-Q(this).m();let T=0,x=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);T+=(V>=0?V:4294967296+V)*x,x*=4294967296}return T},i.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(j(this))return"0";if(P(this))return"-"+Q(this).toString(T);const x=y(Math.pow(T,6));var I=this;let V="";for(;;){const k=J(I,x).g;I=se(I,k.j(x));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(T);if(I=k,j(I))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},i.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function j(T){if(T.h!=0)return!1;for(let x=0;x<T.g.length;x++)if(T.g[x]!=0)return!1;return!0}function P(T){return T.h==-1}i.l=function(T){return T=se(this,T),P(T)?-1:j(T)?0:1};function Q(T){const x=T.g.length,I=[];for(let V=0;V<x;V++)I[V]=~T.g[V];return new u(I,~T.h).add(w)}i.abs=function(){return P(this)?Q(this):this},i.add=function(T){const x=Math.max(this.g.length,T.g.length),I=[];let V=0;for(let k=0;k<=x;k++){let z=V+(this.i(k)&65535)+(T.i(k)&65535),D=(z>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);V=D>>>16,z&=65535,D&=65535,I[k]=D<<16|z}return new u(I,I[I.length-1]&-2147483648?-1:0)};function se(T,x){return T.add(Q(x))}i.j=function(T){if(j(this)||j(T))return A;if(P(this))return P(T)?Q(this).j(Q(T)):Q(Q(this).j(T));if(P(T))return Q(this.j(Q(T)));if(this.l(N)<0&&T.l(N)<0)return y(this.m()*T.m());const x=this.g.length+T.g.length,I=[];for(var V=0;V<2*x;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let k=0;k<T.g.length;k++){const z=this.i(V)>>>16,D=this.i(V)&65535,ke=T.i(k)>>>16,Ye=T.i(k)&65535;I[2*V+2*k]+=D*Ye,G(I,2*V+2*k),I[2*V+2*k+1]+=z*Ye,G(I,2*V+2*k+1),I[2*V+2*k+1]+=D*ke,G(I,2*V+2*k+1),I[2*V+2*k+2]+=z*ke,G(I,2*V+2*k+2)}for(T=0;T<x;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=x;T<2*x;T++)I[T]=0;return new u(I,0)};function G(T,x){for(;(T[x]&65535)!=T[x];)T[x+1]+=T[x]>>>16,T[x]&=65535,x++}function ee(T,x){this.g=T,this.h=x}function J(T,x){if(j(x))throw Error("division by zero");if(j(T))return new ee(A,A);if(P(T))return x=J(Q(T),x),new ee(Q(x.g),Q(x.h));if(P(x))return x=J(T,Q(x)),new ee(Q(x.g),x.h);if(T.g.length>30){if(P(T)||P(x))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=x;V.l(T)<=0;)I=Y(I),V=Y(V);var k=L(I,1),z=L(V,1);for(V=L(V,2),I=L(I,2);!j(V);){var D=z.add(V);D.l(T)<=0&&(k=k.add(I),z=D),V=L(V,1),I=L(I,1)}return x=se(T,k.j(x)),new ee(k,x)}for(k=A;T.l(x)>=0;){for(I=Math.max(1,Math.floor(T.m()/x.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=y(I),D=z.j(x);P(D)||D.l(T)>0;)I-=V,z=y(I),D=z.j(x);j(z)&&(z=w),k=k.add(z),T=se(T,D)}return new ee(k,T)}i.B=function(T){return J(this,T).h},i.and=function(T){const x=Math.max(this.g.length,T.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)&T.i(V);return new u(I,this.h&T.h)},i.or=function(T){const x=Math.max(this.g.length,T.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)|T.i(V);return new u(I,this.h|T.h)},i.xor=function(T){const x=Math.max(this.g.length,T.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)^T.i(V);return new u(I,this.h^T.h)};function Y(T){const x=T.g.length+1,I=[];for(let V=0;V<x;V++)I[V]=T.i(V)<<1|T.i(V-1)>>>31;return new u(I,T.h)}function L(T,x){const I=x>>5;x%=32;const V=T.g.length-I,k=[];for(let z=0;z<V;z++)k[z]=x>0?T.i(z+I)>>>x|T.i(z+I+1)<<32-x:T.i(z+I);return new u(k,T.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Ib=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=E,gs=u}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Db,lc,Mb,Ch,Op,kb,jb,Ob;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function o(h,v){if(v)e:{var b=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var F=h[C];if(!(F in b))break e;b=b[F]}h=h[h.length-1],C=b[h],v=v(C),v!=C&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var b=[],C;for(C in v)Object.prototype.hasOwnProperty.call(v,C)&&b.push([C,v[C]]);return b}});var c=c||{},u=this||self;function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,b){return h.call.apply(h.bind,arguments)}function y(h,v,b){return y=g,y.apply(null,arguments)}function E(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function A(h,v){function b(){}b.prototype=v.prototype,h.Z=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(C,F,K){for(var ce=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ce[Ie-2]=arguments[Ie];return v.prototype[F].apply(C,ce)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const v=h.length;if(v>0){const b=Array(v);for(let C=0;C<v;C++)b[C]=h[C];return b}return[]}function j(h,v){for(let C=1;C<arguments.length;C++){const F=arguments[C];var b=typeof F;if(b=b!="object"?b:F?Array.isArray(F)?"array":b:"null",b=="array"||b=="object"&&typeof F.length=="number"){b=h.length||0;const K=F.length||0;h.length=b+K;for(let ce=0;ce<K;ce++)h[b+ce]=F[ce]}else h.push(F)}}class P{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Q(h){u.setTimeout(()=>{throw h},0)}function se(){var h=T;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class G{constructor(){this.h=this.g=null}add(v,b){const C=ee.get();C.set(v,b),this.h?this.h.next=C:this.g=C,this.h=C}}var ee=new P(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,L=!1,T=new G,x=()=>{const h=Promise.resolve(void 0);Y=()=>{h.then(I)}};function I(){for(var h;h=se();){try{h.h.call(h.g)}catch(b){Q(b)}var v=ee;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}L=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};u.addEventListener("test",b,v),u.removeEventListener("test",b,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ke(h,v){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}A(ke,k),ke.prototype.init=function(h,v){const b=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),W=0;function ue(h,v,b,C,F){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!C,this.ha=F,this.key=++W,this.da=this.fa=!1}function ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xe(h,v,b){for(const C in h)v.call(b,h[C],C,h)}function Le(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function R(h){const v={};for(const b in h)v[b]=h[b];return v}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,v){let b,C;for(let F=1;F<arguments.length;F++){C=arguments[F];for(b in C)h[b]=C[b];for(let K=0;K<B.length;K++)b=B[K],Object.prototype.hasOwnProperty.call(C,b)&&(h[b]=C[b])}}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,v,b,C,F){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ce=be(h,v,C,F);return ce>-1?(v=h[ce],b||(v.fa=!1)):(v=new ue(v,this.src,K,!!C,F),v.fa=b,h.push(v)),v};function pe(h,v){const b=v.type;if(b in h.g){var C=h.g[b],F=Array.prototype.indexOf.call(C,v,void 0),K;(K=F>=0)&&Array.prototype.splice.call(C,F,1),K&&(ve(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function be(h,v,b,C){for(let F=0;F<h.length;++F){const K=h[F];if(!K.da&&K.listener==v&&K.capture==!!b&&K.ha==C)return F}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),ct={};function $e(h,v,b,C,F){if(Array.isArray(v)){for(let K=0;K<v.length;K++)$e(h,v[K],b,C,F);return null}return b=nl(b),h&&h[Ye]?h.J(v,b,m(C)?!!C.capture:!1,F):ti(h,v,b,!1,C,F)}function ti(h,v,b,C,F,K){if(!v)throw Error("Invalid event type");const ce=m(F)?!!F.capture:!!F;let Ie=Ms(h);if(Ie||(h[Oe]=Ie=new le(h)),b=Ie.add(v,b,C,ce,K),b.proxy)return b;if(C=ni(),b.proxy=C,C.src=h,C.listener=b,h.addEventListener)z||(F=ce),F===void 0&&(F=!1),h.addEventListener(v.toString(),C,F);else if(h.attachEvent)h.attachEvent(bi(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ni(){function h(b){return v.call(h.src,h.listener,b)}const v=el;return h}function dn(h,v,b,C,F){if(Array.isArray(v))for(var K=0;K<v.length;K++)dn(h,v[K],b,C,F);else C=m(C)?!!C.capture:!!C,b=nl(b),h&&h[Ye]?(h=h.i,K=String(v).toString(),K in h.g&&(v=h.g[K],b=be(v,b,C,F),b>-1&&(ve(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete h.g[K],h.h--)))):h&&(h=Ms(h))&&(v=h.g[v.toString()],h=-1,v&&(h=be(v,b,C,F)),(b=h>-1?v[h]:null)&&Ra(b))}function Ra(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ye])pe(v.i,h);else{var b=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(b,C,h.capture):v.detachEvent?v.detachEvent(bi(b),C):v.addListener&&v.removeListener&&v.removeListener(C),(b=Ms(v))?(pe(b,h),b.h==0&&(b.src=null,v[Oe]=null)):ve(h)}}}function bi(h){return h in ct?ct[h]:ct[h]="on"+h}function el(h,v){if(h.da)h=!0;else{v=new ke(v,this);const b=h.listener,C=h.ha||h.src;h.fa&&Ra(h),h=b.call(C,v)}return h}function Ms(h){return h=h[Oe],h instanceof le?h:null}var tl="__closure_events_fn_"+(Math.random()*1e9>>>0);function nl(h){return typeof h=="function"?h:(h[tl]||(h[tl]=function(v){return h.handleEvent(v)}),h[tl])}function wt(){V.call(this),this.i=new le(this),this.M=this,this.G=null}A(wt,V),wt.prototype[Ye]=!0,wt.prototype.removeEventListener=function(h,v,b,C){dn(this,h,v,b,C)};function zt(h,v){var b,C=h.G;if(C)for(b=[];C;C=C.G)b.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new k(v,h);else if(v instanceof k)v.target=v.target||h;else{var F=v;v=new k(C,h),oe(v,F)}F=!0;let K,ce;if(b)for(ce=b.length-1;ce>=0;ce--)K=v.g=b[ce],F=Cr(K,C,!0,v)&&F;if(K=v.g=h,F=Cr(K,C,!0,v)&&F,F=Cr(K,C,!1,v)&&F,b)for(ce=0;ce<b.length;ce++)K=v.g=b[ce],F=Cr(K,C,!1,v)&&F}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const b=h.g[v];for(let C=0;C<b.length;C++)ve(b[C]);delete h.g[v],h.h--}}this.G=null},wt.prototype.J=function(h,v,b,C){return this.i.add(String(h),v,!1,b,C)},wt.prototype.K=function(h,v,b,C){return this.i.add(String(h),v,!0,b,C)};function Cr(h,v,b,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let K=0;K<v.length;++K){const ce=v[K];if(ce&&!ce.da&&ce.capture==b){const Ie=ce.listener,bt=ce.ha||ce.src;ce.fa&&pe(h.i,ce),F=Ie.call(bt,C)!==!1&&F}}return F&&!C.defaultPrevented}function Yd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function qc(h){h.g=Yd(()=>{h.g=null,h.i&&(h.i=!1,qc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class fn extends V{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:qc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(h){V.call(this),this.h=h,this.g={}}A(ks,V);var il=[];function rl(h){xe(h.g,function(v,b){this.g.hasOwnProperty(b)&&Ra(v)},h),h.g={}}ks.prototype.N=function(){ks.Z.N.call(this),rl(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=u.JSON.stringify,Xd=u.JSON.parse,Hc=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Gc(){}function $c(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){k.call(this,"d")}A(Xt,k);function zn(){k.call(this,"c")}A(zn,k);var Et={},Qc=null;function Na(){return Qc=Qc||new wt}Et.Ia="serverreachability";function Kc(h){k.call(this,Et.Ia,h)}A(Kc,k);function Ai(h){const v=Na();zt(v,new Kc(v))}Et.STAT_EVENT="statevent";function js(h,v){k.call(this,Et.STAT_EVENT,h),this.stat=v}A(js,k);function xt(h){const v=Na();zt(v,new js(v,h))}Et.Ja="timingevent";function Ti(h,v){k.call(this,Et.Ja,h),this.size=v}A(Ti,k);function Si(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Wd(h,v,b,C,F,K){h.info(function(){if(h.g)if(K){var ce="",Ie=K.split("&");for(let Xe=0;Xe<Ie.length;Xe++){var bt=Ie[Xe].split("=");if(bt.length>1){const mt=bt[0];bt=bt[1];const qn=mt.split("_");ce=qn.length>=2&&qn[1]=="type"?ce+(mt+"="+bt+"&"):ce+(mt+"=redacted&")}}}else ce=null;else ce=K;return"XMLHTTP REQ ("+C+") [attempt "+F+"]: "+v+`
`+b+`
`+ce})}function Yc(h,v,b,C,F,K,ce){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+F+"]: "+v+`
`+b+`
`+K+" "+ce})}function wi(h,v,b,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Zd(h,b)+(C?" "+C:"")})}function Os(h,v){h.info(function(){return"TIMEOUT: "+v})}ri.prototype.info=function(){};function Zd(h,v){if(!h.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var b=K[h];if(!(b.length<2)){var C=b[1];if(Array.isArray(C)&&!(C.length<1)){var F=C[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ce=1;ce<C.length;ce++)C[ce]=""}}}}return Rr(K)}catch{return v}}var Vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},al;function Ps(){}A(Ps,Gc),Ps.prototype.g=function(){return new XMLHttpRequest},al=new Ps;function Ji(h){return encodeURIComponent(String(h))}function Xc(h){var v=1;h=h.split(":");const b=[];for(;v>0&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function si(h,v,b,C){this.j=h,this.i=v,this.l=b,this.S=C||1,this.V=new ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Ct={},Ht={};function xi(h,v,b){h.M=1,h.A=Ls(Nt(v)),h.u=b,h.R=!0,Ia(h,null)}function Ia(h,v){h.F=Date.now(),Ci(h),h.B=Nt(h.A);var b=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),ja(b.i,"t",C),h.C=0,b=h.j.L,h.h=new ai,h.g=hu(h.j,b?v:null,!h.u),h.P>0&&(h.O=new fn(y(h.Y,h,h.g),h.P)),v=h.V,b=h.g,C=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(il[0]=F.toString()),F=il);for(let K=0;K<F.length;K++){const ce=$e(b,F[K],C||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=h.J?R(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ai(),Wd(h.i,h.v,h.B,h.l,h.S,h.u)}si.prototype.ba=function(h){h=h.target;const v=this.O;v&&ci(h)==3?v.j():this.Y(h)},si.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=ci(this.g),bt=this.g.ya(),Xe=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ie!=4||bt==7||(bt==8||Xe<=0?Ai(3):Ai(2)),Ri(this);var v=this.g.ca();this.X=v;var b=Jd(this);if(this.o=v==200,Yc(this.i,this.v,this.B,this.l,this.S,Ie,v),this.o){if(this.U&&!this.L){t:{if(this.g){var C,F=this.g;if((C=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(C)){var K=C;break t}}K=null}if(h=K)wi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,h);else{this.o=!1,this.m=3,xt(12),Cn(this),Un(this);break e}}if(this.R){h=!0;let mt;for(;!this.K&&this.C<b.length;)if(mt=Zc(this,b),mt==Ht){Ie==4&&(this.m=4,xt(14),h=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Ct){this.m=4,xt(15),wi(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else wi(this.i,this.l,mt,null),Ni(this,mt);if(Wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,xt(16),h=!1),this.o=this.o&&h,!h)wi(this.i,this.l,b,"[Invalid Chunked Response]"),Cn(this),Un(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),bl(ce),ce.P=!0,xt(11))}}else wi(this.i,this.l,b,null),Ni(this,b);Ie==4&&Cn(this),this.o&&!this.K&&(Ie==4?ou(this.j,this):(this.o=!1,Ci(this)))}else tr(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Cn(this),Un(this)}}}catch{}};function Jd(h){if(!Wc(h))return h.g.la();const v=Wt(h.g);if(v==="")return"";let b="";const C=v.length,F=ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Cn(h),Un(h),"";h.h.i=new u.TextDecoder}for(let K=0;K<C;K++)h.h.h=!0,b+=h.h.i.decode(v[K],{stream:!(F&&K==C-1)});return v.length=0,h.h.g+=b,h.C=0,h.h.g}function Wc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Zc(h,v){var b=h.C,C=v.indexOf(`
`,b);return C==-1?Ht:(b=Number(v.substring(b,C)),isNaN(b)?Ct:(C+=1,C+b>v.length?Ht:(v=v.slice(C,C+b),h.C=C+b,v)))}si.prototype.cancel=function(){this.K=!0,Cn(this)};function Ci(h){h.T=Date.now()+h.H,Da(h,h.H)}function Da(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Si(y(h.aa,h),v)}function Ri(h){h.D&&(u.clearTimeout(h.D),h.D=null)}si.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Os(this.i,this.B),this.M!=2&&(Ai(),xt(17)),Cn(this),this.m=2,Un(this)):Da(this,this.T-h)};function Un(h){h.j.I==0||h.K||ou(h.j,h)}function Cn(h){Ri(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,rl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ni(h,v){try{var b=h.j;if(b.I!=0&&(b.g==h||Di(b.h,h))){if(!h.L&&Di(b.h,h)&&b.I==3){try{var C=b.Ba.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var F=C;if(F[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)za(b),Vr(b);else break e;Gs(b),xt(18)}}else b.xa=F[1],0<b.xa-b.K&&F[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Si(y(b.Va,b),6e3));Ii(b.h)<=1&&b.ta&&(b.ta=void 0)}else Pi(b,11)}else if((h.L||b.g==h)&&za(b),!D(v))for(F=b.Ba.g.parse(v),v=0;v<F.length;v++){let Xe=F[v];const mt=Xe[0];if(!(mt<=b.K))if(b.K=mt,Xe=Xe[1],b.I==2)if(Xe[0]=="c"){b.M=Xe[1],b.ba=Xe[2];const qn=Xe[3];qn!=null&&(b.ka=qn,b.j.info("VER="+b.ka));const Li=Xe[4];Li!=null&&(b.za=Li,b.j.info("SVER="+b.za));const ui=Xe[5];ui!=null&&typeof ui=="number"&&ui>0&&(C=1.5*ui,b.O=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const hi=h.g;if(hi){const $s=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var K=C.h;K.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(cl(K,K.h),K.h=null))}if(C.G){const Ua=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(C.wa=Ua,et(C.J,C.G,Ua))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),C=b;var ce=h;if(C.na=uu(C,C.L?C.ba:null,C.W),ce.L){ul(C.h,ce);var Ie=ce,bt=C.O;bt&&(Ie.H=bt),Ie.D&&(Ri(Ie),Ci(Ie)),C.g=ce}else su(C);b.i.length>0&&Vi(b)}else Xe[0]!="stop"&&Xe[0]!="close"||Pi(b,7);else b.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Pi(b,7):_l(b):Xe[0]!="noop"&&b.l&&b.l.qa(Xe),b.A=0)}}Ai(4)}catch{}}var Rt=class{constructor(h,v){this.g=h,this.map=v}};function ol(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ll(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ii(h){return h.h?1:h.g?h.g.size:0}function Di(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function cl(h,v){h.g?h.g.add(v):h.h=v}function ul(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ol.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function hl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.G);return v}return N(h.i)}var Jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(h,v){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const C=h[b].indexOf("=");let F,K=null;C>=0?(F=h[b].substring(0,C),K=h[b].substring(C+1)):F=h[b],v(F,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Rn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Rn?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,Nr(this,h.u),this.h=h.h,dl(this,iu(h.i)),this.m=h.m):h&&(v=String(h).match(Jc))?(this.l=!1,Gt(this,v[1]||"",!0),this.o=Mi(v[2]||""),this.g=Mi(v[3]||"",!0),Nr(this,v[4]),this.h=Mi(v[5]||"",!0),dl(this,v[6]||"",!0),this.m=Mi(v[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}Rn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(zs(v,ka,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(zs(v,ka,!0),"@"),h.push(Ji(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(zs(b,b.charAt(0)=="/"?fl:eu,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",zs(b,tu)),h.join("")},Rn.prototype.resolve=function(h){const v=Nt(this);let b=!!h.j;b?Gt(v,h.j):b=!!h.o,b?v.o=h.o:b=!!h.g,b?v.g=h.g:b=h.u!=null;var C=h.h;if(b)Nr(v,h.u);else if(b=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var F=v.h.lastIndexOf("/");F!=-1&&(C=v.h.slice(0,F+1)+C)}if(F=C,F==".."||F==".")C="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){C=F.lastIndexOf("/",0)==0,F=F.split("/");const K=[];for(let ce=0;ce<F.length;){const Ie=F[ce++];Ie=="."?C&&ce==F.length&&K.push(""):Ie==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),C&&ce==F.length&&K.push("")):(K.push(Ie),C=!0)}C=K.join("/")}else C=F}return b?v.h=C:b=h.i.toString()!=="",b?dl(v,iu(h.i)):b=!!h.m,b&&(v.m=h.m),v};function Nt(h){return new Rn(h)}function Gt(h,v,b){h.j=b?Mi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Nr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function dl(h,v,b){v instanceof Dr?(h.i=v,Oa(h.i,h.l)):(b||(v=zs(v,Ir)),h.i=new Dr(v,h.l))}function et(h,v,b){h.i.set(v,b)}function Ls(h){return et(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Mi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function zs(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,gn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ka=/[#\/\?@]/g,eu=/[#\?:]/g,fl=/[#\?]/g,Ir=/[#\?@]/g,tu=/#/g;function Dr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ma(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}i=Dr.prototype,i.add=function(h,v){yn(this),this.i=null,h=Mr(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function nu(h,v){yn(h),v=Mr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ml(h,v){return yn(h),v=Mr(h,v),h.g.has(v)}i.forEach=function(h,v){yn(this),this.g.forEach(function(b,C){b.forEach(function(F){h.call(v,F,C,this)},this)},this)};function pl(h,v){yn(h);let b=[];if(typeof v=="string")ml(h,v)&&(b=b.concat(h.g.get(Mr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)b=b.concat(h[v]);return b}i.set=function(h,v){return yn(this),this.i=null,h=Mr(this,h),ml(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=pl(this,h),h.length>0?String(h[0]):v):v};function ja(h,v,b){nu(h,v),b.length>0&&(h.i=null,h.g.set(Mr(h,v),N(b)),h.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let C=0;C<v.length;C++){var b=v[C];const F=Ji(b);b=pl(this,b);for(let K=0;K<b.length;K++){let ce=F;b[K]!==""&&(ce+="="+Ji(b[K])),h.push(ce)}}return this.i=h.join("&")};function iu(h){const v=new Dr;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Mr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Oa(h,v){v&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(b,C){const F=C.toLowerCase();C!=F&&(nu(this,C),ja(this,F,b))},h)),h.j=v}function oi(h,v){const b=new ri;if(u.Image){const C=new Image;C.onload=E(Bn,b,"TestLoadImage: loaded",!0,v,C),C.onerror=E(Bn,b,"TestLoadImage: error",!1,v,C),C.onabort=E(Bn,b,"TestLoadImage: abort",!1,v,C),C.ontimeout=E(Bn,b,"TestLoadImage: timeout",!1,v,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function gl(h,v){const b=new ri,C=new AbortController,F=setTimeout(()=>{C.abort(),Bn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(K=>{clearTimeout(F),K.ok?Bn(b,"TestPingServer: ok",!0,v):Bn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Bn(b,"TestPingServer: error",!1,v)})}function Bn(h,v,b,C,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),C(b)}catch{}}function kr(){this.g=new Hc}function ki(h){this.i=h.Sb||null,this.h=h.ab||!1}A(ki,Gc),ki.prototype.g=function(){return new Us(this.i,this.h)};function Us(h,v){wt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Us,wt),i=Us.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,li(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Va(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Va(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?jr(this):li(this),this.readyState==3&&Va(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,jr(this))},i.Na=function(h){this.g&&(this.response=h,jr(this))},i.ga=function(){this.g&&jr(this)};function jr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,li(h)}i.setRequestHeader=function(h,v){this.A.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function li(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Fn(h){let v="";return xe(h,function(b,C){v+=C,v+=":",v+=b,v+=`\r
`}),v}function Bs(h,v,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=Fn(b),typeof h=="string"?b!=null&&Ji(b):et(h,v,b))}function it(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(it,wt);var ji=/^https?$/i,yl=["POST","PUT"];i=it.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,v,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():al.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(K){Fs(this,K);return}if(h=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var F in C)b.set(F,C[F]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const K of C.keys())b.set(K,C.get(K));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),F=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(yl,v,void 0)>=0)||C||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ce]of b)this.g.setRequestHeader(K,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Fs(this,K)}};function Fs(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,vl(h),er(h)}function vl(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,zt(this,"complete"),zt(this,"abort"),er(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),it.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},i.Xa=function(){qs(this)};function qs(h){if(h.h&&typeof c<"u"){if(h.v&&ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(zt(h,"readystatechange"),ci(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var C;if(C=K===0){let ce=String(h.D).match(Jc)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),C=!ji.test(ce?ce.toLowerCase():"")}b=C}if(b)zt(h,"complete"),zt(h,"success");else{h.o=6;try{var F=ci(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",vl(h)}}finally{er(h)}}}}function er(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,v||zt(h,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Xd(v)}};function Wt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function tr(h){const v={};h=(h.g&&ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(D(h[C]))continue;var b=Xc(h[C]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=v[F]||[];v[F]=K,K.push(b)}Le(v,function(C){return C.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Or(h){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,h),this.Za=Oi("retryDelaySeedMs",1e4,h),this.Ta=Oi("forwardChannelMaxRetries",2,h),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(h&&h.concurrentRequestLimit),this.Ba=new kr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Or.prototype,i.ka=8,i.I=1,i.connect=function(h,v,b,C){xt(0),this.W=h,this.H=v||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.J=uu(this,null,this.W),Vi(this)};function _l(h){if(Pa(h),h.I==3){var v=h.V++,b=Nt(h.J);if(et(b,"SID",h.M),et(b,"RID",v),et(b,"TYPE","terminate"),Hs(h,b),v=new si(h,h.j,v),v.M=2,v.A=Ls(Nt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=v.A,b=!0),b||(v.g=hu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ci(v)}cu(h)}function Vr(h){h.g&&(bl(h),h.g.cancel(),h.g=null)}function Pa(h){Vr(h),h.v&&(u.clearTimeout(h.v),h.v=null),za(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Vi(h){if(!ll(h.h)&&!h.m){h.m=!0;var v=h.Ea;Y||x(),L||(Y(),L=!0),T.add(v,h),h.D=0}}function La(h,v){return Ii(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Si(y(h.Ea,h,v),lu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new si(this,this.j,h);let K=this.o;if(this.U&&(K?(K=R(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(F.J=K,K=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=ru(this,F,v),b=Nt(this.J),et(b,"RID",h),et(b,"CVER",22),this.G&&et(b,"X-HTTP-Session-Id",this.G),Hs(this,b),K&&(this.R?v="headers="+Ji(Fn(K))+"&"+v:this.u&&Bs(b,this.u,K)),cl(this.h,F),this.Ra&&et(b,"TYPE","init"),this.S?(et(b,"$req",v),et(b,"SID","null"),F.U=!0,xi(F,b,null)):xi(F,b,v),this.I=2}}else this.I==3&&(h?El(this,h):this.i.length==0||ll(this.h)||El(this))};function El(h,v){var b;v?b=v.l:b=h.V++;const C=Nt(h.J);et(C,"SID",h.M),et(C,"RID",b),et(C,"AID",h.K),Hs(h,C),h.u&&h.o&&Bs(C,h.u,h.o),b=new si(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),v&&(h.i=v.G.concat(h.i)),v=ru(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),cl(h.h,b),xi(b,C,v)}function Hs(h,v){h.H&&xe(h.H,function(b,C){et(v,C,b)}),h.l&&xe({},function(b,C){et(v,C,b)})}function ru(h,v,b){b=Math.min(h.i.length,b);const C=h.l?y(h.l.Ka,h.l,h):null;e:{var F=h.i;let Ie=-1;for(;;){const bt=["count="+b];Ie==-1?b>0?(Ie=F[0].g,bt.push("ofs="+Ie)):Ie=0:bt.push("ofs="+Ie);let Xe=!0;for(let mt=0;mt<b;mt++){var K=F[mt].g;const qn=F[mt].map;if(K-=Ie,K<0)Ie=Math.max(0,F[mt].g-100),Xe=!1;else try{K="req"+K+"_"||"";try{var ce=qn instanceof Map?qn:Object.entries(qn);for(const[Li,ui]of ce){let hi=ui;m(ui)&&(hi=Rr(ui)),bt.push(K+Li+"="+encodeURIComponent(hi))}}catch(Li){throw bt.push(K+"type="+encodeURIComponent("_badmap")),Li}}catch{C&&C(qn)}}if(Xe){ce=bt.join("&");break e}}ce=void 0}return h=h.i.splice(0,b),v.G=h,ce}function su(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;Y||x(),L||(Y(),L=!0),T.add(v,h),h.A=0}}function Gs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Si(y(h.Da,h),lu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Si(y(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Vr(this),au(this))};function bl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function au(h){h.g=new si(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Nt(h.na);et(v,"RID","rpc"),et(v,"SID",h.M),et(v,"AID",h.K),et(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&et(v,"TO",h.ia),et(v,"TYPE","xmlhttp"),Hs(h,v),h.u&&h.o&&Bs(v,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Ls(Nt(v)),b.u=null,b.R=!0,Ia(b,h)}i.Va=function(){this.C!=null&&(this.C=null,Vr(this),Gs(this),xt(19))};function za(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function ou(h,v){var b=null;if(h.g==v){za(h),bl(h),h.g=null;var C=2}else if(Di(h.h,v))b=v.G,ul(h.h,v),C=1;else return;if(h.I!=0){if(v.o)if(C==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var F=h.D;C=Na(),zt(C,new Ti(C,b)),Vi(h)}else su(h);else if(F=v.m,F==3||F==0&&v.X>0||!(C==1&&La(h,v)||C==2&&Gs(h)))switch(b&&b.length>0&&(v=h.h,v.i=v.i.concat(b)),F){case 1:Pi(h,5);break;case 4:Pi(h,10);break;case 3:Pi(h,6);break;default:Pi(h,2)}}}function lu(h,v){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*v}function Pi(h,v){if(h.j.info("Error code "+v),v==2){var b=y(h.bb,h),C=h.Ua;const F=!C;C=new Rn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Gt(C,"https"),Ls(C),F?oi(C.toString(),b):gl(C.toString(),b)}else xt(2);h.I=0,h.l&&h.l.pa(v),cu(h),Pa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function cu(h){if(h.I=0,h.ja=[],h.l){const v=hl(h.h);(v.length!=0||h.i.length!=0)&&(j(h.ja,v),j(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function uu(h,v,b){var C=b instanceof Rn?Nt(b):new Rn(b);if(C.g!="")v&&(C.g=v+"."+C.g),Nr(C,C.u);else{var F=u.location;C=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const K=new Rn(null);C&&Gt(K,C),v&&(K.g=v),F&&Nr(K,F),b&&(K.h=b),C=K}return b=h.G,v=h.wa,b&&v&&et(C,b,v),et(C,"VER",h.ka),Hs(h,C),C}function hu(h,v,b){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new it(new ki({ab:b})):new it(h.ma),v.Fa(h.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}i=du.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Pr(){}Pr.prototype.g=function(h,v){return new mn(h,v)};function mn(h,v){wt.call(this),this.g=new Or(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new nr(this)}A(mn,wt),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){_l(this.g)},mn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Rr(h),h=b);v.i.push(new Rt(v.Ya++,h)),v.I==3&&Vi(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,mn.Z.N.call(this)};function fu(h){Xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}A(fu,Xt);function mu(){zn.call(this),this.status=1}A(mu,zn);function nr(h){this.g=h}A(nr,du),nr.prototype.ra=function(){zt(this.g,"a")},nr.prototype.qa=function(h){zt(this.g,new fu(h))},nr.prototype.pa=function(h){zt(this.g,new mu)},nr.prototype.oa=function(){zt(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Ob=function(){return new Pr},jb=function(){return Na()},kb=Et,Op={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,Ch=Vs,sl.COMPLETE="complete",Mb=sl,$c.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",wt.prototype.listen=wt.prototype.J,lc=$c,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,Db=it}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const m_="@firebase/firestore",p_="4.9.3";class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Go="12.7.0";const Ea=new mg("@firebase/firestore");function vo(){return Ea.logLevel}function fe(i,...e){if(Ea.logLevel<=Be.DEBUG){const t=e.map(yg);Ea.debug(`Firestore (${Go}): ${i}`,...t)}}function Tr(i,...e){if(Ea.logLevel<=Be.ERROR){const t=e.map(yg);Ea.error(`Firestore (${Go}): ${i}`,...t)}}function No(i,...e){if(Ea.logLevel<=Be.WARN){const t=e.map(yg);Ea.warn(`Firestore (${Go}): ${i}`,...t)}}function yg(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Se(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Vb(i,s,t)}function Vb(i,e,t){let s=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Tr(s),new Error(s)}function Je(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||Vb(e,o,s)}function Ne(i,e){return i}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Pb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cn.UNAUTHENTICATED)))}shutdown(){}}class JC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class eR{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new Pb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class tR{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nR{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new tR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const s=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new g_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rR(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class vg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function Fe(i,e){return i<e?-1:i>e?1:0}function Vp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return op(o)===op(c)?Fe(o,c):op(o)?1:-1}return Fe(i.length,e.length)}const sR=55296,aR=57343;function op(i){const e=i.charCodeAt(0);return e>=sR&&e<=aR}function Io(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}const y_="__name__";class qi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Se(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=qi.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Fe(e.length,t.length)}static compareSegments(e,t){const s=qi.isNumericId(e),o=qi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?qi.extractNumericId(e).compare(qi.extractNumericId(t)):Vp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class lt extends qi{construct(e,t,s){return new lt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const oR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends qi{construct(e,t,s){return new rn(e,t,s)}static isValidIdentifier(e){return oR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new rn([y_])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(s+=m,o++):(c(),o++)}if(c(),u)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}function Lb(i,e,t){if(!t)throw new he(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function lR(i,e,t,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function v_(i){if(!Ee.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function __(i){if(Ee.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function _d(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function vs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_d(i);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function cR(i,e){if(e<=0)throw new he(ne.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Pt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Mc(i,e){if(!zb(i))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const u=i[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new he(ne.INVALID_ARGUMENT,t);return!0}const E_=-62135596800,b_=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*b_);return new ft(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<E_)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Pt("string",ft._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ft(0,0))}static max(){return new Ce(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bc=-1;function uR(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new ft(t+1,0):new ft(t,s));return new bs(o,Ee.empty(),e)}function hR(i){return new bs(i.readTime,i.key,bc)}class bs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new bs(Ce.min(),Ee.empty(),bc)}static max(){return new bs(Ce.max(),Ee.empty(),bc)}}function dR(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(i.documentKey,e.documentKey),t!==0?t:Fe(i.largestBatchId,e.largestBatchId))}const fR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $o(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==fR)throw i;fe("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,s)=>{t(e)}))}static reject(e){return new re(((t,s)=>{s(e)}))}static waitFor(e){return new re(((t,s)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&t()}),(g=>s(g)))})),u=!0,c===o&&t()}))}static or(e){let t=re.resolve(!1);for(const s of e)t=t.next((o=>o?re.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new re(((s,o)=>{const c=e.length,u=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next((E=>{u[y]=E,++m,m===c&&s(u)}),(E=>o(E)))}}))}static doWhile(e,t){return new re(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function pR(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qo(i){return i.name==="IndexedDbTransactionError"}class Ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ed.ce=-1;const _g=-1;function bd(i){return i==null}function Kh(i){return i===0&&1/i==-1/0}function gR(i){return typeof i=="number"&&Number.isInteger(i)&&!Kh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Ub="";function yR(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=A_(e)),e=vR(i.get(t),e);return A_(e)}function vR(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":t+="";break;case Ub:t+="";break;default:t+=c}}return t}function A_(i){return i+Ub+""}function T_(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Rs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Bb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class yt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??nn.RED,this.left=o??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new nn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new qt(rn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class Fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Fb("Invalid base64 string: "+c):c}})(e);return new sn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const _R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(i){if(Je(!!i,39018),typeof i=="string"){let e=0;const t=_R.exec(i);if(Je(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(i.seconds),nanos:St(i.nanos)}}function St(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ts(i){return typeof i=="string"?sn.fromBase64String(i):sn.fromUint8Array(i)}const qb="server_timestamp",Hb="__type__",Gb="__previous_value__",$b="__local_write_time__";function Eg(i){return(i?.mapValue?.fields||{})[Hb]?.stringValue===qb}function Ad(i){const e=i.mapValue.fields[Gb];return Eg(e)?Ad(e):e}function Ac(i){const e=As(i.mapValue.fields[$b].timestampValue);return new ft(e.seconds,e.nanos)}class ER{constructor(e,t,s,o,c,u,m,g,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Yh="(default)";class Tc{constructor(e,t){this.projectId=e,this.database=t||Yh}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}const Qb="__type__",bR="__max__",bh={mapValue:{}},Kb="__vector__",Xh="value";function Ss(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Eg(i)?4:TR(i)?9007199254740991:AR(i)?10:11:Se(28295,{value:i})}function Zi(i,e){if(i===e)return!0;const t=Ss(i);if(t!==Ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ac(i).isEqual(Ac(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=As(o.timestampValue),m=As(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Ts(o.bytesValue).isEqual(Ts(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return St(o.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return St(o.integerValue)===St(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=St(o.doubleValue),m=St(c.doubleValue);return u===m?Kh(u)===Kh(m):isNaN(u)&&isNaN(m)}return!1})(i,e);case 9:return Io(i.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(T_(u)!==T_(m))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(m[g]===void 0||!Zi(u[g],m[g])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function Sc(i,e){return(i.values||[]).find((t=>Zi(t,e)))!==void 0}function Do(i,e){if(i===e)return 0;const t=Ss(i),s=Ss(e);if(t!==s)return Fe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=St(c.integerValue||c.doubleValue),g=St(u.integerValue||u.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return w_(i.timestampValue,e.timestampValue);case 4:return w_(Ac(i),Ac(e));case 5:return Vp(i.stringValue,e.stringValue);case 6:return(function(c,u){const m=Ts(c),g=Ts(u);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),g=u.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Fe(m[y],g[y]);if(E!==0)return E}return Fe(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=Fe(St(c.latitude),St(u.latitude));return m!==0?m:Fe(St(c.longitude),St(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return x_(i.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},g=u.fields||{},y=m[Xh]?.arrayValue,E=g[Xh]?.arrayValue,A=Fe(y?.values?.length||0,E?.values?.length||0);return A!==0?A:x_(y,E)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===bh.mapValue&&u===bh.mapValue)return 0;if(c===bh.mapValue)return 1;if(u===bh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=u.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const w=Vp(g[A],E[A]);if(w!==0)return w;const N=Do(m[g[A]],y[E[A]]);if(N!==0)return N}return Fe(g.length,E.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function w_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Fe(i,e);const t=As(i),s=As(e),o=Fe(t.seconds,s.seconds);return o!==0?o:Fe(t.nanos,s.nanos)}function x_(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Do(t[o],s[o]);if(c)return c}return Fe(t.length,s.length)}function Mo(i){return Pp(i)}function Pp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=As(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Ts(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Ee.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=Pp(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${Pp(t.fields[u])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function Rh(i){switch(Ss(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ad(i);return e?16+Rh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ts(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Rh(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Rs(s.fields,((c,u)=>{o+=c.length+Rh(u)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function C_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Lp(i){return!!i&&"integerValue"in i}function bg(i){return!!i&&"arrayValue"in i}function R_(i){return!!i&&"nullValue"in i}function N_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nh(i){return!!i&&"mapValue"in i}function AR(i){return(i?.mapValue?.fields||{})[Qb]?.stringValue===Kb}function mc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Rs(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=mc(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mc(i.arrayValue.values[t]);return e}return{...i}}function TR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===bR}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(t)}setAll(e){let t=rn.emptyPath(),s={},o=[];e.forEach(((u,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}u?s[m.lastSegment()]=mc(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());Nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Rs(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new wn(mc(this.value))}}function Yb(i){const e=[];return Rs(i.fields,((t,s)=>{const o=new rn([t]);if(Nh(s)){const c=Yb(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Ln(e)}class un{constructor(e,t,s,o,c,u,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new un(e,0,Ce.min(),Ce.min(),Ce.min(),wn.empty(),0)}static newFoundDocument(e,t,s,o){return new un(e,1,t,Ce.min(),s,o,0)}static newNoDocument(e,t){return new un(e,2,t,Ce.min(),Ce.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Ce.min(),Ce.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wh{constructor(e,t){this.position=e,this.inclusive=t}}function I_(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?s=Ee.comparator(Ee.fromName(u.referenceValue),t.key):s=Do(u,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function D_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Zi(i.position[t],e.position[t]))return!1;return!0}class Zh{constructor(e,t="asc"){this.field=e,this.dir=t}}function SR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Xb{}class Vt extends Xb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new xR(e,t,s):t==="array-contains"?new NR(e,s):t==="in"?new IR(e,s):t==="not-in"?new DR(e,s):t==="array-contains-any"?new MR(e,s):new Vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new CR(e,s):new RR(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Do(t,this.value)):t!==null&&Ss(this.value)===Ss(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends Xb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vi(e,t)}matches(e){return Wb(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wb(i){return i.op==="and"}function Zb(i){return wR(i)&&Wb(i)}function wR(i){for(const e of i.filters)if(e instanceof vi)return!1;return!0}function zp(i){if(i instanceof Vt)return i.field.canonicalString()+i.op.toString()+Mo(i.value);if(Zb(i))return i.filters.map((e=>zp(e))).join(",");{const e=i.filters.map((t=>zp(t))).join(",");return`${i.op}(${e})`}}function Jb(i,e){return i instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Zi(s.value,o.value)})(i,e):i instanceof vi?(function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,m)=>c&&Jb(u,o.filters[m])),!0):!1})(i,e):void Se(19439)}function eA(i){return i instanceof Vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Mo(t.value)}`})(i):i instanceof vi?(function(t){return t.op.toString()+" {"+t.getFilters().map(eA).join(" ,")+"}"})(i):"Filter"}class xR extends Vt{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class CR extends Vt{constructor(e,t){super(e,"in",t),this.keys=tA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class RR extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=tA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function tA(i,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class NR extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bg(t)&&Sc(t.arrayValue,this.value)}}class IR extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Sc(this.value.arrayValue,t)}}class DR extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Sc(this.value.arrayValue,t)}}class MR extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Sc(this.value.arrayValue,s)))}}class kR{constructor(e,t=null,s=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function M_(i,e=null,t=[],s=[],o=null,c=null,u=null){return new kR(i,e,t,s,o,c,u)}function Ag(i){const e=Ne(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>zp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Mo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Mo(s))).join(",")),e.Te=t}return e.Te}function Tg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!SR(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Jb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!D_(i.startAt,e.startAt)&&D_(i.endAt,e.endAt)}function Up(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class kc{constructor(e,t=null,s=[],o=[],c=null,u="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jR(i,e,t,s,o,c,u,m){return new kc(i,e,t,s,o,c,u,m)}function Sg(i){return new kc(i)}function k_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function nA(i){return i.collectionGroup!==null}function pc(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new qt(rn.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Zh(c,s))})),t.has(rn.keyField().canonicalString())||e.Ie.push(new Zh(rn.keyField(),s))}return e.Ie}function $i(i){const e=Ne(i);return e.Ee||(e.Ee=OR(e,pc(i))),e.Ee}function OR(i,e){if(i.limitType==="F")return M_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Zh(o.field,c)}));const t=i.endAt?new Wh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Wh(i.startAt.position,i.startAt.inclusive):null;return M_(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Bp(i,e){const t=i.filters.concat([e]);return new kc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Jh(i,e,t){return new kc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Td(i,e){return Tg($i(i),$i(e))&&i.limitType===e.limitType}function iA(i){return`${Ag($i(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>eA(o))).join(", ")}]`),bd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Mo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Mo(o))).join(",")),`Target(${s})`})($i(i))}; limitType=${i.limitType})`}function Sd(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ee.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of pc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(u,m,g){const y=I_(u,m,g);return u.inclusive?y<=0:y<0})(s.startAt,pc(s),o)||s.endAt&&!(function(u,m,g){const y=I_(u,m,g);return u.inclusive?y>=0:y>0})(s.endAt,pc(s),o))})(i,e)}function VR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function rA(i){return(e,t)=>{let s=!1;for(const o of pc(i)){const c=PR(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function PR(i,e,t){const s=i.field.isKeyField()?Ee.comparator(e.key,t.key):(function(c,u,m){const g=u.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Do(g,y):Se(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}class Sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return Bb(this.inner)}size(){return this.innerSize}}const LR=new yt(Ee.comparator);function Sr(){return LR}const sA=new yt(Ee.comparator);function cc(...i){let e=sA;for(const t of i)e=e.insert(t.key,t);return e}function aA(i){let e=sA;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ha(){return gc()}function oA(){return gc()}function gc(){return new Sa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const zR=new yt(Ee.comparator),UR=new qt(Ee.comparator);function qe(...i){let e=UR;for(const t of i)e=e.add(t);return e}const BR=new qt(Fe);function FR(){return BR}function wg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function lA(i){return{integerValue:""+i}}function qR(i,e){return gR(e)?lA(e):wg(i,e)}class wd{constructor(){this._=void 0}}function HR(i,e,t){return i instanceof ed?(function(o,c){const u={fields:{[Hb]:{stringValue:qb},[$b]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Eg(c)&&(c=Ad(c)),c&&(u.fields[Gb]=c),{mapValue:u}})(t,e):i instanceof wc?uA(i,e):i instanceof xc?hA(i,e):(function(o,c){const u=cA(o,c),m=j_(u)+j_(o.Ae);return Lp(u)&&Lp(o.Ae)?lA(m):wg(o.serializer,m)})(i,e)}function GR(i,e,t){return i instanceof wc?uA(i,e):i instanceof xc?hA(i,e):t}function cA(i,e){return i instanceof td?(function(s){return Lp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class ed extends wd{}class wc extends wd{constructor(e){super(),this.elements=e}}function uA(i,e){const t=dA(e);for(const s of i.elements)t.some((o=>Zi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class xc extends wd{constructor(e){super(),this.elements=e}}function hA(i,e){let t=dA(e);for(const s of i.elements)t=t.filter((o=>!Zi(o,s)));return{arrayValue:{values:t}}}class td extends wd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function j_(i){return St(i.integerValue||i.doubleValue)}function dA(i){return bg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function $R(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof wc&&o instanceof wc||s instanceof xc&&o instanceof xc?Io(s.elements,o.elements,Zi):s instanceof td&&o instanceof td?Zi(s.Ae,o.Ae):s instanceof ed&&o instanceof ed})(i.transform,e.transform)}class QR{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class xd{}function fA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new xg(i.key,Jn.none()):new jc(i.key,i.data,Jn.none());{const t=i.data,s=wn.empty();let o=new qt(rn.comparator);for(let c of e.fields)if(!o.has(c)){let u=t.field(c);u===null&&c.length>1&&(c=c.popLast(),u=t.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new Ns(i.key,s,new Ln(o.toArray()),Jn.none())}}function KR(i,e,t){i instanceof jc?(function(o,c,u){const m=o.value.clone(),g=V_(o.fieldTransforms,c,u.transformResults);m.setAll(g),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(i,e,t):i instanceof Ns?(function(o,c,u){if(!Ih(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=V_(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(mA(o)),g.setAll(m),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(i,e,t):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function yc(i,e,t,s){return i instanceof jc?(function(c,u,m,g){if(!Ih(c.precondition,u))return m;const y=c.value.clone(),E=P_(c.fieldTransforms,g,u);return y.setAll(E),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(i,e,t,s):i instanceof Ns?(function(c,u,m,g){if(!Ih(c.precondition,u))return m;const y=P_(c.fieldTransforms,g,u),E=u.data;return E.setAll(mA(c)),E.setAll(y),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(i,e,t,s):(function(c,u,m){return Ih(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(i,e,t)}function YR(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=cA(s.transform,o||null);c!=null&&(t===null&&(t=wn.empty()),t.set(s.field,c))}return t||null}function O_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((c,u)=>$R(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class jc extends xd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ns extends xd{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mA(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function V_(i,e,t){const s=new Map;Je(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const c=i[o],u=c.transform,m=e.data.field(c.field);s.set(c.field,GR(u,m,t[o]))}return s}function P_(i,e,t){const s=new Map;for(const o of i){const c=o.transform,u=t.data.field(o.field);s.set(o.field,HR(c,u,e))}return s}class xg extends xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XR extends xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WR{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&KR(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=yc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=yc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=oA();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=t.has(o.key)?null:m;const g=fA(u,m);g!==null&&s.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,((t,s)=>O_(t,s)))&&Io(this.baseMutations,e.baseMutations,((t,s)=>O_(t,s)))}}class Cg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return zR})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new Cg(e,t,s,o)}}class ZR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JR{constructor(e,t){this.count=e,this.unchangedNames=t}}var jt,Ge;function e4(i){switch(i){case ne.OK:return Se(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function pA(i){if(i===void 0)return Tr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case jt.OK:return ne.OK;case jt.CANCELLED:return ne.CANCELLED;case jt.UNKNOWN:return ne.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ne.INTERNAL;case jt.UNAVAILABLE:return ne.UNAVAILABLE;case jt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case jt.NOT_FOUND:return ne.NOT_FOUND;case jt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case jt.ABORTED:return ne.ABORTED;case jt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case jt.DATA_LOSS:return ne.DATA_LOSS;default:return Se(39323,{code:i})}}(Ge=jt||(jt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function t4(){return new TextEncoder}const n4=new gs([4294967295,4294967295],0);function L_(i){const e=t4().encode(i),t=new Ib;return t.update(e),new Uint8Array(t.digest())}function z_(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new gs([t,s],0),new gs([o,c],0)]}class Rg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new uc(`Invalid padding: ${t}`);if(s<0)throw new uc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new uc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=gs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(gs.fromNumber(s)));return o.compare(n4)===1&&(o=new gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=L_(e),[s,o]=z_(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Rg(c,o,t);return s.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const t=L_(e),[s,o]=z_(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cd{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Cd(Ce.min(),o,new yt(Fe),Sr(),qe())}}class Oc{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Oc(s,t,qe(),qe(),qe())}}class Dh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class gA{constructor(e,t){this.targetId=e,this.Ce=t}}class yA{constructor(e,t,s=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class U_{constructor(){this.ve=0,this.Fe=B_(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),t=qe(),s=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:c})}})),new Oc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=B_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sr(),this.Je=Ah(),this.He=Ah(),this.Ye=new yt(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Up(c))if(s===0){const u=new Ee(c.path);this.et(t,u,un.newNoDocument(u,Ce.min()))}else Je(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const m=this.ut(e),g=m?this.ct(m,e,u):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let u,m;try{u=Ts(s).toUint8Array()}catch(g){if(g instanceof Fb)return No("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Rg(u,o,c)}catch(g){return No(g instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&Up(m.target)){const g=new Ee(m.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,un.newNoDocument(g,e))}c.Be&&(t.set(u,c.ke()),c.qe())}}));let s=qe();this.He.forEach(((c,u)=>{let m=!0;u.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Cd(e,t,this.Ye,this.je,s);return this.je=Sr(),this.Je=Ah(),this.He=Ah(),this.Ye=new yt(Fe),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new U_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ah(){return new yt(Ee.comparator)}function B_(){return new yt(Ee.comparator)}const r4={asc:"ASCENDING",desc:"DESCENDING"},s4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a4={and:"AND",or:"OR"};class o4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fp(i,e){return i.useProto3Json||bd(e)?e:{value:e}}function nd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function l4(i,e){return nd(i,e.toTimestamp())}function Qi(i){return Je(!!i,49232),Ce.fromTimestamp((function(t){const s=As(t);return new ft(s.seconds,s.nanos)})(i))}function Ng(i,e){return qp(i,e).canonicalString()}function qp(i,e){const t=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function _A(i){const e=lt.fromString(i);return Je(SA(e),10190,{key:e.toString()}),e}function Hp(i,e){return Ng(i.databaseId,e.path)}function lp(i,e){const t=_A(e);if(t.get(1)!==i.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ee(bA(t))}function EA(i,e){return Ng(i.databaseId,e)}function c4(i){const e=_A(i);return e.length===4?lt.emptyPath():bA(e)}function Gp(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function bA(i){return Je(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function F_(i,e,t){return{name:Hp(i,e),fields:t.value.mapValue.fields}}function u4(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Je(E===void 0||typeof E=="string",58123),sn.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),sn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(y){const E=y.code===void 0?ne.UNKNOWN:pA(y.code);return new he(E,y.message||"")})(u);t=new yA(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=lp(i,s.document.name),c=Qi(s.document.updateTime),u=s.document.createTime?Qi(s.document.createTime):Ce.min(),m=new wn({mapValue:{fields:s.document.fields}}),g=un.newFoundDocument(o,c,u,m),y=s.targetIds||[],E=s.removedTargetIds||[];t=new Dh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=lp(i,s.document),c=s.readTime?Qi(s.readTime):Ce.min(),u=un.newNoDocument(o,c),m=s.removedTargetIds||[];t=new Dh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=lp(i,s.document),c=s.removedTargetIds||[];t=new Dh([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new JR(o,c),m=s.targetId;t=new gA(m,u)}}return t}function h4(i,e){let t;if(e instanceof jc)t={update:F_(i,e.key,e.value)};else if(e instanceof xg)t={delete:Hp(i,e.key)};else if(e instanceof Ns)t={update:F_(i,e.key,e.data),updateMask:E4(e.fieldMask)};else{if(!(e instanceof XR))return Se(16599,{Vt:e.type});t={verify:Hp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const m=u.transform;if(m instanceof ed)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof td)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:l4(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(i,e.precondition)),t}function d4(i,e){return i&&i.length>0?(Je(e!==void 0,14353),i.map((t=>(function(o,c){let u=o.updateTime?Qi(o.updateTime):Qi(c);return u.isEqual(Ce.min())&&(u=Qi(c)),new QR(u,o.transformResults||[])})(t,e)))):[]}function f4(i,e){return{documents:[EA(i,e.path)]}}function m4(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=EA(i,o);const c=(function(y){if(y.length!==0)return TA(vi.create(y,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:Eo(w.field),direction:y4(w.dir)}})(E)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=Fp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function p4(i){let e=c4(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Je(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];t.where&&(c=(function(A){const w=AA(A);return w instanceof vi&&Zb(w)?w.getFilters():[w]})(t.where));let u=[];t.orderBy&&(u=(function(A){return A.map((w=>(function(j){return new Zh(bo(j.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(w)))})(t.orderBy));let m=null;t.limit&&(m=(function(A){let w;return w=typeof A=="object"?A.value:A,bd(w)?null:w})(t.limit));let g=null;t.startAt&&(g=(function(A){const w=!!A.before,N=A.values||[];return new Wh(N,w)})(t.startAt));let y=null;return t.endAt&&(y=(function(A){const w=!A.before,N=A.values||[];return new Wh(N,w)})(t.endAt)),jR(e,o,u,c,m,"F",g,y)}function g4(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AA(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=bo(t.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(t.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=bo(t.unaryFilter.field);return Vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bo(t.unaryFilter.field);return Vt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Vt.create(bo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return vi.create(t.compositeFilter.filters.map((s=>AA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(i):Se(30097,{filter:i})}function y4(i){return r4[i]}function v4(i){return s4[i]}function _4(i){return a4[i]}function Eo(i){return{fieldPath:i.canonicalString()}}function bo(i){return rn.fromServerFormat(i.fieldPath)}function TA(i){return i instanceof Vt?(function(t){if(t.op==="=="){if(N_(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(R_(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(N_(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(R_(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:v4(t.op),value:t.value}}})(i):i instanceof vi?(function(t){const s=t.getFilters().map((o=>TA(o)));return s.length===1?s[0]:{compositeFilter:{op:_4(t.op),filters:s}}})(i):Se(54877,{filter:i})}function E4(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function SA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ds{constructor(e,t,s,o,c=Ce.min(),u=Ce.min(),m=sn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class b4{constructor(e){this.yt=e}}function A4(i){const e=p4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Jh(e,e.limit,"L"):e}class T4{constructor(){this.Cn=new S4}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(bs.min())}updateCollectionGroup(e,t,s){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class S4{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new qt(lt.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new qt(lt.comparator)).toArray()}}const q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wA=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(wA,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class ko{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}const H_="LruGarbageCollector",w4=1048576;function G_([i,e],[t,s]){const o=Fe(i,t);return o===0?Fe(e,s):o}class x4{constructor(e){this.Ir=e,this.buffer=new qt(G_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();G_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class C4{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(H_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qo(t)?fe(H_,"Ignoring IndexedDB error during garbage collection: ",t):await $o(t)}await this.Vr(3e5)}))}}class R4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Ed.ce);const s=new x4(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(q_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,u,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,u=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,t)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),vo()<=Be.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-E}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function N4(i,e){return new R4(i,e)}class I4{constructor(){this.changes=new Sa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?re.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class D4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class M4{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&yc(s.mutation,o,Ln.empty(),ft.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=qe()){const o=ha();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let u=cc();return c.forEach(((m,g)=>{u=u.insert(m,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=ha();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,qe())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{t.set(u,m)}))}))}computeViews(e,t,s,o){let c=Sr();const u=gc(),m=(function(){return gc()})();return t.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ns)?c=c.insert(y.key,y):E!==void 0?(u.set(y.key,E.mutation.getFieldMask()),yc(E.mutation,y,E.mutation.getFieldMask(),ft.now())):u.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>u.set(y,E))),t.forEach(((y,E)=>m.set(y,new D4(E,u.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=gc();let o=new yt(((u,m)=>u-m)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const m of u)m.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let E=s.get(g)||Ln.empty();E=m.applyToLocalView(y,E),s.set(g,E);const A=(o.get(m.batchId)||qe()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=oA();E.forEach((w=>{if(!c.has(w)){const N=fA(t.get(w),s.get(w));N!==null&&A.set(w,N),c=c.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,A))}return re.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):re.resolve(ha());let m=bc,g=c;return u.next((y=>re.forEach(y,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,qe()))).next((E=>({batchId:m,changes:aA(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((s=>{let o=cc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let u=cc();return this.indexManager.getCollectionParents(e,c).next((m=>re.forEach(m,(g=>{const y=(function(A,w){return new kc(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((A,w)=>{u=u.insert(A,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((u=>{c.forEach(((g,y)=>{const E=y.getKey();u.get(E)===null&&(u=u.insert(E,un.newInvalidDocument(E)))}));let m=cc();return u.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&yc(E.mutation,y,Ln.empty(),ft.now()),Sd(t,y)&&(m=m.insert(g,y))})),m}))}}class k4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Qi(o.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:A4(o.bundledQuery),readTime:Qi(o.readTime)}})(t)),re.resolve()}}class j4{constructor(){this.overlays=new yt(Ee.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ha();return re.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.St(e,t,c)})),re.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,t,s){const o=ha(),c=t.length+1,u=new Ee(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new yt(((y,E)=>y-E));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ha(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ha(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return re.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new ZR(t,s));let c=this.qr.get(t);c===void 0&&(c=qe(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}class O4{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}class Ig{constructor(){this.Qr=new qt(Qt.$r),this.Ur=new qt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Qt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Ee(new lt([])),s=new Qt(t,e),o=new Qt(t,e+1),c=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new lt([])),s=new Qt(t,e),o=new Qt(t,e+1);let c=qe();return this.Ur.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const t=new Qt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}class V4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Qt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new WR(c,t,s,o);this.mutationQueue.push(u);for(const m of o)this.Zr=this.Zr.add(new Qt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?_g:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Qt(t,0),o=new Qt(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(u=>{const m=this.Xr(u.Yr);c.push(m)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(Fe);return t.forEach((o=>{const c=new Qt(o,0),u=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(m=>{s=s.add(m.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Ee.isDocumentKey(c)||(c=c.child(""));const u=new Qt(new Ee(c),0);let m=new qt(Fe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),u),re.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(t.mutations,(o=>{const c=new Qt(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Qt(t,0),o=this.Zr.firstAfterOrEqual(s);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class P4{constructor(e){this.ri=e,this.docs=(function(){return new yt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return re.resolve(s?s.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let s=Sr();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():un.newInvalidDocument(o))})),re.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Sr();const u=t.path,m=new Ee(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||dR(hR(E),s)<=0||(o.has(E.key)||Sd(t,E))&&(c=c.insert(E.key,E.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,t,s,o){Se(9500)}ii(e,t){return re.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new L4(this)}getSize(e){return re.resolve(this.size)}}class L4 extends I4{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class z4{constructor(e){this.persistence=e,this.si=new Sa((t=>Ag(t)),Tg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Ig,this.targetCount=0,this.ai=ko.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(c).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return re.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),re.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),re.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return re.resolve(s)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}class xA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ed(0),this.li=!1,this.li=!0,this.hi=new O4,this.referenceDelegate=e(this),this.Pi=new z4(this),this.indexManager=new T4,this.remoteDocumentCache=(function(o){return new P4(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new b4(t),this.Ii=new k4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new j4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new V4(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new U4(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,t){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class U4 extends mR{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.Ri=new Ig,this.Vi=null}static mi(e){return new Dg(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),re.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const o=Ee.fromPath(s);return this.gi(e,o).next((c=>{c||t.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class id{constructor(e,t){this.persistence=e,this.pi=new Sa((s=>yR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=N4(this,t)}static mi(e,t){return new id(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?re.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((m=>{m||(s++,c.removeEntry(u,Ce.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rh(e.data.value)),t}br(e,t,s){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Mg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=qe(),o=qe();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Mg(e,t.fromCache,s,o)}}class B4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class F4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Mx()?8:pR(hn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,t,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new B4;return this.Ss(e,t,u).next((m=>{if(c.result=m,this.Vs)return this.bs(e,t,u,m.size)}))})).next((()=>c.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(vo()<=Be.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(vo()<=Be.DEBUG&&fe("QueryEngine","Query:",_o(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(vo()<=Be.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(t))):re.resolve())}ys(e,t){if(k_(t))return re.resolve(null);let s=$i(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Jh(t,null,"F"),s=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=qe(...c);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(t,m);return this.Cs(t,y,u,g.readTime)?this.ys(e,Jh(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,s,o){return k_(t)||o.isEqual(Ce.min())?re.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(t,c);return this.Cs(t,u,s,o)?re.resolve(null):(vo()<=Be.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.vs(e,u,t,uR(o,bc)).next((m=>m)))}))}Ds(e,t){let s=new qt(rA(e));return t.forEach(((o,c)=>{Sd(e,c)&&(s=s.add(c))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return vo()<=Be.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",_o(t)),this.ps.getDocumentsMatchingQuery(e,t,bs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const kg="LocalStore",q4=3e8;class H4{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new yt(Fe),this.xs=new Sa((c=>Ag(c)),Tg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function G4(i,e,t,s){return new H4(i,e,t,s)}async function CA(i,e){const t=Ne(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],m=[];let g=qe();for(const y of o){u.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:m})))}))}))}function $4(i,e){const t=Ne(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const A=y.batch,w=A.keys();let N=re.resolve();return w.forEach((j=>{N=N.next((()=>E.getEntry(g,j))).next((P=>{const Q=y.docVersions.get(j);Je(Q!==null,48541),P.version.compareTo(Q)<0&&(A.applyToRemoteDocument(P,y),P.isValidDocument()&&(P.setReadTime(y.commitVersion),E.addEntry(P)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=qe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function RA(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Q4(i,e){const t=Ne(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((E,A)=>{const w=o.get(A);if(!w)return;m.push(t.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>t.Pi.addMatchingKeys(c,E.addedDocuments,A))));let N=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?N=N.withResumeToken(sn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(A,N),(function(P,Q,se){return P.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=q4?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(w,N,E)&&m.push(t.Pi.updateTargetData(c,N))}));let g=Sr(),y=qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(K4(c,u,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Ce.min())){const E=t.Pi.getLastRemoteSnapshotVersion(c).next((A=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(E)}return re.waitFor(m).next((()=>u.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(t.Ms=o,c)))}function K4(i,e,t){let s=qe(),o=qe();return t.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let u=Sr();return t.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ce.min())?(e.removeEntry(m,g.readTime),u=u.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(m,g)):fe(kg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function Y4(i,e){const t=Ne(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_g),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function X4(i,e){const t=Ne(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((c=>c?(o=c,re.resolve(o)):t.Pi.allocateTargetId(s).next((u=>(o=new ds(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function $p(i,e,t){const s=Ne(i),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Qo(u))throw u;fe(kg,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function $_(i,e,t){const s=Ne(i);let o=Ce.min(),c=qe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,y,E){const A=Ne(g),w=A.xs.get(E);return w!==void 0?re.resolve(A.Ms.get(w)):A.Pi.getTargetData(y,E)})(s,u,$i(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,m.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,t?o:Ce.min(),t?c:qe()))).next((m=>(W4(s,VR(e),m),{documents:m,Qs:c})))))}function W4(i,e,t){let s=i.Os.get(e)||Ce.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class Q_{constructor(){this.activeTargetIds=FR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z4{constructor(){this.Mo=new Q_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class J4{Oo(e){}shutdown(){}}const K_="ConnectivityMonitor";class Y_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(K_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(K_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function Qp(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const cp="RestConnection",e3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const u=Qp(),m=this.zo(e,t.toUriEncodedString());fe(cp,`Sending RPC '${e}' ${u}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(m),E=qo(y);return this.Jo(e,m,g,s,E).then((A=>(fe(cp,`Received RPC '${e}' ${u}: `,A),A)),(A=>{throw No(cp,`RPC '${e}' ${u} failed with error: `,A,"url: ",m,"request:",s),A}))}Ho(e,t,s,o,c,u){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,t){const s=e3[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class n3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class i3 extends t3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const u=Qp();return new Promise(((m,g)=>{const y=new Db;y.setWithCredentials(!0),y.listenOnce(Mb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ch.NO_ERROR:const A=y.getResponseJson();fe(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),m(A);break;case Ch.TIMEOUT:fe(ln,`RPC '${e}' ${u} timed out`),g(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const w=y.getStatus();if(fe(ln,`RPC '${e}' ${u} failed with status:`,w,"response text:",y.getResponseText()),w>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const j=N?.error;if(j&&j.status&&j.message){const P=(function(se){const G=se.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(G)>=0?G:ne.UNKNOWN})(j.status);g(new he(P,j.message))}else g(new he(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(ln,`RPC '${e}' ${u} completed.`)}}));const E=JSON.stringify(o);fe(ln,`RPC '${e}' ${u} sending request:`,o),y.send(t,"POST",E,s,15)}))}T_(e,t,s){const o=Qp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Ob(),m=jb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=c.join("");fe(ln,`Creating RPC '${e}' stream ${o}: ${E}`,g);const A=u.createWebChannel(E,g);this.I_(A);let w=!1,N=!1;const j=new n3({Yo:Q=>{N?fe(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(w||(fe(ln,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),fe(ln,`RPC '${e}' stream ${o} sending:`,Q),A.send(Q))},Zo:()=>A.close()}),P=(Q,se,G)=>{Q.listen(se,(ee=>{try{G(ee)}catch(J){setTimeout((()=>{throw J}),0)}}))};return P(A,lc.EventType.OPEN,(()=>{N||(fe(ln,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),P(A,lc.EventType.CLOSE,(()=>{N||(N=!0,fe(ln,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(A))})),P(A,lc.EventType.ERROR,(Q=>{N||(N=!0,No(ln,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),j.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),P(A,lc.EventType.MESSAGE,(Q=>{if(!N){const se=Q.data[0];Je(!!se,16349);const G=se,ee=G?.error||G[0]?.error;if(ee){fe(ln,`RPC '${e}' stream ${o} received error:`,ee);const J=ee.status;let Y=(function(x){const I=jt[x];if(I!==void 0)return pA(I)})(J),L=ee.message;Y===void 0&&(Y=ne.INTERNAL,L="Unknown error status: "+J+" with message "+ee.message),N=!0,j.a_(new he(Y,L)),A.close()}else fe(ln,`RPC '${e}' stream ${o} received:`,se),j.u_(se)}})),P(m,kb.STAT_EVENT,(Q=>{Q.stat===Op.PROXY?fe(ln,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===Op.NOPROXY&&fe(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function up(){return typeof document<"u"?document:null}function Rd(i){return new o4(i,!0)}class NA{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const X_="PersistentStream";class IA{constructor(e,t,s,o,c,u,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(X_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(X_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class r3 extends IA{constructor(e,t,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=u4(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ce.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Qi(u.readTime):Ce.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Gp(this.serializer),t.addTarget=(function(c,u){let m;const g=u.target;if(m=Up(g)?{documents:f4(c,g)}:{query:m4(c,g).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=vA(c,u.resumeToken);const y=Fp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ce.min())>0){m.readTime=nd(c,u.snapshotVersion.toTimestamp());const y=Fp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=g4(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Gp(this.serializer),t.removeTarget=e,this.q_(t)}}class s3 extends IA{constructor(e,t,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=d4(e.writeResults,e.commitTime),s=Qi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Gp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>h4(this.serializer,s)))};this.q_(t)}}class a3{}class o3 extends a3{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,qp(t,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ne.UNKNOWN,c.toString())}))}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,qp(t,s),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class l3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ba="RemoteStore";class c3{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{wa(this)&&(fe(ba,"Restarting streams for network reachability change."),await(async function(g){const y=Ne(g);y.Ea.add(4),await Vc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Nd(y)})(this))}))})),this.Ra=new l3(s,o)}}async function Nd(i){if(wa(i))for(const e of i.da)await e(!0)}async function Vc(i){for(const e of i.da)await e(!1)}function DA(i,e){const t=Ne(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Pg(t)?Vg(t):Ko(t).O_()&&Og(t,e))}function jg(i,e){const t=Ne(i),s=Ko(t);t.Ia.delete(e),s.O_()&&MA(t,e),t.Ia.size===0&&(s.O_()?s.L_():wa(t)&&t.Ra.set("Unknown"))}function Og(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ko(i).Y_(e)}function MA(i,e){i.Va.Ue(e),Ko(i).Z_(e)}function Vg(i){i.Va=new i4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ko(i).start(),i.Ra.ua()}function Pg(i){return wa(i)&&!Ko(i).x_()&&i.Ia.size>0}function wa(i){return Ne(i).Ea.size===0}function kA(i){i.Va=void 0}async function u3(i){i.Ra.set("Online")}async function h3(i){i.Ia.forEach(((e,t)=>{Og(i,e)}))}async function d3(i,e){kA(i),Pg(i)?(i.Ra.ha(e),Vg(i)):i.Ra.set("Unknown")}async function f3(i,e,t){if(i.Ra.set("Online"),e instanceof yA&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){fe(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rd(i,s)}else if(e instanceof Dh?i.Va.Ze(e):e instanceof gA?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ce.min()))try{const s=await RA(i.localStore);t.compareTo(s)>=0&&await(function(c,u){const m=c.Va.Tt(u);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,u))}})),m.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(sn.EMPTY_BYTE_STRING,E.snapshotVersion)),MA(c,g);const A=new ds(E.target,g,y,E.sequenceNumber);Og(c,A)})),c.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){fe(ba,"Failed to raise snapshot:",s),await rd(i,s)}}async function rd(i,e,t){if(!Qo(e))throw e;i.Ea.add(1),await Vc(i),i.Ra.set("Offline"),t||(t=()=>RA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(ba,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Nd(i)}))}function jA(i,e){return e().catch((t=>rd(i,t,e)))}async function Id(i){const e=Ne(i),t=ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_g;for(;m3(e);)try{const o=await Y4(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,p3(e,o)}catch(o){await rd(e,o)}OA(e)&&VA(e)}function m3(i){return wa(i)&&i.Ta.length<10}function p3(i,e){i.Ta.push(e);const t=ws(i);t.O_()&&t.X_&&t.ea(e.mutations)}function OA(i){return wa(i)&&!ws(i).x_()&&i.Ta.length>0}function VA(i){ws(i).start()}async function g3(i){ws(i).ra()}async function y3(i){const e=ws(i);for(const t of i.Ta)e.ea(t.mutations)}async function v3(i,e,t){const s=i.Ta.shift(),o=Cg.from(s,e,t);await jA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Id(i)}async function _3(i,e){e&&ws(i).X_&&await(async function(s,o){if((function(u){return e4(u)&&u!==ne.ABORTED})(o.code)){const c=s.Ta.shift();ws(s).B_(),await jA(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Id(s)}})(i,e),OA(i)&&VA(i)}async function W_(i,e){const t=Ne(i);t.asyncQueue.verifyOperationInProgress(),fe(ba,"RemoteStore received new credentials");const s=wa(t);t.Ea.add(3),await Vc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Nd(t)}async function E3(i,e){const t=Ne(i);e?(t.Ea.delete(2),await Nd(t)):e||(t.Ea.add(2),await Vc(t),t.Ra.set("Unknown"))}function Ko(i){return i.ma||(i.ma=(function(t,s,o){const c=Ne(t);return c.sa(),new r3(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:u3.bind(null,i),t_:h3.bind(null,i),r_:d3.bind(null,i),H_:f3.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Pg(i)?Vg(i):i.Ra.set("Unknown")):(await i.ma.stop(),kA(i))}))),i.ma}function ws(i){return i.fa||(i.fa=(function(t,s,o){const c=Ne(t);return c.sa(),new s3(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:g3.bind(null,i),r_:_3.bind(null,i),ta:y3.bind(null,i),na:v3.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Id(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(ba,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Lg{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const u=Date.now()+s,m=new Lg(e,t,u,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),Qo(i))return new he(ne.UNAVAILABLE,`${e}: ${i}`);throw i}class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=cc(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new So;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Z_{constructor(){this.ga=new yt(Ee.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class jo{constructor(e,t,s,o,c,u,m,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,c){const u=[];return t.forEach((m=>{u.push({type:0,doc:m})})),new jo(e,t,So.emptySet(t),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class b3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class A3{constructor(){this.queries=J_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ne(t),c=o.queries;o.queries=J_(),c.forEach(((u,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function J_(){return new Sa((i=>iA(i)),Td)}async function PA(i,e){const t=Ne(i);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new b3,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const m=zg(u,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Ug(t)}async function LA(i,e){const t=Ne(i),s=e.query;let o=3;const c=t.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function T3(i,e){const t=Ne(i);let s=!1;for(const o of e){const c=o.query,u=t.queries.get(c);if(u){for(const m of u.Sa)m.Fa(o)&&(s=!0);u.wa=o}}s&&Ug(t)}function S3(i,e,t){const s=Ne(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function Ug(i){i.Ca.forEach((e=>{e.next()}))}var Kp,eE;(eE=Kp||(Kp={})).Ma="default",eE.Cache="cache";class zA{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kp.Cache}}class UA{constructor(e){this.key=e}}class BA{constructor(e){this.key=e}}class w3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=rA(e),this.tu=new So(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Z_,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,u=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const w=o.get(E),N=Sd(this.query,A)?A:null,j=!!w&&this.mutatedKeys.has(w.key),P=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let Q=!1;w&&N?w.data.isEqual(N.data)?j!==P&&(s.track({type:3,doc:N}),Q=!0):this.su(w,N)||(s.track({type:2,doc:N}),Q=!0,(g&&this.eu(N,g)>0||y&&this.eu(N,y)<0)&&(m=!0)):!w&&N?(s.track({type:0,doc:N}),Q=!0):w&&!N&&(s.track({type:1,doc:w}),Q=!0,(g||y)&&(m=!0)),Q&&(N?(u=u.add(N),c=P?c.add(E):c.delete(E)):(u=u.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const E=this.query.limitType==="F"?u.last():u.first();u=u.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:u,iu:s,Cs:m,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((E,A)=>(function(N,j){const P=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:Q})}};return P(N)-P(j)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,u.length!==0||y?{snapshot:new jo(this.query,e.tu,c,u,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new BA(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new UA(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bg="SyncEngine";class x3{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class C3{constructor(e){this.key=e,this.hu=!1}}class R3{constructor(e,t,s,o,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Sa((m=>iA(m)),Td),this.Iu=new Map,this.Eu=new Set,this.du=new yt(Ee.comparator),this.Au=new Map,this.Ru=new Ig,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N3(i,e,t=!0){const s=QA(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await FA(s,e,t,!0),o}async function I3(i,e){const t=QA(i);await FA(t,e,!0,!1)}async function FA(i,e,t,s){const o=await X4(i.localStore,$i(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,t);let m;return s&&(m=await D3(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&t&&DA(i.remoteStore,o),m}async function D3(i,e,t,s,o){i.pu=(A,w,N)=>(async function(P,Q,se,G){let ee=Q.view.ru(se);ee.Cs&&(ee=await $_(P.localStore,Q.query,!1).then((({documents:T})=>Q.view.ru(T,ee))));const J=G&&G.targetChanges.get(Q.targetId),Y=G&&G.targetMismatches.get(Q.targetId)!=null,L=Q.view.applyChanges(ee,P.isPrimaryClient,J,Y);return nE(P,Q.targetId,L.au),L.snapshot})(i,A,w,N);const c=await $_(i.localStore,e,!0),u=new w3(e,c.Qs),m=u.ru(c.documents),g=Oc.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=u.applyChanges(m,i.isPrimaryClient,g);nE(i,t,y.au);const E=new x3(e,t,u);return i.Tu.set(e,E),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),y.snapshot}async function M3(i,e,t){const s=Ne(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!Td(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $p(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&jg(s.remoteStore,o.targetId),Yp(s,o.targetId)})).catch($o)):(Yp(s,o.targetId),await $p(s.localStore,o.targetId,!0))}async function k3(i,e){const t=Ne(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),jg(t.remoteStore,s.targetId))}async function j3(i,e,t){const s=B3(i);try{const o=await(function(u,m){const g=Ne(u),y=ft.now(),E=m.reduce(((N,j)=>N.add(j.key)),qe());let A,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let j=Sr(),P=qe();return g.Ns.getEntries(N,E).next((Q=>{j=Q,j.forEach(((se,G)=>{G.isValidDocument()||(P=P.add(se))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,j))).next((Q=>{A=Q;const se=[];for(const G of m){const ee=YR(G,A.get(G.key).overlayedDocument);ee!=null&&se.push(new Ns(G.key,ee,Yb(ee.value.mapValue),Jn.exists(!0)))}return g.mutationQueue.addMutationBatch(N,y,se,m)})).next((Q=>{w=Q;const se=Q.applyToLocalDocumentSet(A,P);return g.documentOverlayCache.saveOverlays(N,Q.batchId,se)}))})).then((()=>({batchId:w.batchId,changes:aA(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,m,g){let y=u.Vu[u.currentUser.toKey()];y||(y=new yt(Fe)),y=y.insert(m,g),u.Vu[u.currentUser.toKey()]=y})(s,o.batchId,t),await Pc(s,o.changes),await Id(s.remoteStore)}catch(o){const c=zg(o,"Failed to persist write");t.reject(c)}}async function qA(i,e){const t=Ne(i);try{const s=await Q4(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=t.Au.get(c);u&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Je(u.hu,14607):o.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await Pc(t,s,e)}catch(s){await $o(s)}}function tE(i,e,t){const s=Ne(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const g=Ne(u);g.onlineState=m;let y=!1;g.queries.forEach(((E,A)=>{for(const w of A.Sa)w.va(m)&&(y=!0)})),y&&Ug(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function O3(i,e,t){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new yt(Ee.comparator);u=u.insert(c,un.newNoDocument(c,Ce.min()));const m=qe().add(c),g=new Cd(Ce.min(),new Map,new yt(Fe),u,m);await qA(s,g),s.du=s.du.remove(c),s.Au.delete(e),Fg(s)}else await $p(s.localStore,e,!1).then((()=>Yp(s,e,t))).catch($o)}async function V3(i,e){const t=Ne(i),s=e.batch.batchId;try{const o=await $4(t.localStore,e);GA(t,s,null),HA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Pc(t,o)}catch(o){await $o(o)}}async function P3(i,e,t){const s=Ne(i);try{const o=await(function(u,m){const g=Ne(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((A=>(Je(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);GA(s,e,t),HA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Pc(s,o)}catch(o){await $o(o)}}function HA(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function GA(i,e,t){const s=Ne(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Yp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||$A(i,s)}))}function $A(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(jg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Fg(i))}function nE(i,e,t){for(const s of t)s instanceof UA?(i.Ru.addReference(s.key,e),L3(i,s)):s instanceof BA?(fe(Bg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||$A(i,s.key)):Se(19791,{wu:s})}function L3(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(fe(Bg,"New document in limbo: "+t),i.Eu.add(s),Fg(i))}function Fg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Ee(lt.fromString(e)),s=i.fu.next();i.Au.set(s,new C3(t)),i.du=i.du.insert(t,s),DA(i.remoteStore,new ds($i(Sg(t.path)),s,"TargetPurposeLimboResolution",Ed.ce))}}async function Pc(i,e,t){const s=Ne(i),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{u.push(s.pu(g,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const E=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Mg.As(g.targetId,y);c.push(E)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(g,y){const E=Ne(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>re.forEach(y,(w=>re.forEach(w.Es,(N=>E.persistence.referenceDelegate.addReference(A,w.targetId,N))).next((()=>re.forEach(w.ds,(N=>E.persistence.referenceDelegate.removeReference(A,w.targetId,N)))))))))}catch(A){if(!Qo(A))throw A;fe(kg,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const N=E.Ms.get(w),j=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(j);E.Ms=E.Ms.insert(w,P)}}})(s.localStore,c))}async function z3(i,e){const t=Ne(i);if(!t.currentUser.isEqual(e)){fe(Bg,"User change. New user:",e.toKey());const s=await CA(t.localStore,e);t.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new he(ne.CANCELLED,u))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pc(t,s.Ls)}}function U3(i,e){const t=Ne(i),s=t.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let o=qe();const c=t.Iu.get(e);if(!c)return o;for(const u of c){const m=t.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function QA(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=qA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O3.bind(null,e),e.Pu.H_=T3.bind(null,e.eventManager),e.Pu.yu=S3.bind(null,e.eventManager),e}function B3(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P3.bind(null,e),e}class sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return G4(this.persistence,new F4,e.initialUser,this.serializer)}Cu(e){return new xA(Dg.mi,this.serializer)}Du(e){return new Z4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sd.provider={build:()=>new sd};class F3 extends sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Je(this.persistence.referenceDelegate instanceof id,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new C4(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new xA((s=>id.mi(s,t)),this.serializer)}}class Xp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z3.bind(null,this.syncEngine),await E3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new A3})()}createDatastore(e){const t=Rd(e.databaseInfo.databaseId),s=(function(c){return new i3(c)})(e.databaseInfo);return(function(c,u,m,g){return new o3(c,u,m,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,u,m){return new c3(s,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>tE(this.syncEngine,t,0)),(function(){return Y_.v()?new Y_:new J4})())}createSyncEngine(e,t){return(function(o,c,u,m,g,y,E){const A=new R3(o,c,u,m,g,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ne(t);fe(ba,"RemoteStore shutting down."),s.Ea.add(5),await Vc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xp.provider={build:()=>new Xp};class KA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const xs="FirestoreClient";class q3{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{fe(xs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(fe(xs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=zg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function hp(i,e){i.asyncQueue.verifyOperationInProgress(),fe(xs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await CA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function iE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await H3(i);fe(xs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>W_(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>W_(e.remoteStore,o))),i._onlineComponents=e}async function H3(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(xs,"Using user provided OfflineComponentProvider");try{await hp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await hp(i,new sd)}}else fe(xs,"Using default OfflineComponentProvider"),await hp(i,new F3(void 0));return i._offlineComponents}async function YA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(xs,"Using user provided OnlineComponentProvider"),await iE(i,i._uninitializedComponentsProvider._online)):(fe(xs,"Using default OnlineComponentProvider"),await iE(i,new Xp))),i._onlineComponents}function G3(i){return YA(i).then((e=>e.syncEngine))}async function Wp(i){const e=await YA(i),t=e.eventManager;return t.onListen=N3.bind(null,e.syncEngine),t.onUnlisten=M3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=I3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=k3.bind(null,e.syncEngine),t}function $3(i,e,t={}){const s=new ys;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,y){const E=new KA({next:w=>{E.Nu(),u.enqueueAndForget((()=>LA(c,A))),w.fromCache&&g.source==="server"?y.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new zA(m,E,{includeMetadataChanges:!0,qa:!0});return PA(c,A)})(await Wp(i),i.asyncQueue,e,t,s))),s.promise}function XA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const rE=new Map;const WA="firestore.googleapis.com",sE=!0;class aE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WA,this.ssl=sE}else this.host=e.host,this.ssl=e.ssl??sE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w4)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ZC;switch(s.type){case"firstParty":return new nR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=rE.get(t);s&&(fe("ComponentProvider","Removing Datastore"),rE.delete(t),s.terminate())})(this),Promise.resolve()}}function Q3(i,e,t,s={}){i=vs(i,Dd);const o=qo(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(Ab(`https://${m}`),Tb("Firestore",!0)),c.host!==WA&&c.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:s};if(!va(g,u)&&(i._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=cn.MOCK_USER;else{y=Tx(s.mockUserToken,i._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(A)}i._authCredentials=new JC(new Pb(y,E))}}class Is{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class Ft{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Mc(t,Ft._jsonSchema))return new Ft(e,s||null,new Ee(lt.fromString(t.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Pt("string",Ft._jsonSchemaVersion),referencePath:Pt("string")};class _s extends Is{constructor(e,t,s){super(e,t,Sg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Ee(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function qg(i,e,...t){if(i=Lt(i),Lb("collection","path",e),i instanceof Dd){const s=lt.fromString(e,...t);return __(s),new _s(i,null,s)}{if(!(i instanceof Ft||i instanceof _s))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...t));return __(s),new _s(i.firestore,null,s)}}function xa(i,e,...t){if(i=Lt(i),arguments.length===1&&(e=vg.newId()),Lb("doc","path",e),i instanceof Dd){const s=lt.fromString(e,...t);return v_(s),new Ft(i,null,new Ee(s))}{if(!(i instanceof Ft||i instanceof _s))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...t));return v_(s),new Ft(i.firestore,i instanceof _s?i.converter:null,new Ee(s))}}const oE="AsyncQueue";class lE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NA(this,"async_queue_retry"),this._c=()=>{const s=up();s&&fe(oE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=up();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=up();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qo(e))throw e;fe(oE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",cE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Lg.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:cE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function cE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function uE(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class Oo extends Dd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new lE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lE(e),this._firestoreClient=void 0,await e}}}function K3(i,e){const t=typeof i=="object"?i:Cb(),s=typeof i=="string"?i:Yh,o=gg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=bx("firestore");c&&Q3(o,...c)}return o}function Md(i){if(i._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Y3(i),i._firestoreClient}function Y3(i){const e=i._freezeSettings(),t=(function(o,c,u,m){return new ER(o,c,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,XA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new q3(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(sn.fromBase64String(e))}catch(t){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mc(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Pt("string",Zn._jsonSchemaVersion),bytes:Pt("string")};class kd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hg{constructor(e){this._methodName=e}}class Ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(Mc(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Pt("string",Ki._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class Yi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mc(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Yi(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Pt("string",Yi._jsonSchemaVersion),vectorValues:Pt("object")};const X3=/^__.*__$/;class W3{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new jc(e,this.data,t,this.fieldTransforms)}}class ZA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function JA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class Gg{constructor(e,t,s,o,c,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ad(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JA(this.Ac)&&X3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Z3{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Rd(e)}Cc(e,t,s,o=!1){return new Gg({Ac:e,methodName:t,Dc:s,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $g(i){const e=i._freezeSettings(),t=Rd(i._databaseId);return new Z3(i._databaseId,!!e.ignoreUndefinedProperties,t)}function eT(i,e,t,s,o,c={}){const u=i.Cc(c.merge||c.mergeFields?2:0,e,t,o);Qg("Data must be an object, but it was:",u,s);const m=tT(s,u);let g,y;if(c.merge)g=new Ln(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const w=Zp(e,A,t);if(!u.contains(w))throw new he(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);iT(E,w)||E.push(w)}g=new Ln(E),y=u.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=u.fieldTransforms;return new W3(new wn(m),g,y)}class jd extends Hg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function J3(i,e,t,s){const o=i.Cc(1,e,t);Qg("Data must be an object, but it was:",o,s);const c=[],u=wn.empty();Rs(s,((g,y)=>{const E=Kg(e,g,t);y=Lt(y);const A=o.yc(E);if(y instanceof jd)c.push(E);else{const w=Lc(y,A);w!=null&&(c.push(E),u.set(E,w))}}));const m=new Ln(c);return new ZA(u,m,o.fieldTransforms)}function eN(i,e,t,s,o,c){const u=i.Cc(1,e,t),m=[Zp(e,s,t)],g=[o];if(c.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(Zp(e,c[w])),g.push(c[w+1]);const y=[],E=wn.empty();for(let w=m.length-1;w>=0;--w)if(!iT(y,m[w])){const N=m[w];let j=g[w];j=Lt(j);const P=u.yc(N);if(j instanceof jd)y.push(N);else{const Q=Lc(j,P);Q!=null&&(y.push(N),E.set(N,Q))}}const A=new Ln(y);return new ZA(E,A,u.fieldTransforms)}function tN(i,e,t,s=!1){return Lc(t,i.Cc(s?4:3,e))}function Lc(i,e){if(nT(i=Lt(i)))return Qg("Unsupported field value:",e,i),tT(i,e);if(i instanceof Hg)return(function(s,o){if(!JA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const m of s){let g=Lc(m,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ft.fromDate(s);return{timestampValue:nd(o.serializer,c)}}if(s instanceof ft){const c=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nd(o.serializer,c)}}if(s instanceof Ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zn)return{bytesValue:vA(o.serializer,s._byteString)};if(s instanceof Ft){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ng(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yi)return(function(u,m){return{mapValue:{fields:{[Qb]:{stringValue:Kb},[Xh]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return wg(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${_d(s)}`)})(i,e)}function tT(i,e){const t={};return Bb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(i,((s,o)=>{const c=Lc(o,e.mc(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function nT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof Ki||i instanceof Zn||i instanceof Ft||i instanceof Hg||i instanceof Yi)}function Qg(i,e,t){if(!nT(t)||!zb(t)){const s=_d(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Zp(i,e,t){if((e=Lt(e))instanceof kd)return e._internalPath;if(typeof e=="string")return Kg(i,e);throw ad("Field path arguments must be of type string or ",i,!1,void 0,t)}const nN=new RegExp("[~\\*/\\[\\]]");function Kg(i,e,t){if(e.search(nN)>=0)throw ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new kd(...e.split("."))._internalPath}catch{throw ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ad(i,e,t,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${s}`),u&&(g+=` in document ${o}`),g+=")"),new he(ne.INVALID_ARGUMENT,m+i+g)}function iT(i,e){return i.some((t=>t.isEqual(e)))}class rT{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iN extends rT{data(){return super.data()}}function sT(i,e){return typeof e=="string"?Kg(i,e):e instanceof kd?e._internalPath:e._delegate._internalPath}function aT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class oT extends Yg{}function lT(i,e,...t){let s=[];e instanceof Yg&&s.push(e),s=s.concat(t),(function(c){const u=c.filter((g=>g instanceof Wg)).length,m=c.filter((g=>g instanceof Xg)).length;if(u>1||u>0&&m>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Xg extends oT{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Xg(e,t,s)}_apply(e){const t=this._parse(e);return cT(e._query,t),new Is(e.firestore,e.converter,Bp(e._query,t))}_parse(e){const t=$g(e.firestore);return(function(c,u,m,g,y,E,A){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){dE(A,E);const j=[];for(const P of A)j.push(hE(g,c,P));w={arrayValue:{values:j}}}else w=hE(g,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||dE(A,E),w=tN(m,u,A,E==="in"||E==="not-in");return Vt.create(y,E,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Wg extends Yg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:vi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const g of m)cT(u,g),u=Bp(u,g)})(e._query,t),new Is(e.firestore,e.converter,Bp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends oT{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Zg(e,t,s)}_apply(e){return new Is(e.firestore,e.converter,Jh(e._query,this._limit,this._limitType))}}function rN(i){return cR("limit",i),Zg._create("limit",i,"F")}function hE(i,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nA(e)&&t.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(lt.fromString(t));if(!Ee.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return C_(i,new Ee(s))}if(t instanceof Ft)return C_(i,t._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(t)}.`)}function dE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cT(i,e){const t=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sN{convertValue(e,t="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Rs(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[Xh].arrayValue?.values?.map((s=>St(s.doubleValue)));return new Yi(t)}convertGeoPoint(e){return new Ki(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ad(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const t=As(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=lt.fromString(e);Je(SA(s),9688,{name:e});const o=new Tc(s.get(1),s.get(3)),c=new Ee(s.popFirst(5));return o.isEqual(t)||Tr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function uT(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class hc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends rT{constructor(e,t,s,o,c,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(sT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ma._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:Pt("string",ma._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Mh extends ma{data(e={}){return super.data(e)}}class pa{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new hc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Mh(this._firestore,this._userDataWriter,s.key,s,new hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const g=new Mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new hc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new hc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),E=u.indexOf(m.doc.key)),{type:aN(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:Pt("string",pa._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Jg extends sN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}}function ey(i){i=vs(i,Is);const e=vs(i.firestore,Oo),t=Md(e),s=new Jg(e);return aT(i._query),$3(t,i._query).then((o=>new pa(e,s,i,o)))}function oN(i,e){const t=vs(i.firestore,Oo),s=xa(i),o=uT(i.converter,e);return hT(t,[eT($g(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then((()=>s))}function lN(i,...e){i=Lt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||uE(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(uE(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,u,m;if(i instanceof Ft)u=vs(i.firestore,Oo),m=Sg(i._key.path),c={next:g=>{e[s]&&e[s](cN(u,i,g))},error:e[s+1],complete:e[s+2]};else{const g=vs(i,Is);u=vs(g.firestore,Oo),m=g._query;const y=new Jg(u);c={next:E=>{e[s]&&e[s](new pa(u,y,g,E))},error:e[s+1],complete:e[s+2]},aT(i._query)}return(function(y,E,A,w){const N=new KA(w),j=new zA(E,N,A);return y.asyncQueue.enqueueAndForget((async()=>PA(await Wp(y),j))),()=>{N.Nu(),y.asyncQueue.enqueueAndForget((async()=>LA(await Wp(y),j)))}})(Md(u),m,o,c)}function hT(i,e){return(function(s,o){const c=new ys;return s.asyncQueue.enqueueAndForget((async()=>j3(await G3(s),o,c))),c.promise})(Md(i),e)}function cN(i,e,t){const s=t.docs.get(e._key),o=new Jg(i);return new ma(i,o,e._key,s,new hc(t.hasPendingWrites,t.fromCache),e.converter)}class uN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=$g(e)}set(e,t,s){this._verifyNotCommitted();const o=dp(e,this._firestore),c=uT(o.converter,t,s),u=eT(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(u.toMutation(o._key,Jn.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const c=dp(e,this._firestore);let u;return u=typeof(t=Lt(t))=="string"||t instanceof kd?eN(this._dataReader,"WriteBatch.update",c._key,t,s,o):J3(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(u.toMutation(c._key,Jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=dp(e,this._firestore);return this._mutations=this._mutations.concat(new xg(t._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dp(i,e){if((i=Lt(i)).firestore!==e)throw new he(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Yo(i){return Md(i=vs(i,Oo)),new uN(i,(e=>hT(i,e)))}(function(e,t=!0){(function(o){Go=o})(Ho),Ro(new _a("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),m=new Oo(new eR(s.getProvider("auth-internal")),new iR(u,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(y.options.projectId,E)})(u,o),u);return c={useFetchStreams:t,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),ps(m_,p_,e),ps(m_,p_,"esm2020")})();function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hN=dT,fT=new Ic("auth","Firebase",dT());const od=new mg("@firebase/auth");function dN(i,...e){od.logLevel<=Be.WARN&&od.warn(`Auth (${Ho}): ${i}`,...e)}function kh(i,...e){od.logLevel<=Be.ERROR&&od.error(`Auth (${Ho}): ${i}`,...e)}function _i(i,...e){throw ty(i,...e)}function Xi(i,...e){return ty(i,...e)}function mT(i,e,t){const s={...hN(),[e]:t};return new Ic("auth","Firebase",s).create(e,{appName:i.name})}function Es(i){return mT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ty(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return fT.create(i,...e)}function Te(i,e,...t){if(!i)throw ty(e,...t)}function _r(i){const e="INTERNAL ASSERTION FAILED: "+i;throw kh(e),new Error(e)}function wr(i,e){i||_r(e)}function Jp(){return typeof self<"u"&&self.location?.href||""}function fN(){return fE()==="http:"||fE()==="https:"}function fE(){return typeof self<"u"&&self.location?.protocol||null}function mN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fN()||Nx()||"connection"in navigator)?navigator.onLine:!0}function pN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class zc{constructor(e,t){this.shortDelay=e,this.longDelay=t,wr(t>e,"Short delay should be less than long delay!"),this.isMobile=xx()||Ix()}get(){return mN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ny(i,e){wr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class pT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vN=new zc(3e4,6e4);function Ca(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ds(i,e,t,s,o={}){return gT(i,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const m=Dc({key:i.config.apiKey,...u}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return Rx()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&qo(i.emulatorConfig.host)&&(y.credentials="include"),pT.fetch()(await yT(i,i.config.apiHost,t,m),y)})}async function gT(i,e,t){i._canInitEmulator=!1;const s={...gN,...e};try{const o=new EN(i),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Sh(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(i,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Sh(i,"email-already-in-use",u);if(g==="USER_DISABLED")throw Sh(i,"user-disabled",u);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw mT(i,E,y);_i(i,E)}}catch(o){if(o instanceof xr)throw o;_i(i,"network-request-failed",{message:String(o)})}}async function Od(i,e,t,s,o={}){const c=await Ds(i,e,t,s,o);return"mfaPendingCredential"in c&&_i(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function yT(i,e,t,s){const o=`${e}${t}?${s}`,c=i,u=c.config.emulator?ny(i.config,o):`${i.config.apiScheme}://${o}`;return yN.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function _N(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Xi(this.auth,"network-request-failed")),vN.get())})}}function Sh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Xi(i,e,s);return o.customData._tokenResponse=t,o}function mE(i){return i!==void 0&&i.enterprise!==void 0}class bN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _N(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AN(i,e){return Ds(i,"GET","/v2/recaptchaConfig",Ca(i,e))}async function TN(i,e){return Ds(i,"POST","/v1/accounts:delete",e)}async function ld(i,e){return Ds(i,"POST","/v1/accounts:lookup",e)}function vc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SN(i,e=!1){const t=Lt(i),s=await t.getIdToken(e),o=iy(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:s,authTime:vc(fp(o.auth_time)),issuedAtTime:vc(fp(o.iat)),expirationTime:vc(fp(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function fp(i){return Number(i)*1e3}function iy(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const o=vb(t);return o?JSON.parse(o):(kh("Failed to decode base64 JWT payload"),null)}catch(o){return kh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function pE(i){const e=iy(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cc(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof xr&&wN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function wN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class xN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class eg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cd(i){const e=i.auth,t=await i.getIdToken(),s=await Cc(i,ld(e,{idToken:t}));Te(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?vT(o.providerUserInfo):[],u=RN(i.providerData,c),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!u?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new eg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function CN(i){const e=Lt(i);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function vT(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function NN(i,e){const t=await gT(i,{},async()=>{const s=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await yT(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&qo(i.emulatorConfig.host)&&(g.credentials="include"),pT.fetch()(u,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function IN(i,e){return Ds(i,"POST","/v2/accounts:revokeToken",Ca(i,e))}class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=pE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await NN(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,u=new wo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return _r("not implemented")}}function as(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new xN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Cc(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return SN(this,e)}reload(){return CN(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await cd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await Cc(this,TN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,u=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:N,providerData:j,stsTokenManager:P}=t;Te(A&&P,e,"internal-error");const Q=wo.fromJSON(this.name,P);Te(typeof A=="string",e,"internal-error"),as(s,e.name),as(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof N=="boolean",e,"internal-error"),as(c,e.name),as(u,e.name),as(m,e.name),as(g,e.name),as(y,e.name),as(E,e.name);const se=new gi({uid:A,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:N,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:Q,createdAt:y,lastLoginAt:E});return j&&Array.isArray(j)&&(se.providerData=j.map(G=>({...G}))),g&&(se._redirectEventId=g),se}static async _fromIdTokenResponse(e,t,s=!1){const o=new wo;o.updateFromServerResponse(t);const c=new gi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await cd(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?vT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,m=new wo;m.updateFromIdToken(s);const g=new gi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new eg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const gE=new Map;function Er(i){wr(i instanceof Function,"Expected a class definition");let e=gE.get(i);return e?(wr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,gE.set(i,e),e)}class _T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_T.type="NONE";const yE=_T;function jh(i,e,t){return`firebase:${i}:${e}:${t}`}class xo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=jh(this.userKey,o.apiKey,c),this.fullPersistenceKey=jh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ld(this.auth,{idToken:e}).catch(()=>{});return t?gi._fromGetAccountInfoResponse(this.auth,t,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new xo(Er(yE),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Er(yE);const u=jh(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const E=await y._get(u);if(E){let A;if(typeof E=="string"){const w=await ld(e,{idToken:E}).catch(()=>{});if(!w)break;A=await gi._fromGetAccountInfoResponse(e,w,E)}else A=gi._fromJSON(e,E);y!==c&&(m=A),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new xo(c,e,s):(c=g[0],m&&await c._set(u,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(u)}catch{}})),new xo(c,e,s))}}function vE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ET(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wT(e))return"Blackberry";if(xT(e))return"Webos";if(bT(e))return"Safari";if((e.includes("chrome/")||AT(e))&&!e.includes("edge/"))return"Chrome";if(ST(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function ET(i=hn()){return/firefox\//i.test(i)}function bT(i=hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AT(i=hn()){return/crios\//i.test(i)}function TT(i=hn()){return/iemobile/i.test(i)}function ST(i=hn()){return/android/i.test(i)}function wT(i=hn()){return/blackberry/i.test(i)}function xT(i=hn()){return/webos/i.test(i)}function ry(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function DN(i=hn()){return ry(i)&&!!window.navigator?.standalone}function MN(){return Dx()&&document.documentMode===10}function CT(i=hn()){return ry(i)||ST(i)||xT(i)||wT(i)||/windows phone/i.test(i)||TT(i)}function RT(i,e=[]){let t;switch(i){case"Browser":t=vE(hn());break;case"Worker":t=`${vE(hn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ho}/${s}`}class kN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((u,m)=>{try{const g=e(c);u(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function jN(i,e={}){return Ds(i,"GET","/v2/passwordPolicy",Ca(i,e))}const ON=6;class VN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??ON,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class PN{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new kN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ld(this,{idToken:e}),s=await gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===u)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(Es(this));const t=e?Lt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jN(this),t=new VN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ic("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await IN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xo(i){return Lt(i)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=zx(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LN(i){Vd=i}function NT(i){return Vd.loadJS(i)}function zN(){return Vd.recaptchaEnterpriseScript}function UN(){return Vd.gapiScript}function BN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class FN{constructor(){this.enterprise=new qN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class qN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const HN="recaptcha-enterprise",IT="NO_RECAPTCHA";class GN{constructor(e){this.type=HN,this.auth=Xo(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,m)=>{AN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new bN(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,u(y.siteKey)}}).catch(g=>{m(g)})})}function o(c,u,m){const g=window.grecaptcha;mE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{u(y)}).catch(()=>{u(IT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FN().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(m=>{if(!t&&mE(window.grecaptcha))o(m,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=zN();g.length!==0&&(g+=m),NT(g).then(()=>{o(m,c,u)}).catch(y=>{u(y)})}}).catch(m=>{u(m)})})}}async function EE(i,e,t,s=!1,o=!1){const c=new GN(i);let u;if(o)u=IT;else try{u=await c.verify(t)}catch{u=await c.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function bE(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await EE(i,e,t,t==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await EE(i,e,t,t==="getOobCode");return s(i,u)}else return Promise.reject(c)})}function $N(i,e){const t=gg(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(va(c,e??{}))return o;_i(o,"already-initialized")}return t.initialize({options:e})}function QN(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Er);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function KN(i,e,t){const s=Xo(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=DT(e),{host:u,port:m}=YN(e),g=m===null?"":`:${m}`,y={url:`${c}//${u}${g}/`},E=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(va(y,s.config.emulator)&&va(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,qo(u)?(Ab(`${c}//${u}${g}`),Tb("Auth",!0)):XN()}function DT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function YN(i){const e=DT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:AE(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:AE(u)}}}function AE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function XN(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class sy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,t){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}async function WN(i,e){return Ds(i,"POST","/v1/accounts:signUp",e)}async function ZN(i,e){return Od(i,"POST","/v1/accounts:signInWithPassword",Ca(i,e))}async function JN(i,e){return Od(i,"POST","/v1/accounts:signInWithEmailLink",Ca(i,e))}async function e6(i,e){return Od(i,"POST","/v1/accounts:signInWithEmailLink",Ca(i,e))}class Rc extends sy{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Rc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Rc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bE(e,t,"signInWithPassword",ZN);case"emailLink":return JN(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bE(e,s,"signUpPassword",WN);case"emailLink":return e6(e,{idToken:t,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Co(i,e){return Od(i,"POST","/v1/accounts:signInWithIdp",Ca(i,e))}const t6="http://localhost";class Aa extends sy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_i("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const u=new Aa(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Co(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Co(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Co(e,t)}buildRequest(){const e={requestUri:t6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dc(t)}return e}}function n6(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i6(i){const e=ac(oc(i)).link,t=e?ac(oc(e)).deep_link_id:null,s=ac(oc(i)).deep_link_id;return(s?ac(oc(s)).link:null)||s||t||e||i}class ay{constructor(e){const t=ac(oc(e)),s=t.apiKey??null,o=t.oobCode??null,c=n6(t.mode??null);Te(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=i6(e);try{return new ay(t)}catch{return null}}}class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,t){return Rc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ay.parseLink(t);return Te(s,"argument-error"),Rc._fromEmailAndCode(e,s.code,s.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class MT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uc extends MT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ls extends Uc{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";class cs extends Uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Aa._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return cs.credential(t,s)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";class us extends Uc{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";class hs extends Uc{constructor(){super("twitter.com")}static credential(e,t){return Aa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return hs.credential(t,s)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await gi._fromIdTokenResponse(e,s,o),u=TE(s);return new Vo({user:c,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=TE(s);return new Vo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function TE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class ud extends xr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ud.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new ud(e,t,s,o)}}function kT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ud._fromErrorAndOperation(i,c,e,s):c})}async function r6(i,e,t=!1){const s=await Cc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Vo._forOperation(i,"link",s)}async function s6(i,e,t=!1){const{auth:s}=i;if(pi(s.app))return Promise.reject(Es(s));const o="reauthenticate";try{const c=await Cc(i,kT(s,o,e,i),t);Te(c.idToken,s,"internal-error");const u=iy(c.idToken);Te(u,s,"internal-error");const{sub:m}=u;return Te(i.uid===m,s,"user-mismatch"),Vo._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&_i(s,"user-mismatch"),c}}async function jT(i,e,t=!1){if(pi(i.app))return Promise.reject(Es(i));const s="signIn",o=await kT(i,s,e),c=await Vo._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(c.user),c}async function a6(i,e){return jT(Xo(i),e)}async function o6(i){const e=Xo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function l6(i,e,t){return pi(i.app)?Promise.reject(Es(i)):a6(Lt(i),Wo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&o6(i),s})}function c6(i,e,t,s){return Lt(i).onIdTokenChanged(e,t,s)}function u6(i,e,t){return Lt(i).beforeAuthStateChanged(e,t)}function h6(i,e,t,s){return Lt(i).onAuthStateChanged(e,t,s)}function d6(i){return Lt(i).signOut()}const hd="__sak";class OT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const f6=1e3,m6=10;class VT extends OT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,m,g)=>{this.notifyListeners(u,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);MN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,m6):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},f6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VT.type="LOCAL";const p6=VT;class PT extends OT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PT.type="SESSION";const LT=PT;function g6(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Pd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(u).map(async y=>y(t.origin,c)),g=await g6(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];function oy(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class y6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((m,g)=>{const y=oy("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Wi(){return window}function v6(i){Wi().location.href=i}function zT(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function _6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E6(){return navigator?.serviceWorker?.controller||null}function b6(){return zT()?self:null}const UT="firebaseLocalStorageDb",A6=1,dd="firebaseLocalStorage",BT="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ld(i,e){return i.transaction([dd],e?"readwrite":"readonly").objectStore(dd)}function T6(){const i=indexedDB.deleteDatabase(UT);return new Bc(i).toPromise()}function tg(){const i=indexedDB.open(UT,A6);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(dd,{keyPath:BT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(dd)?e(s):(s.close(),await T6(),e(await tg()))})})}async function SE(i,e,t){const s=Ld(i,!0).put({[BT]:e,value:t});return new Bc(s).toPromise()}async function S6(i,e){const t=Ld(i,!1).get(e),s=await new Bc(t).toPromise();return s===void 0?null:s.value}function wE(i,e){const t=Ld(i,!0).delete(e);return new Bc(t).toPromise()}const w6=800,x6=3;class FT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>x6)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(b6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _6(),!this.activeServiceWorker)return;this.sender=new y6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await SE(e,hd,"1"),await wE(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>SE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>S6(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ld(o,!1).getAll();return new Bc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FT.type="LOCAL";const C6=FT;new zc(3e4,6e4);function R6(i,e){return e?Er(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class ly extends sy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function N6(i){return jT(i.auth,new ly(i),i.bypassAuthState)}function I6(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),s6(t,new ly(i),i.bypassAuthState)}async function D6(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),r6(t,new ly(i),i.bypassAuthState)}class qT{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N6;case"linkViaPopup":case"linkViaRedirect":return D6;case"reauthViaPopup":case"reauthViaRedirect":return I6;default:_i(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const M6=new zc(2e3,1e4);class Ao extends qT{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M6.get())};e()}}Ao.currentPopupAction=null;const k6="pendingRedirect",Oh=new Map;class j6 extends qT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const s=await O6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O6(i,e){const t=L6(e),s=P6(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function V6(i,e){Oh.set(i._key(),e)}function P6(i){return Er(i._redirectPersistence)}function L6(i){return jh(k6,i.config.apiKey,i.name)}async function z6(i,e,t=!1){if(pi(i.app))return Promise.reject(Es(i));const s=Xo(i),o=R6(s,e),u=await new j6(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const U6=600*1e3;class B6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!HT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Xi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U6&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function HT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function F6(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HT(i);default:return!1}}async function q6(i,e={}){return Ds(i,"GET","/v1/projects",e)}const H6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G6=/^https?/;async function $6(i){if(i.config.emulator)return;const{authorizedDomains:e}=await q6(i);for(const t of e)try{if(Q6(t))return}catch{}_i(i,"unauthorized-domain")}function Q6(i){const e=Jp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!G6.test(t))return!1;if(H6.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const K6=new zc(3e4,6e4);function CE(){const i=Wi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function Y6(i){return new Promise((e,t)=>{function s(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),t(Xi(i,"network-request-failed"))},timeout:K6.get()})}if(Wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wi().gapi?.load)s();else{const o=BN("iframefcb");return Wi()[o]=()=>{gapi.load?s():t(Xi(i,"network-request-failed"))},NT(`${UN()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw Vh=null,e})}let Vh=null;function X6(i){return Vh=Vh||Y6(i),Vh}const W6=new zc(5e3,15e3),Z6="__/auth/iframe",J6="emulator/auth/iframe",eI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nI(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?ny(e,J6):`https://${i.config.authDomain}/${Z6}`,s={apiKey:e.apiKey,appName:i.name,v:Ho},o=tI.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Dc(s).slice(1)}`}async function iI(i){const e=await X6(i),t=Wi().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:nI(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=Xi(i,"network-request-failed"),m=Wi().setTimeout(()=>{c(u)},W6.get());function g(){Wi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{c(u)})}))}const rI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sI=500,aI=600,oI="_blank",lI="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cI(i,e,t,s=sI,o=aI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...rI,width:s.toString(),height:o.toString(),top:c,left:u},y=hn().toLowerCase();t&&(m=AT(y)?oI:t),ET(y)&&(e=e||lI,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[N,j])=>`${w}${N}=${j},`,"");if(DN(y)&&m!=="_self")return uI(e||"",m),new RE(null);const A=window.open(e||"",m,E);Te(A,i,"popup-blocked");try{A.focus()}catch{}return new RE(A)}function uI(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const hI="__/auth/handler",dI="emulator/auth/handler",fI=encodeURIComponent("fac");async function NE(i,e,t,s,o,c){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ho,eventId:o};if(e instanceof MT){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",Lx(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))u[E]=A}if(e instanceof Uc){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(u.scopes=E.join(","))}i.tenantId&&(u.tid=i.tenantId);const m=u;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),y=g?`#${fI}=${encodeURIComponent(g)}`:"";return`${mI(i)}?${Dc(m).slice(1)}${y}`}function mI({config:i}){return i.emulator?ny(i,dI):`https://${i.authDomain}/${hI}`}const mp="webStorageSupport";class pI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=z6,this._overrideRedirectResult=V6}async _openPopup(e,t,s,o){wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await NE(e,t,s,Jp(),o);return cI(e,c,oy())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await NE(e,t,s,Jp(),o);return v6(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(wr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await iI(e),s=new B6(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mp,{type:mp},o=>{const c=o?.[0]?.[mp];c!==void 0&&t(!!c),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CT()||bT()||ry()}}const gI=pI;var IE="@firebase/auth",DE="1.12.0";class yI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _I(i){Ro(new _a("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=s.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:u,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RT(i)},y=new PN(s,o,c,g);return QN(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ro(new _a("auth-internal",e=>{const t=Xo(e.getProvider("auth").getImmediate());return(s=>new yI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(IE,DE,vI(i)),ps(IE,DE,"esm2020")}const EI=300,bI=bb("authIdTokenMaxAge")||EI;let ME=null;const AI=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>bI)return;const o=t?.token;ME!==o&&(ME=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TI(i=Cb()){const e=gg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=$N(i,{popupRedirectResolver:gI,persistence:[C6,p6,LT]}),s=bb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=AI(c.toString());u6(t,u,()=>u(t.currentUser)),c6(t,m=>u(m))}}const o=_b("auth");return o&&KN(t,`http://${o}`),t}function SI(){return document.getElementsByTagName("head")?.[0]??document}LN({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=Xi("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",SI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_I("Browser");const ng={apiKey:"AIzaSyCha4S_wLxI_CZY1Tc9FOJNA3cUTggISpU",authDomain:"brakexadmin.firebaseapp.com",projectId:"brakexadmin",storageBucket:"brakexadmin.firebasestorage.app",messagingSenderId:"799264562947",appId:"1:799264562947:web:52d860ae41a5c4b8f75336"},kE=!!(ng.apiKey&&ng.projectId),GT=xb(ng),Ei=K3(GT),Ph=TI(GT),zd=qg(Ei,"pastillas"),$T=(i,e)=>{const t={id:i,...e};t.posicion=(t.posicion||t.posicin||"AMBAS").toUpperCase();let s=t.medidas,o="",c="";if(Array.isArray(s)&&s.length>0&&(s=s[0]),typeof s=="string"){const g=s.toLowerCase().split("x");if(g.length===2){const y=parseFloat(g[0].trim()),E=parseFloat(g[1].trim());o=y||"",c=E||""}}else if(s&&typeof s=="object"){const g=parseFloat(s.ancho)||parseFloat(s.width),y=parseFloat(s.alto)||parseFloat(s.height)||parseFloat(s.largo);o=g||"",c=y||""}t.medidas={ancho:o,alto:c};const u=g=>Array.isArray(g)?g:g?[g]:[];t.fmsi=u(t.fmsi),t.oem=u(t.oem),t.ref=u(t.ref),t.intercambios=u(t.intercambios),t.imagenes=u(t.imagenes),t.aplicaciones=u(t.aplicaciones).map(g=>{const y=E=>{if(!E)return"";const A=Object.keys(E);for(const w of A){const N=w.trim().normalize("NFC").toLowerCase();if(["ao","ano","anio","year","years"].includes(N))return E[w]}return""};return{marca:g?.marca||"",modelo:g?.modelo||g?.serie||"",serie:g?.serie||"",ao:y(g),motor:g?.motor||g?.litros||g?.engine||"",posicion:(g?.posicion||"DELANTERA").toUpperCase()}}),t.referencia=t.referencia||t.ref&&t.ref[0]||"SIN-REF";let m=t.createdAt||t.fecha_creacion;if(m&&typeof m=="object"&&"seconds"in m)m=m.seconds*1e3;else if(typeof m=="string"){const g=new Date(m);isNaN(g.getTime())||(m=g.getTime())}return t.createdAt=typeof m=="number"?m:0,t},wI=i=>lN(zd,e=>{const t=[];e.forEach(s=>{t.push($T(s.id,s.data()))}),i(t,e.docChanges())},e=>{console.error("Error subscribing to products:",e)}),xI=async()=>{const i=OI(),e=500,t=[];for(let o=0;o<i.length;o+=e)t.push(i.slice(o,o+e));let s=0;for(const o of t){const c=Yo(Ei);o.forEach(u=>{const m=xa(zd,u.id||void 0),g={...u};c.set(m,g)}),await c.commit(),s+=o.length,console.log(`Uploaded batch of ${o.length} products. Total: ${s}`)}return s},CI=async()=>{try{const i=await ey(zd),e=[];return i.forEach(t=>{e.push($T(t.id,t.data()))}),e}catch(i){throw console.error("Error fetching products:",i),i}},RI=async(i,e)=>{try{const t=xa(Ei,"pastillas",i),{id:s,...o}={...e};return o.medidas&&typeof o.medidas=="object"&&!Array.isArray(o.medidas)&&(o.medidas=[`${o.medidas.ancho||0} x ${o.medidas.alto||0}`]),await Yo(Ei).set(t,o,{merge:!0}).commit(),!0}catch(t){throw console.error("Error updating product:",t),t}},NI=async i=>{try{const e=xa(zd),{id:t,...s}={...i};return s.createdAt||(s.createdAt=Date.now()),s.medidas&&typeof s.medidas=="object"&&!Array.isArray(s.medidas)&&(s.medidas=[`${s.medidas.ancho||0} x ${s.medidas.alto||0}`]),await Yo(Ei).set(e,s).commit(),e.id}catch(e){throw console.error("Error adding product:",e),e}},II=async i=>{try{const e=xa(Ei,"pastillas",i);await Yo(Ei).delete(e).commit()}catch(e){throw console.error("Error deleting product:",e),e}},QT=qg(Ei,"history"),pp=async i=>{try{await Yo(Ei).set(xa(QT),{...i,timestamp:Date.now()}).commit()}catch(e){console.error("Error adding history log:",e)}},DI=async(i=50)=>{try{const e=lT(QT,rN(i)),t=await ey(e),s=[];return t.forEach(o=>{s.push({id:o.id,...o.data()})}),s.sort((o,c)=>c.timestamp-o.timestamp)}catch(e){return console.error("Error fetching history:",e),[]}},cy=qg(Ei,"reports"),MI=async i=>{try{await oN(cy,{...i,status:"PENDING",timestamp:Date.now()})}catch(e){throw console.error("Error adding report:",e),e}},kI=async()=>{try{const i=lT(cy),e=await ey(i),t=[];return e.forEach(s=>{t.push({id:s.id,...s.data()})}),t.sort((s,o)=>o.timestamp-s.timestamp)}catch(i){return console.error("Error fetching reports:",i),[]}},jI=async i=>{try{await Yo(Ei).delete(xa(cy,i)).commit()}catch(e){throw console.error("Error deleting report:",e),e}},OI=()=>Array.from({length:723},(i,e)=>({id:`product-${e+1}`,referencia:`D${100+e}`,ref:[`${String(e+1).padStart(6,"0")}INC`,`D${100+e}`],oem:[`OEM-${e+1}`,`OEM-${e+2}`],fmsi:[`FMSI-${e+1}`],fabricante:["Autopar","Frasle","Jurid","Brembo","Bosch"][e%5],posicion:["DELANTERA","TRASERA","AMBAS"][e%3],imagenes:["https://via.placeholder.com/200x150?text=Brake+Pad","https://via.placeholder.com/200x150?text=Detail+View"],aplicaciones:[{marca:["Chevrolet","Nissan","Hyundai","Kia","Ford","Toyota","Honda","Mazda","Volkswagen","Renault"][e%10],modelo:["Aveo","Spark","Cruze","Malibu","Silverado","Corolla","Civic","3","Jetta","Logan"][e%10],ao:`${2010+e%15}`,posicion:["DELANTERA","TRASERA","AMBAS"][e%3]},{marca:["Fiat","Peugeot","Citron","Mg","Ram","Acura","Jetour"][e%7],modelo:["Uno","208","C3","ZS","1500","TLX","X70"][e%7],ao:`${2012+e%12}`,posicion:["DELANTERA","TRASERA","AMBAS"][(e+1)%3]}],medidas:{ancho:100+e%50,alto:40+e%30}})),VI=()=>{const{filters:i,setSearchQuery:e,setSelectedBrand:t,setSelectedModel:s,setSelectedYear:o,setWidth:c,setHeight:u}=de(),m=ae.useRef(!0);ae.useEffect(()=>{const g=new URLSearchParams(window.location.search),y=g.get("q"),E=g.get("brand"),A=g.get("model"),w=g.get("year"),N=g.get("w"),j=g.get("h");y&&e(y),E&&t(E),A&&s(A),w&&o(w),N&&c(N),j&&u(j),m.current=!1},[]),ae.useEffect(()=>{if(m.current)return;const g=new URLSearchParams;i.searchQuery&&g.set("q",i.searchQuery),i.selectedBrand&&g.set("brand",i.selectedBrand),i.selectedModel&&g.set("model",i.selectedModel),i.selectedYear&&g.set("year",i.selectedYear),i.selectedPositions&&i.selectedPositions.length>0&&g.set("pos",i.selectedPositions.join(",")),i.width&&g.set("w",i.width),i.height&&g.set("h",i.height);const y=`${window.location.pathname}${g.toString()?"?"+g.toString():""}`;window.history.replaceState(null,"",y)},[i.searchQuery,i.selectedBrand,i.selectedModel,i.selectedYear,i.selectedPositions,i.width,i.height])};const PI=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LI=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),jE=i=>{const e=LI(i);return e.charAt(0).toUpperCase()+e.slice(1)},KT=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),zI=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var UI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BI=ae.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:u,...m},g)=>ae.createElement("svg",{ref:g,...UI,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:KT("lucide",o),...!c&&!zI(m)&&{"aria-hidden":"true"},...m},[...u.map(([y,E])=>ae.createElement(y,E)),...Array.isArray(c)?c:[c]]));const ye=(i,e)=>{const t=ae.forwardRef(({className:s,...o},c)=>ae.createElement(BI,{ref:c,iconNode:e,className:KT(`lucide-${PI(jE(i))}`,`lucide-${i}`,s),...o}));return t.displayName=jE(i),t};const FI=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qI=ye("activity",FI);const HI=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],GI=ye("arrow-down",HI);const $I=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],YT=ye("arrow-left",$I);const QI=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],uy=ye("arrow-right-left",QI);const KI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],YI=ye("arrow-right",KI);const XI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],WI=ye("arrow-up",XI);const ZI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],OE=ye("bell",ZI);const JI=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],hy=ye("bookmark",JI);const e5=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],t5=ye("car",e5);const n5=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],i5=ye("check-check",n5);const r5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ta=ye("check",r5);const s5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dy=ye("chevron-down",s5);const a5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],o5=ye("chevron-left",a5);const l5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],c5=ye("chevron-right",l5);const u5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fy=ye("circle-alert",u5);const h5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],d5=ye("circle-check-big",h5);const f5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],m5=ye("circle-check",f5);const p5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],XT=ye("circle-question-mark",p5);const g5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],y5=ye("circle-x",g5);const v5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_5=ye("clock",v5);const E5=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],b5=ye("cloud",E5);const A5=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ig=ye("database",A5);const T5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],S5=ye("download",T5);const w5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],x5=ye("eye-off",w5);const C5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R5=ye("eye",C5);const N5=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],I5=ye("file-clock",N5);const D5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],VE=ye("file-exclamation-point",D5);const M5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],WT=ye("funnel",M5);const k5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],j5=ye("grid-3x3",k5);const O5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fd=ye("history",O5);const V5=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],ZT=ye("image-off",V5);const P5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],L5=ye("image",P5);const z5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],U5=ye("info",z5);const B5=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],rg=ye("layout-grid",B5);const F5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],q5=ye("loader-circle",F5);const H5=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],G5=ye("loader",H5);const $5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Q5=ye("lock",$5);const K5=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Y5=ye("log-in",K5);const X5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],W5=ye("log-out",X5);const Z5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],J5=ye("mail",Z5);const e9=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],t9=ye("maximize",e9);const n9=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],i9=ye("menu",n9);const r9=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],s9=ye("mouse-pointer-2",r9);const a9=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],o9=ye("package",a9);const l9=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gp=ye("pen-line",l9);const c9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],u9=ye("pen",c9);const h9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JT=ye("plus",h9);const d9=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],f9=ye("refresh-ccw",d9);const m9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],p9=ye("refresh-cw",m9);const g9=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],PE=ye("ruler",g9);const y9=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],v9=ye("search-x",y9);const _9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ud=ye("search",_9);const E9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],b9=ye("send",E9);const A9=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],T9=ye("server",A9);const S9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],w9=ye("shield",S9);const x9=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],C9=ye("smartphone",x9);const R9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bd=ye("trash-2",R9);const N9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ua=ye("triangle-alert",N9);const I9=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],D9=ye("wifi",I9);const M9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zo=ye("x",M9);const k9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],j9=ye("zap",k9),e2=()=>{const{theme:i,setTheme:e}=de();ae.useEffect(()=>{document.documentElement.setAttribute("data-theme",i)},[i]);const t=()=>{e(i==="light"?"dark":"light")};return p.jsxs("label",{className:"switch-uiverse",title:`Cambiar a modo ${i==="light"?"oscuro":"claro"}`,children:[p.jsx("input",{type:"checkbox",checked:i==="dark",onChange:t}),p.jsx("span",{className:"slider-uiverse"})]})};var xn=function(){return xn=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},xn.apply(this,arguments)};function md(i,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return i.concat(c||Array.prototype.slice.call(e))}var dt="-ms-",_c="-moz-",Ze="-webkit-",t2="comm",Fd="rule",my="decl",O9="@import",n2="@keyframes",V9="@layer",i2=Math.abs,py=String.fromCharCode,sg=Object.assign;function P9(i,e){return Kt(i,0)^45?(((e<<2^Kt(i,0))<<2^Kt(i,1))<<2^Kt(i,2))<<2^Kt(i,3):0}function r2(i){return i.trim()}function vr(i,e){return(i=e.exec(i))?i[0]:i}function je(i,e,t){return i.replace(e,t)}function Lh(i,e,t){return i.indexOf(e,t)}function Kt(i,e){return i.charCodeAt(e)|0}function Po(i,e,t){return i.slice(e,t)}function Hi(i){return i.length}function s2(i){return i.length}function dc(i,e){return e.push(i),i}function L9(i,e){return i.map(e).join("")}function LE(i,e){return i.filter(function(t){return!vr(t,e)})}var qd=1,Lo=1,a2=0,ei=0,Ot=0,Jo="";function Hd(i,e,t,s,o,c,u,m){return{value:i,root:e,parent:t,type:s,props:o,children:c,line:qd,column:Lo,length:u,return:"",siblings:m}}function os(i,e){return sg(Hd("",null,null,"",null,null,0,i.siblings),i,{length:-i.length},e)}function yo(i){for(;i.root;)i=os(i.root,{children:[i]});dc(i,i.siblings)}function z9(){return Ot}function U9(){return Ot=ei>0?Kt(Jo,--ei):0,Lo--,Ot===10&&(Lo=1,qd--),Ot}function yi(){return Ot=ei<a2?Kt(Jo,ei++):0,Lo++,Ot===10&&(Lo=1,qd++),Ot}function ga(){return Kt(Jo,ei)}function zh(){return ei}function Gd(i,e){return Po(Jo,i,e)}function ag(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B9(i){return qd=Lo=1,a2=Hi(Jo=i),ei=0,[]}function F9(i){return Jo="",i}function yp(i){return r2(Gd(ei-1,og(i===91?i+2:i===40?i+1:i)))}function q9(i){for(;(Ot=ga())&&Ot<33;)yi();return ag(i)>2||ag(Ot)>3?"":" "}function H9(i,e){for(;--e&&yi()&&!(Ot<48||Ot>102||Ot>57&&Ot<65||Ot>70&&Ot<97););return Gd(i,zh()+(e<6&&ga()==32&&yi()==32))}function og(i){for(;yi();)switch(Ot){case i:return ei;case 34:case 39:i!==34&&i!==39&&og(Ot);break;case 40:i===41&&og(i);break;case 92:yi();break}return ei}function G9(i,e){for(;yi()&&i+Ot!==57;)if(i+Ot===84&&ga()===47)break;return"/*"+Gd(e,ei-1)+"*"+py(i===47?i:yi())}function $9(i){for(;!ag(ga());)yi();return Gd(i,ei)}function Q9(i){return F9(Uh("",null,null,null,[""],i=B9(i),0,[0],i))}function Uh(i,e,t,s,o,c,u,m,g){for(var y=0,E=0,A=u,w=0,N=0,j=0,P=1,Q=1,se=1,G=0,ee="",J=o,Y=c,L=s,T=ee;Q;)switch(j=G,G=yi()){case 40:if(j!=108&&Kt(T,A-1)==58){Lh(T+=je(yp(G),"&","&\f"),"&\f",i2(y?m[y-1]:0))!=-1&&(se=-1);break}case 34:case 39:case 91:T+=yp(G);break;case 9:case 10:case 13:case 32:T+=q9(j);break;case 92:T+=H9(zh()-1,7);continue;case 47:switch(ga()){case 42:case 47:dc(K9(G9(yi(),zh()),e,t,g),g);break;default:T+="/"}break;case 123*P:m[y++]=Hi(T)*se;case 125*P:case 59:case 0:switch(G){case 0:case 125:Q=0;case 59+E:se==-1&&(T=je(T,/\f/g,"")),N>0&&Hi(T)-A&&dc(N>32?UE(T+";",s,t,A-1,g):UE(je(T," ","")+";",s,t,A-2,g),g);break;case 59:T+=";";default:if(dc(L=zE(T,e,t,y,E,o,m,ee,J=[],Y=[],A,c),c),G===123)if(E===0)Uh(T,e,L,L,J,c,A,m,Y);else switch(w===99&&Kt(T,3)===110?100:w){case 100:case 108:case 109:case 115:Uh(i,L,L,s&&dc(zE(i,L,L,0,0,o,m,ee,o,J=[],A,Y),Y),o,Y,A,m,s?J:Y);break;default:Uh(T,L,L,L,[""],Y,0,m,Y)}}y=E=N=0,P=se=1,ee=T="",A=u;break;case 58:A=1+Hi(T),N=j;default:if(P<1){if(G==123)--P;else if(G==125&&P++==0&&U9()==125)continue}switch(T+=py(G),G*P){case 38:se=E>0?1:(T+="\f",-1);break;case 44:m[y++]=(Hi(T)-1)*se,se=1;break;case 64:ga()===45&&(T+=yp(yi())),w=ga(),E=A=Hi(ee=T+=$9(zh())),G++;break;case 45:j===45&&Hi(T)==2&&(P=0)}}return c}function zE(i,e,t,s,o,c,u,m,g,y,E,A){for(var w=o-1,N=o===0?c:[""],j=s2(N),P=0,Q=0,se=0;P<s;++P)for(var G=0,ee=Po(i,w+1,w=i2(Q=u[P])),J=i;G<j;++G)(J=r2(Q>0?N[G]+" "+ee:je(ee,/&\f/g,N[G])))&&(g[se++]=J);return Hd(i,e,t,o===0?Fd:m,g,y,E,A)}function K9(i,e,t,s){return Hd(i,e,t,t2,py(z9()),Po(i,2,-2),0,s)}function UE(i,e,t,s,o){return Hd(i,e,t,my,Po(i,0,s),Po(i,s+1,-1),s,o)}function o2(i,e,t){switch(P9(i,e)){case 5103:return Ze+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ze+i+i;case 4789:return _c+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Ze+i+_c+i+dt+i+i;case 5936:switch(Kt(i,e+11)){case 114:return Ze+i+dt+je(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Ze+i+dt+je(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Ze+i+dt+je(i,/[svh]\w+-[tblr]{2}/,"lr")+i}case 6828:case 4268:case 2903:return Ze+i+dt+i+i;case 6165:return Ze+i+dt+"flex-"+i+i;case 5187:return Ze+i+je(i,/(\w+).+(:[^]+)/,Ze+"box-$1$2"+dt+"flex-$1$2")+i;case 5443:return Ze+i+dt+"flex-item-"+je(i,/flex-|-self/g,"")+(vr(i,/flex-|baseline/)?"":dt+"grid-row-"+je(i,/flex-|-self/g,""))+i;case 4675:return Ze+i+dt+"flex-line-pack"+je(i,/align-content|flex-|-self/g,"")+i;case 5548:return Ze+i+dt+je(i,"shrink","negative")+i;case 5292:return Ze+i+dt+je(i,"basis","preferred-size")+i;case 6060:return Ze+"box-"+je(i,"-grow","")+Ze+i+dt+je(i,"grow","positive")+i;case 4554:return Ze+je(i,/([^-])(transform)/g,"$1"+Ze+"$2")+i;case 6187:return je(je(je(i,/(zoom-|grab)/,Ze+"$1"),/(image-set)/,Ze+"$1"),i,"")+i;case 5495:case 3959:return je(i,/(image-set\([^]*)/,Ze+"$1$`$1");case 4968:return je(je(i,/(.+:)(flex-)?(.*)/,Ze+"box-pack:$3"+dt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ze+i+i;case 4200:if(!vr(i,/flex-|baseline/))return dt+"grid-column-align"+Po(i,e)+i;break;case 2592:case 3360:return dt+je(i,"template-","")+i;case 4384:case 3616:return t&&t.some(function(s,o){return e=o,vr(s.props,/grid-\w+-end/)})?~Lh(i+(t=t[e].value),"span",0)?i:dt+je(i,"-start","")+i+dt+"grid-row-span:"+(~Lh(t,"span",0)?vr(t,/\d+/):+vr(t,/\d+/)-+vr(i,/\d+/))+";":dt+je(i,"-start","")+i;case 4896:case 4128:return t&&t.some(function(s){return vr(s.props,/grid-\w+-start/)})?i:dt+je(je(i,"-end","-span"),"span ","")+i;case 4095:case 3583:case 4068:case 2532:return je(i,/(.+)-inline(.+)/,Ze+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hi(i)-1-e>6)switch(Kt(i,e+1)){case 109:if(Kt(i,e+4)!==45)break;case 102:return je(i,/(.+:)(.+)-([^]+)/,"$1"+Ze+"$2-$3$1"+_c+(Kt(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~Lh(i,"stretch",0)?o2(je(i,"stretch","fill-available"),e,t)+i:i}break;case 5152:case 5920:return je(i,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,c,u,m,g,y){return dt+o+":"+c+y+(u?dt+o+"-span:"+(m?g:+g-+c)+y:"")+i});case 4949:if(Kt(i,e+6)===121)return je(i,":",":"+Ze)+i;break;case 6444:switch(Kt(i,Kt(i,14)===45?18:11)){case 120:return je(i,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ze+(Kt(i,14)===45?"inline-":"")+"box$3$1"+Ze+"$2$3$1"+dt+"$2box$3")+i;case 100:return je(i,":",":"+dt)+i}break;case 5719:case 2647:case 2135:case 3927:case 2391:return je(i,"scroll-","scroll-snap-")+i}return i}function pd(i,e){for(var t="",s=0;s<i.length;s++)t+=e(i[s],s,i,e)||"";return t}function Y9(i,e,t,s){switch(i.type){case V9:if(i.children.length)break;case O9:case my:return i.return=i.return||i.value;case t2:return"";case n2:return i.return=i.value+"{"+pd(i.children,s)+"}";case Fd:if(!Hi(i.value=i.props.join(",")))return""}return Hi(t=pd(i.children,s))?i.return=i.value+"{"+t+"}":""}function X9(i){var e=s2(i);return function(t,s,o,c){for(var u="",m=0;m<e;m++)u+=i[m](t,s,o,c)||"";return u}}function W9(i){return function(e){e.root||(e=e.return)&&i(e)}}function Z9(i,e,t,s){if(i.length>-1&&!i.return)switch(i.type){case my:i.return=o2(i.value,i.length,t);return;case n2:return pd([os(i,{value:je(i.value,"@","@"+Ze)})],s);case Fd:if(i.length)return L9(t=i.props,function(o){switch(vr(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":yo(os(i,{props:[je(o,/:(read-\w+)/,":"+_c+"$1")]})),yo(os(i,{props:[o]})),sg(i,{props:LE(t,s)});break;case"::placeholder":yo(os(i,{props:[je(o,/:(plac\w+)/,":"+Ze+"input-$1")]})),yo(os(i,{props:[je(o,/:(plac\w+)/,":"+_c+"$1")]})),yo(os(i,{props:[je(o,/:(plac\w+)/,dt+"input-$1")]})),yo(os(i,{props:[o]})),sg(i,{props:LE(t,s)});break}return""})}}var J9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vn={},zo=typeof process<"u"&&Vn!==void 0&&(Vn.REACT_APP_SC_ATTR||Vn.SC_ATTR)||"data-styled",l2="active",c2="data-styled-version",$d="6.1.19",gy=`/*!sc*/
`,gd=typeof window<"u"&&typeof document<"u",eD=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Vn!==void 0&&Vn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Vn.REACT_APP_SC_DISABLE_SPEEDY!==""?Vn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Vn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Vn!==void 0&&Vn.SC_DISABLE_SPEEDY!==void 0&&Vn.SC_DISABLE_SPEEDY!==""&&Vn.SC_DISABLE_SPEEDY!=="false"&&Vn.SC_DISABLE_SPEEDY),Qd=Object.freeze([]),Uo=Object.freeze({});function tD(i,e,t){return t===void 0&&(t=Uo),i.theme!==t.theme&&i.theme||e||t.theme}var u2=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),nD=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,iD=/(^-|-$)/g;function BE(i){return i.replace(nD,"-").replace(iD,"")}var rD=/(a)(d)/gi,wh=52,FE=function(i){return String.fromCharCode(i+(i>25?39:97))};function lg(i){var e,t="";for(e=Math.abs(i);e>wh;e=e/wh|0)t=FE(e%wh)+t;return(FE(e%wh)+t).replace(rD,"$1-$2")}var vp,h2=5381,To=function(i,e){for(var t=e.length;t;)i=33*i^e.charCodeAt(--t);return i},d2=function(i){return To(h2,i)};function sD(i){return lg(d2(i)>>>0)}function aD(i){return i.displayName||i.name||"Component"}function _p(i){return typeof i=="string"&&!0}var f2=typeof Symbol=="function"&&Symbol.for,m2=f2?Symbol.for("react.memo"):60115,oD=f2?Symbol.for("react.forward_ref"):60112,lD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},p2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},uD=((vp={})[oD]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vp[m2]=p2,vp);function qE(i){return("type"in(e=i)&&e.type.$$typeof)===m2?p2:"$$typeof"in i?uD[i.$$typeof]:lD;var e}var hD=Object.defineProperty,dD=Object.getOwnPropertyNames,HE=Object.getOwnPropertySymbols,fD=Object.getOwnPropertyDescriptor,mD=Object.getPrototypeOf,GE=Object.prototype;function g2(i,e,t){if(typeof e!="string"){if(GE){var s=mD(e);s&&s!==GE&&g2(i,s,t)}var o=dD(e);HE&&(o=o.concat(HE(e)));for(var c=qE(i),u=qE(e),m=0;m<o.length;++m){var g=o[m];if(!(g in cD||t&&t[g]||u&&g in u||c&&g in c)){var y=fD(e,g);try{hD(i,g,y)}catch{}}}}return i}function Bo(i){return typeof i=="function"}function yy(i){return typeof i=="object"&&"styledComponentId"in i}function da(i,e){return i&&e?"".concat(i," ").concat(e):i||e||""}function $E(i,e){if(i.length===0)return"";for(var t=i[0],s=1;s<i.length;s++)t+=i[s];return t}function Nc(i){return i!==null&&typeof i=="object"&&i.constructor.name===Object.name&&!("props"in i&&i.$$typeof)}function cg(i,e,t){if(t===void 0&&(t=!1),!t&&!Nc(i)&&!Array.isArray(i))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)i[s]=cg(i[s],e[s]);else if(Nc(e))for(var s in e)i[s]=cg(i[s],e[s]);return i}function vy(i,e){Object.defineProperty(i,"toString",{value:e})}function Fc(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(i," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var pD=(function(){function i(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return i.prototype.indexOfGroup=function(e){for(var t=0,s=0;s<e;s++)t+=this.groupSizes[s];return t},i.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,c=o;e>=c;)if((c<<=1)<0)throw Fc(16,"".concat(e));this.groupSizes=new Uint32Array(c),this.groupSizes.set(s),this.length=c;for(var u=o;u<c;u++)this.groupSizes[u]=0}for(var m=this.indexOfGroup(e+1),g=(u=0,t.length);u<g;u++)this.tag.insertRule(m,t[u])&&(this.groupSizes[e]++,m++)},i.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],s=this.indexOfGroup(e),o=s+t;this.groupSizes[e]=0;for(var c=s;c<o;c++)this.tag.deleteRule(s)}},i.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var s=this.groupSizes[e],o=this.indexOfGroup(e),c=o+s,u=o;u<c;u++)t+="".concat(this.tag.getRule(u)).concat(gy);return t},i})(),Bh=new Map,yd=new Map,Fh=1,xh=function(i){if(Bh.has(i))return Bh.get(i);for(;yd.has(Fh);)Fh++;var e=Fh++;return Bh.set(i,e),yd.set(e,i),e},gD=function(i,e){Fh=e+1,Bh.set(i,e),yd.set(e,i)},yD="style[".concat(zo,"][").concat(c2,'="').concat($d,'"]'),vD=new RegExp("^".concat(zo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),_D=function(i,e,t){for(var s,o=t.split(","),c=0,u=o.length;c<u;c++)(s=o[c])&&i.registerName(e,s)},ED=function(i,e){for(var t,s=((t=e.textContent)!==null&&t!==void 0?t:"").split(gy),o=[],c=0,u=s.length;c<u;c++){var m=s[c].trim();if(m){var g=m.match(vD);if(g){var y=0|parseInt(g[1],10),E=g[2];y!==0&&(gD(E,y),_D(i,E,g[3]),i.getTag().insertRules(y,o)),o.length=0}else o.push(m)}}},QE=function(i){for(var e=document.querySelectorAll(yD),t=0,s=e.length;t<s;t++){var o=e[t];o&&o.getAttribute(zo)!==l2&&(ED(i,o),o.parentNode&&o.parentNode.removeChild(o))}};function bD(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var y2=function(i){var e=document.head,t=i||e,s=document.createElement("style"),o=(function(m){var g=Array.from(m.querySelectorAll("style[".concat(zo,"]")));return g[g.length-1]})(t),c=o!==void 0?o.nextSibling:null;s.setAttribute(zo,l2),s.setAttribute(c2,$d);var u=bD();return u&&s.setAttribute("nonce",u),t.insertBefore(s,c),s},AD=(function(){function i(e){this.element=y2(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(t){if(t.sheet)return t.sheet;for(var s=document.styleSheets,o=0,c=s.length;o<c;o++){var u=s[o];if(u.ownerNode===t)return u}throw Fc(17)})(this.element),this.length=0}return i.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},i.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},i.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},i})(),TD=(function(){function i(e){this.element=y2(e),this.nodes=this.element.childNodes,this.length=0}return i.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var s=document.createTextNode(t);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},i.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},i.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},i})(),SD=(function(){function i(e){this.rules=[],this.length=0}return i.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},i.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},i.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},i})(),KE=gd,wD={isServer:!gd,useCSSOMInjection:!eD},v2=(function(){function i(e,t,s){e===void 0&&(e=Uo),t===void 0&&(t={});var o=this;this.options=xn(xn({},wD),e),this.gs=t,this.names=new Map(s),this.server=!!e.isServer,!this.server&&gd&&KE&&(KE=!1,QE(this)),vy(this,function(){return(function(c){for(var u=c.getTag(),m=u.length,g="",y=function(A){var w=(function(se){return yd.get(se)})(A);if(w===void 0)return"continue";var N=c.names.get(w),j=u.getGroup(A);if(N===void 0||!N.size||j.length===0)return"continue";var P="".concat(zo,".g").concat(A,'[id="').concat(w,'"]'),Q="";N!==void 0&&N.forEach(function(se){se.length>0&&(Q+="".concat(se,","))}),g+="".concat(j).concat(P,'{content:"').concat(Q,'"}').concat(gy)},E=0;E<m;E++)y(E);return g})(o)})}return i.registerId=function(e){return xh(e)},i.prototype.rehydrate=function(){!this.server&&gd&&QE(this)},i.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new i(xn(xn({},this.options),e),this.gs,t&&this.names||void 0)},i.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},i.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(t){var s=t.useCSSOMInjection,o=t.target;return t.isServer?new SD(o):s?new AD(o):new TD(o)})(this.options),new pD(e)));var e},i.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},i.prototype.registerName=function(e,t){if(xh(e),this.names.has(e))this.names.get(e).add(t);else{var s=new Set;s.add(t),this.names.set(e,s)}},i.prototype.insertRules=function(e,t,s){this.registerName(e,t),this.getTag().insertRules(xh(e),s)},i.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},i.prototype.clearRules=function(e){this.getTag().clearGroup(xh(e)),this.clearNames(e)},i.prototype.clearTag=function(){this.tag=void 0},i})(),xD=/&/g,CD=/^\s*\/\/.*$/gm;function _2(i,e){return i.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=_2(t.children,e)),t})}function RD(i){var e,t,s,o=Uo,c=o.options,u=c===void 0?Uo:c,m=o.plugins,g=m===void 0?Qd:m,y=function(w,N,j){return j.startsWith(t)&&j.endsWith(t)&&j.replaceAll(t,"").length>0?".".concat(e):w},E=g.slice();E.push(function(w){w.type===Fd&&w.value.includes("&")&&(w.props[0]=w.props[0].replace(xD,t).replace(s,y))}),u.prefix&&E.push(Z9),E.push(Y9);var A=function(w,N,j,P){N===void 0&&(N=""),j===void 0&&(j=""),P===void 0&&(P="&"),e=P,t=N,s=new RegExp("\\".concat(t,"\\b"),"g");var Q=w.replace(CD,""),se=Q9(j||N?"".concat(j," ").concat(N," { ").concat(Q," }"):Q);u.namespace&&(se=_2(se,u.namespace));var G=[];return pd(se,X9(E.concat(W9(function(ee){return G.push(ee)})))),G};return A.hash=g.length?g.reduce(function(w,N){return N.name||Fc(15),To(w,N.name)},h2).toString():"",A}var ND=new v2,ug=RD(),E2=Bt.createContext({shouldForwardProp:void 0,styleSheet:ND,stylis:ug});E2.Consumer;Bt.createContext(void 0);function YE(){return ae.useContext(E2)}var ID=(function(){function i(e,t){var s=this;this.inject=function(o,c){c===void 0&&(c=ug);var u=s.name+c.hash;o.hasNameForId(s.id,u)||o.insertRules(s.id,u,c(s.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,vy(this,function(){throw Fc(12,String(s.name))})}return i.prototype.getName=function(e){return e===void 0&&(e=ug),this.name+e.hash},i})(),DD=function(i){return i>="A"&&i<="Z"};function XE(i){for(var e="",t=0;t<i.length;t++){var s=i[t];if(t===1&&s==="-"&&i[0]==="-")return i;DD(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var b2=function(i){return i==null||i===!1||i===""},A2=function(i){var e,t,s=[];for(var o in i){var c=i[o];i.hasOwnProperty(o)&&!b2(c)&&(Array.isArray(c)&&c.isCss||Bo(c)?s.push("".concat(XE(o),":"),c,";"):Nc(c)?s.push.apply(s,md(md(["".concat(o," {")],A2(c),!1),["}"],!1)):s.push("".concat(XE(o),": ").concat((e=o,(t=c)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in J9||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return s};function ya(i,e,t,s){if(b2(i))return[];if(yy(i))return[".".concat(i.styledComponentId)];if(Bo(i)){if(!Bo(c=i)||c.prototype&&c.prototype.isReactComponent||!e)return[i];var o=i(e);return ya(o,e,t,s)}var c;return i instanceof ID?t?(i.inject(t,s),[i.getName(s)]):[i]:Nc(i)?A2(i):Array.isArray(i)?Array.prototype.concat.apply(Qd,i.map(function(u){return ya(u,e,t,s)})):[i.toString()]}function MD(i){for(var e=0;e<i.length;e+=1){var t=i[e];if(Bo(t)&&!yy(t))return!1}return!0}var kD=d2($d),jD=(function(){function i(e,t,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&MD(e),this.componentId=t,this.baseHash=To(kD,t),this.baseStyle=s,v2.registerId(t)}return i.prototype.generateAndInjectStyles=function(e,t,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))o=da(o,this.staticRulesId);else{var c=$E(ya(this.rules,e,t,s)),u=lg(To(this.baseHash,c)>>>0);if(!t.hasNameForId(this.componentId,u)){var m=s(c,".".concat(u),void 0,this.componentId);t.insertRules(this.componentId,u,m)}o=da(o,u),this.staticRulesId=u}else{for(var g=To(this.baseHash,s.hash),y="",E=0;E<this.rules.length;E++){var A=this.rules[E];if(typeof A=="string")y+=A;else if(A){var w=$E(ya(A,e,t,s));g=To(g,w+E),y+=w}}if(y){var N=lg(g>>>0);t.hasNameForId(this.componentId,N)||t.insertRules(this.componentId,N,s(y,".".concat(N),void 0,this.componentId)),o=da(o,N)}}return o},i})(),T2=Bt.createContext(void 0);T2.Consumer;var Ep={};function OD(i,e,t){var s=yy(i),o=i,c=!_p(i),u=e.attrs,m=u===void 0?Qd:u,g=e.componentId,y=g===void 0?(function(J,Y){var L=typeof J!="string"?"sc":BE(J);Ep[L]=(Ep[L]||0)+1;var T="".concat(L,"-").concat(sD($d+L+Ep[L]));return Y?"".concat(Y,"-").concat(T):T})(e.displayName,e.parentComponentId):g,E=e.displayName,A=E===void 0?(function(J){return _p(J)?"styled.".concat(J):"Styled(".concat(aD(J),")")})(i):E,w=e.displayName&&e.componentId?"".concat(BE(e.displayName),"-").concat(e.componentId):e.componentId||y,N=s&&o.attrs?o.attrs.concat(m).filter(Boolean):m,j=e.shouldForwardProp;if(s&&o.shouldForwardProp){var P=o.shouldForwardProp;if(e.shouldForwardProp){var Q=e.shouldForwardProp;j=function(J,Y){return P(J,Y)&&Q(J,Y)}}else j=P}var se=new jD(t,w,s?o.componentStyle:void 0);function G(J,Y){return(function(L,T,x){var I=L.attrs,V=L.componentStyle,k=L.defaultProps,z=L.foldedComponentIds,D=L.styledComponentId,ke=L.target,Ye=Bt.useContext(T2),W=YE(),ue=L.shouldForwardProp||W.shouldForwardProp,ve=tD(T,Ye,k)||Uo,xe=(function(pe,be,Oe){for(var ct,$e=xn(xn({},be),{className:void 0,theme:Oe}),ti=0;ti<pe.length;ti+=1){var ni=Bo(ct=pe[ti])?ct($e):ct;for(var dn in ni)$e[dn]=dn==="className"?da($e[dn],ni[dn]):dn==="style"?xn(xn({},$e[dn]),ni[dn]):ni[dn]}return be.className&&($e.className=da($e.className,be.className)),$e})(I,T,ve),Le=xe.as||ke,R={};for(var B in xe)xe[B]===void 0||B[0]==="$"||B==="as"||B==="theme"&&xe.theme===ve||(B==="forwardedAs"?R.as=xe.forwardedAs:ue&&!ue(B,Le)||(R[B]=xe[B]));var oe=(function(pe,be){var Oe=YE(),ct=pe.generateAndInjectStyles(be,Oe.styleSheet,Oe.stylis);return ct})(V,xe),le=da(z,D);return oe&&(le+=" "+oe),xe.className&&(le+=" "+xe.className),R[_p(Le)&&!u2.has(Le)?"class":"className"]=le,x&&(R.ref=x),ae.createElement(Le,R)})(ee,J,Y)}G.displayName=A;var ee=Bt.forwardRef(G);return ee.attrs=N,ee.componentStyle=se,ee.displayName=A,ee.shouldForwardProp=j,ee.foldedComponentIds=s?da(o.foldedComponentIds,o.styledComponentId):"",ee.styledComponentId=w,ee.target=s?o.target:i,Object.defineProperty(ee,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(J){this._foldedDefaultProps=s?(function(Y){for(var L=[],T=1;T<arguments.length;T++)L[T-1]=arguments[T];for(var x=0,I=L;x<I.length;x++)cg(Y,I[x],!0);return Y})({},o.defaultProps,J):J}}),vy(ee,function(){return".".concat(ee.styledComponentId)}),c&&g2(ee,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),ee}function WE(i,e){for(var t=[i[0]],s=0,o=e.length;s<o;s+=1)t.push(e[s],i[s+1]);return t}var ZE=function(i){return Object.assign(i,{isCss:!0})};function VD(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Bo(i)||Nc(i))return ZE(ya(WE(Qd,md([i],e,!0))));var s=i;return e.length===0&&s.length===1&&typeof s[0]=="string"?ya(s):ZE(ya(WE(s,e)))}function hg(i,e,t){if(t===void 0&&(t=Uo),!e)throw Fc(1,e);var s=function(o){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];return i(e,t,VD.apply(void 0,md([o],c,!1)))};return s.attrs=function(o){return hg(i,e,xn(xn({},t),{attrs:Array.prototype.concat(t.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return hg(i,e,xn(xn({},t),o))},s}var S2=function(i){return hg(OD,i)},Yt=S2;u2.forEach(function(i){Yt[i]=S2(i)});const PD=()=>{const i=de(e=>e.openReportModal);return p.jsx(LD,{children:p.jsxs("button",{className:"BugButton",onClick:i,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 43 42",className:"bugsvg",style:{color:"var(--text-primary)"},children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,stroke:"currentColor",d:"M20 7H23C26.866 7 30 10.134 30 14V28.5C30 33.1944 26.1944 37 21.5 37C16.8056 37 13 33.1944 13 28.5V14C13 10.134 16.134 7 20 7Z"}),p.jsx("path",{strokeLinecap:"round",strokeWidth:4,stroke:"currentColor",d:"M18 2V7"}),p.jsx("path",{strokeLinecap:"round",strokeWidth:4,stroke:"currentColor",d:"M25 2V7"}),p.jsx("path",{strokeLinecap:"round",strokeWidth:4,stroke:"currentColor",d:"M31 22H41"}),p.jsx("path",{strokeLinecap:"round",strokeWidth:4,stroke:"currentColor",d:"M2 22H12"}),p.jsx("path",{strokeLinecap:"round",strokeWidth:4,stroke:"currentColor",d:"M12.5785 15.2681C3.5016 15.2684 4.99951 12.0004 5 4"}),p.jsx("path",{strokeLinecap:"round",strokeWidth:4,stroke:"currentColor",d:"M12.3834 29.3877C3.20782 29.3874 4.72202 32.4736 4.72252 40.0291"}),p.jsx("path",{strokeLinecap:"round",strokeWidth:4,stroke:"currentColor",d:"M30.0003 14.8974C39.0545 15.553 37.7958 12.1852 38.3718 4.20521"}),p.jsx("path",{strokeLinecap:"round",strokeWidth:4,stroke:"currentColor",d:"M29.9944 29.7379C39.147 29.1188 37.8746 32.2993 38.4568 39.8355"})]}),p.jsx("span",{className:"tooltip",children:"Reportar Error"})]})})},LD=Yt.div`
  @media (max-width: 768px) {
    display: none;
  }

  .BugButton {
    width: 40px;
    height: 40px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 3px;
    background-color: transparent;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    overflow: hidden;
  }
  .BugButton svg {
    width: 44%;
  }
  .BugButton:hover {
    background-color: rgba(61, 41, 71, 0.1); /* Match StyledIconButton hover */
    /* border: 1px solid var(--border-primary); Remove border to match others (unless desired, but standard usually has none or transparent) */
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    overflow: visible;
  }
  .bugsvg path {
    transition: all 0.2s;
  }
  /* Removed white stroke on hover to maintain contrast with light background
  .BugButton:hover .bugsvg path {
    stroke: #fff;
  } 
  */
  .BugButton:active {
    transform: scale(0.98);
  }
  .tooltip {
    --tooltip-color: rgb(41, 41, 41);
    position: absolute;
    top: 50px;
    background-color: var(--tooltip-color);
    color: white;
    border-radius: 5px;
    font-size: 12px;
    padding: 8px 12px;
    font-weight: 600;
    box-shadow: 0px 10px 10px rgba(0, 0, 0, 0.105);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: all 0.5s;
    min-width: 100px;
    white-space: nowrap;
    pointer-events: none;
    z-index: 1000;
  }
  .tooltip::before {
    position: absolute;
    width: 10px;
    height: 10px;
    transform: rotate(45deg);
    content: "";
    background-color: var(--tooltip-color);
    top: -5px;
  }
  .BugButton:hover .tooltip {
    opacity: 1;
  }`,zD=({count:i,onClick:e})=>{const[t,s]=ae.useState(0),[o,c]=ae.useState(0),[u,m]=ae.useState(i);ae.useEffect(()=>{i>u&&(s(y=>y+1),c(y=>y+1)),m(i)},[i,u]);const g=()=>{s(y=>y+1),e()};return p.jsxs("div",{className:"nb-wrapper group",onClick:g,children:[p.jsx("div",{className:"nb-bell-icon animate-elastic-ring",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),p.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]})},`bell-${t}`),i>0&&p.jsx("div",{className:"nb-badge-container",children:p.jsxs("div",{className:"nb-badge-animator animate-elastic-scale",children:[p.jsx("div",{className:"nb-badge-pulse"}),p.jsx("div",{className:"nb-badge-count",children:i>99?"99+":i})]},`badge-${o}`)})]})},gt=({onClick:i,tooltip:e,icon:t,badgeCount:s,className:o,isActive:c=!1,activeColor:u,size:m="default",label:g})=>p.jsx(UD,{className:o,$isActive:c,$activeColor:u,$size:m,$hasLabel:!!g,children:p.jsxs("button",{className:"IconButton",onClick:i,children:[t,g&&p.jsx("span",{className:"label-text",children:g}),s!==void 0&&s>0&&p.jsx("span",{className:"badge",children:s}),!g&&p.jsx("span",{className:"tooltip",children:e})]})}),UD=Yt.div`
  .IconButton {
    width: ${i=>i.$hasLabel?"100%":i.$size==="small"?"32px":"40px"};
    height: ${i=>i.$size==="small"?"32px":"40px"};
    display: flex;
    flex-direction: ${i=>i.$hasLabel?"row":"column"};
    align-items: center;
    justify-content: center;
    gap: ${i=>i.$hasLabel?"8px":"3px"};
    background-color: ${i=>i.$isActive?i.$activeColor?`${i.$activeColor}20`:"rgba(61, 41, 71, 0.1)":"transparent"};
    border: ${i=>i.$hasLabel?"1px solid var(--border-primary)":"none"};
    border-color: ${i=>i.$isActive&&i.$hasLabel?i.$activeColor||"var(--accent-primary)":"var(--border-primary)"};
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    padding: ${i=>i.$hasLabel?"0 12px":"0"};
  }

  .label-text {
    font-size: 0.85rem;
    font-weight: 600;
    color: ${i=>i.$isActive?i.$activeColor||"var(--text-primary, #000)":"var(--text-secondary, #333)"};
    white-space: nowrap;
  }

  /* Icon sizing to match general scale */
  .IconButton svg {
    width: ${i=>i.$size==="small"?"16px":"20px"};
    height: ${i=>i.$size==="small"?"16px":"20px"};
    color: ${i=>i.$isActive?i.$activeColor||"var(--text-primary, #000)":"var(--text-secondary, #333)"};
    transition: all 0.2s;
    /* Ensure strokes are legible */
    stroke-width: 2px;
  }

  .IconButton:hover {
    background-color: ${i=>i.$isActive?i.$activeColor?`${i.$activeColor}30`:"rgba(61, 41, 71, 0.15)":"rgba(61, 41, 71, 0.1)"};
    border-color: ${i=>i.$hasLabel?i.$activeColor||"var(--accent-primary)":"transparent"};
  }

  .IconButton:hover svg,
  .IconButton:hover .label-text {
    color: ${i=>i.$activeColor||"#000"};
  }

  .IconButton:hover svg {
    transform: ${i=>(i.$hasLabel,"scale(1.1)")}; /* Scale icon in both cases */
  }

  .IconButton:active {
    transform: scale(0.98);
  }

  .tooltip {
    --tooltip-color: rgb(41, 41, 41);
    position: absolute;
    top: 50px;
    background-color: var(--tooltip-color);
    color: white;
    border-radius: 5px;
    font-size: 12px;
    padding: 8px 12px;
    font-weight: 600;
    box-shadow: 0px 10px 10px rgba(0, 0, 0, 0.105);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: all 0.5s;
    min-width: max-content;
    white-space: nowrap;
    pointer-events: none;
    z-index: 1000;
  }
  
  .tooltip::before {
    position: absolute;
    width: 10px;
    height: 10px;
    transform: rotate(45deg);
    content: "";
    background-color: var(--tooltip-color);
    top: -5px;
  }

  .IconButton:hover .tooltip {
    opacity: 1;
  }

  /* Badge Styling */
  .badge {
    position: absolute;
    top: -2px;
    right: -2px;
    background-color: ${i=>i.$activeColor||"var(--accent-primary, #3b82f6)"};
    color: white;
    font-size: 0.6rem;
    font-weight: 700;
    height: 14px;
    min-width: 14px;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 3px;
    line-height: 1;
    pointer-events: none;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    font-variant-numeric: tabular-nums;
  }
`,JE=()=>{const i=de(s=>s.ui.notifications.filter(o=>!o.read).length),e=de(s=>s.toggleNotificationPanel),t=de(s=>s.openGuideModal);return p.jsx("header",{className:"header",children:p.jsxs("div",{className:"header-container",children:[p.jsxs("div",{className:"logo-section",children:[p.jsxs("h1",{className:"logo",children:[p.jsx("span",{className:"logo-text",children:"Brake"}),p.jsx("svg",{className:"header-x",style:{height:"0.55em"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 24",children:p.jsx("path",{fill:"#0a3cff",d:"M8.98885921,23.8523026 C8.8942483,23.9435442 8.76801031,24 8.62933774,24 L2.03198365,24 C1.73814918,24 1.5,23.7482301 1.5,23.4380086 C1.5,23.2831829 1.55946972,23.1428989 1.65570253,23.0416777 L13.2166154,12.4291351 C13.3325814,12.3262031 13.4061076,12.1719477 13.4061076,11.999444 C13.4061076,11.8363496 13.3401502,11.6897927 13.2352673,11.587431 L1.68841087,0.990000249 C1.57298556,0.88706828 1.5,0.733668282 1.5,0.561734827 C1.5,0.251798399 1.73814918,0.000028513 2.03198365,0.000028513 L8.62933774,0.000028513 C8.76855094,0.000028513 8.89532956,0.0561991444 8.98994048,0.148296169 L21.4358709,11.5757407 C21.548593,11.6783875 21.6196864,11.8297916 21.6196864,11.999444 C21.6196864,12.1693815 21.5483227,12.3219261 21.4350599,12.4251432 L8.98885921,23.8523026 Z M26.5774333,23.8384453 L20.1765996,17.9616286 C20.060093,17.8578413 19.9865669,17.7038710 19.9865669,17.5310822 C19.9865669,17.3859509 20.0390083,17.2536506 20.1246988,17.153855 L23.4190508,14.1291948 C23.5163648,14.0165684 23.6569296,13.945571 23.8131728,13.945571 C23.9602252,13.945571 24.0929508,14.0082997 24.1894539,14.1092357 L33.861933,22.9913237 C33.9892522,23.0939706 34.0714286,23.2559245 34.0714286,23.4381226 C34.0714286,23.748059 33.8332794,23.9998289 33.5394449,23.9998289 L26.9504707,23.9998289 C26.8053105,23.9998289 26.6733958,23.9382408 26.5774333,23.8384453 Z M26.5774333,0.161098511 C26.6733958,0.0615881034 26.8053105,0 26.9504707,0 L33.5394449,0 C33.8332794,0 34.0714286,0.251769886 34.0714286,0.561706314 C34.0714286,0.743904453 33.9892522,0.905573224 33.861933,1.00822006 L24.1894539,9.89030807 C24.0929508,9.99152926 23.9602252,10.0542579 23.8131728,10.0542579 C23.6569296,10.0542579 23.5163648,9.98354562 23.4190508,9.87063409 L20.1246988,6.8459739 C20.0390083,6.74617837 19.9865669,6.613878 19.9865669,6.46874677 Q20.060093,6.14198767 20.1765996,6.03848544 L26.5774333,0.161098511 Z"})}),p.jsx("span",{className:"logo-text",style:{marginLeft:0},children:"pert"})]}),p.jsx("div",{className:"header-separator"}),p.jsx("p",{className:"tagline",children:"Consulta rpida. Frenado seguro."})]}),p.jsxs("div",{className:"header-actions",children:[p.jsx(PD,{}),p.jsx(gt,{icon:p.jsx(XT,{}),tooltip:"Gua de uso",onClick:t}),p.jsx(e2,{}),window.location.hash!=="#compare"&&p.jsx(zD,{count:i,onClick:e})]})]})})},w2=Bt.forwardRef(({value:i,onChange:e,placeholder:t},s)=>{const o=()=>{e(""),s&&"current"in s&&s.current&&s.current.focus()};return p.jsx(BD,{children:p.jsxs("form",{className:"form relative",onSubmit:c=>c.preventDefault(),children:[p.jsx("button",{className:"icon-btn search-btn",type:"submit",children:p.jsx("svg",{width:17,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-labelledby":"search",className:"icon-svg",children:p.jsx("path",{d:"M7.667 12.667A5.333 5.333 0 107.667 2a5.333 5.333 0 000 10.667zM14.334 14l-2.9-2.9",stroke:"currentColor",strokeWidth:"1.333",strokeLinecap:"round",strokeLinejoin:"round"})})}),p.jsx("input",{ref:s,className:"input",placeholder:t||"Search...",required:!0,type:"text",value:i,onChange:c=>e(c.target.value)}),p.jsx("button",{type:"button",className:"icon-btn reset-btn",onClick:o,style:{display:i?"flex":"none"},children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon-svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})});w2.displayName="AnimatedSearch";const BD=Yt.div`
  width: 100%;
  
  .form {
    position: relative;
    width: 100%;
    display: flex;
    align-items: center;
  }

  .input {
    width: 100%;
    border-radius: 9999px;
    padding: 0.65rem 2.8rem 0.65rem 2.5rem; /* Extra padding on right for clear btn */
    border: 1px solid var(--border-primary);
    outline: none;
    background: var(--bg-secondary);
    color: var(--text-primary);
    transition: all 0.3s ease;
    box-shadow: var(--shadow-md);
    font-size: 0.9rem;
    font-weight: 500;
  }

  .input:focus {
    border-color: var(--accent-primary);
    box-shadow: 0 0 0 4px var(--accent-primary-glow);
    background: var(--bg-primary);
  }

  .input::placeholder {
    color: var(--text-muted);
    font-weight: 400;
  }

  .icon-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    padding: 6px;
    cursor: pointer;
    color: var(--text-secondary);
    transition: all 0.2s;
    z-index: 10;
  }

  .search-btn {
    left: 8px;
    pointer-events: none;
  }

  .reset-btn {
    right: 8px;
    color: var(--text-tertiary);
    border-radius: 50%;
  }

  .reset-btn:hover {
    background: rgba(0, 0, 0, 0.05); /* Subtle dark hover */
    color: var(--color-danger); /* Red on hover */
  }

  .icon-svg {
    width: 18px;
    height: 18px;
  }
`,fa=({value:i,onChange:e,options:t,placeholder:s="Seleccionar...",className:o=""})=>{const[c,u]=ae.useState(!1),[m,g]=ae.useState(i),y=ae.useRef(null);ae.useEffect(()=>{g(i)},[i]),ae.useEffect(()=>{const P=Q=>{y.current&&!y.current.contains(Q.target)&&(u(!1),m!==i&&g(i))};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[m,i]);const E=ae.useMemo(()=>{if(!m)return t;const P=m.toLowerCase();return t.filter(Q=>Q.toLowerCase().includes(P))},[t,m]),A=P=>{const Q=P.target.value;g(Q),e(Q),u(!0)},w=P=>{g(P),e(P),u(!1)},N=()=>{u(!0)},j=P=>{P.preventDefault(),P.stopPropagation(),u(!c)};return p.jsxs("div",{className:`searchable-select-container ${o}`,ref:y,children:[p.jsx("input",{type:"text",className:"searchable-select-input",placeholder:s,value:m,onChange:A,onFocus:N,onClick:()=>!c&&u(!0)}),p.jsx("div",{className:`searchable-select-arrow ${c?"open":""}`,onMouseDown:j,children:p.jsx(dy,{size:16})}),c&&p.jsx("ul",{className:"searchable-select-dropdown",children:E.length>0?E.map(P=>p.jsx("li",{className:`searchable-select-option ${P===i?"selected":""}`,onClick:()=>w(P),children:P},P)):p.jsx("li",{className:"searchable-select-no-options",children:"No se encontraron resultados"})})]})},FD=()=>{const i=de(),[e,t]=ae.useState(!1),{filters:s,products:o,filteredProducts:c}=i,u=ae.useRef(null);ae.useEffect(()=>{const L=T=>{(T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="k"&&(T.preventDefault(),u.current?.focus())};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[]);const[m,g]=ae.useState(s.searchQuery),[y,E]=ae.useState(s.oemReference),[A,w]=ae.useState(s.fmsiReference),[N,j]=ae.useState(s.width),[P,Q]=ae.useState(s.height);ae.useEffect(()=>{g(s.searchQuery),E(s.oemReference),w(s.fmsiReference),j(s.width),Q(s.height)},[s.searchQuery,s.oemReference,s.fmsiReference,s.width,s.height]),ae.useEffect(()=>{const L=setTimeout(()=>{m!==s.searchQuery&&i.setSearchQuery(m)},300);return()=>clearTimeout(L)},[m,s.searchQuery,i]),ae.useEffect(()=>{const L=setTimeout(()=>{y!==s.oemReference&&(i.setOemReference(y),y&&m&&g(""))},300);return()=>clearTimeout(L)},[y,s.oemReference,m,i]),ae.useEffect(()=>{const L=setTimeout(()=>{A!==s.fmsiReference&&(i.setFmsiReference(A),A&&m&&g(""))},300);return()=>clearTimeout(L)},[A,s.fmsiReference,m,i]),ae.useEffect(()=>{const L=setTimeout(()=>{N!==s.width&&i.setWidth(N)},300);return()=>clearTimeout(L)},[N,s.width,i]),ae.useEffect(()=>{const L=setTimeout(()=>{P!==s.height&&i.setHeight(P)},300);return()=>clearTimeout(L)},[P,s.height,i]),ae.useEffect(()=>{if(!Object.entries(s).some(([x,I])=>x==="showFavoritesOnly"?!1:Array.isArray(I)?I.length>0:!!I))return;const T=setTimeout(()=>{const x=[];s.searchQuery&&x.push(s.searchQuery),s.selectedBrand&&x.push(s.selectedBrand),s.selectedModel&&x.push(s.selectedModel),s.selectedYear&&x.push(s.selectedYear),s.oemReference&&x.push(`OEM: ${s.oemReference}`),s.fmsiReference&&x.push(`FMSI: ${s.fmsiReference}`),(s.width||s.height)&&x.push(`${s.width||"?"}x${s.height||"?"}`);const I=x.join("  ")||"Nueva Bsqueda";i.addToSearchHistory({timestamp:Date.now(),filters:{...s},resultCount:c.length,summary:I})},1500);return()=>clearTimeout(T)},[s,c.length,i]);const se=ae.useMemo(()=>{const L=new Map;return o.forEach(T=>{T.aplicaciones&&Array.isArray(T.aplicaciones)&&T.aplicaciones.forEach(x=>{x&&x.marca&&L.set(x.marca,(L.get(x.marca)||0)+1)})}),Array.from(L.entries()).sort((T,x)=>T[0].localeCompare(x[0]))},[o]),G=ae.useMemo(()=>{const L=new Map;return o.forEach(T=>{T.aplicaciones&&Array.isArray(T.aplicaciones)&&T.aplicaciones.forEach(x=>{s.selectedBrand&&x.marca!==s.selectedBrand||x&&x.modelo&&L.set(x.modelo,(L.get(x.modelo)||0)+1)})}),Array.from(L.keys()).sort((T,x)=>T.localeCompare(x))},[o,s.selectedBrand]),ee=ae.useMemo(()=>{const L=new Set;return o.forEach(T=>{T.aplicaciones&&Array.isArray(T.aplicaciones)&&T.aplicaciones.forEach(x=>{x&&x.ao&&L.add(String(x.ao))})}),Array.from(L).sort((T,x)=>x.localeCompare(T))},[o]),J=c.length!==o.length,Y=()=>{i.clearFilters(),g(""),E(""),w(""),j(""),Q("")};return p.jsxs(p.Fragment,{children:[p.jsx(gt,{className:"mobile-toggle-btn",icon:p.jsx(WT,{}),label:"FILTROS",onClick:()=>t(!0),isActive:J,activeColor:"var(--accent-primary)",tooltip:"Mostrar filtros"}),p.jsx("div",{className:`sidebar-overlay ${e?"open":""}`,onClick:()=>t(!1)}),p.jsx("aside",{className:`sidebar ${e?"open":""}`,children:p.jsxs("div",{className:"sidebar-content",children:[p.jsxs("div",{className:"filter-section",children:[p.jsx("div",{className:"section-header",children:p.jsx("h3",{className:"filter-section-title",children:"Bsqueda Rpida"})}),p.jsx(w2,{ref:u,value:m,onChange:g,placeholder:"Buscar..."})]}),p.jsxs("div",{className:"filter-section",children:[p.jsx("div",{className:"section-header",children:p.jsx("h3",{className:"filter-section-title",children:"Detalles del Vehculo"})}),p.jsxs("div",{className:"vehicle-details-grid",children:[p.jsx(fa,{placeholder:"Marca",value:s.selectedBrand||"",options:se.map(([L])=>L),onChange:L=>{i.setSelectedBrand(L),L&&g("")},className:s.selectedBrand?"has-value":""}),p.jsx(fa,{placeholder:"Modelo/Serie",value:s.selectedModel||"",options:G,onChange:L=>{i.setSelectedModel(L),L&&g("")},className:s.selectedModel?"has-value":""}),p.jsx(fa,{placeholder:"Ao",value:s.selectedYear||"",options:ee,onChange:L=>{i.setSelectedYear(L),L&&g("")},className:s.selectedYear?"has-value":""})]})]}),p.jsxs("div",{className:"filter-section",children:[p.jsx("div",{className:"section-header",children:p.jsx("h3",{className:"filter-section-title",children:"Posicin"})}),p.jsxs("div",{className:"position-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.8rem"},children:[p.jsx(gt,{icon:p.jsx(WI,{}),tooltip:"Delantera",label:"Delantera",onClick:()=>i.togglePosition("delantera"),isActive:s.selectedPositions.includes("delantera"),activeColor:"#3b82f6"}),p.jsx(gt,{icon:p.jsx(GI,{}),tooltip:"Trasera",label:"Trasera",onClick:()=>i.togglePosition("trasera"),isActive:s.selectedPositions.includes("trasera"),activeColor:"#ef4444"})]})]}),p.jsxs("div",{className:"filter-section",children:[p.jsx("div",{className:"section-header",children:p.jsx("h3",{className:"filter-section-title",children:"Referencias"})}),p.jsxs("div",{className:"references-grid",children:[p.jsx("div",{className:`ref-input-wrapper ${y?"has-value":""}`,children:p.jsx("input",{type:"text",className:"ref-input",placeholder:"OEM",value:y,onChange:L=>E(L.target.value)})}),p.jsx("div",{className:`ref-input-wrapper ${A?"has-value":""}`,children:p.jsx("input",{type:"text",className:"ref-input",placeholder:"FMSI",value:A,onChange:L=>w(L.target.value)})})]})]}),p.jsxs("div",{className:"filter-section",children:[p.jsx("div",{className:"section-header",children:p.jsx("h3",{className:"filter-section-title",children:"Medidas (mm)"})}),p.jsxs("div",{className:"measurements-grid",children:[p.jsx("div",{className:`measure-input-wrapper ${N?"has-value":""}`,children:p.jsx("input",{type:"number",className:"measure-input",placeholder:"Ancho",step:"0.1",value:N,onChange:L=>j(L.target.value)})}),p.jsx("div",{className:`measure-input-wrapper ${P?"has-value":""}`,children:p.jsx("input",{type:"number",className:"measure-input",placeholder:"Alto",step:"0.1",value:P,onChange:L=>Q(L.target.value)})})]})]}),p.jsx("div",{className:"borrar-filtros-container",style:{display:"flex",justifyContent:"center"},children:p.jsx(gt,{icon:p.jsx(Bd,{}),tooltip:"Borrar Filtros",label:"BORRAR FILTROS",onClick:Y,isActive:J,activeColor:"#ef4444",className:`${J?"":"disabled"} trash-hover`})})]})})]})},qD=({height:i=24})=>p.jsxs("svg",{height:i,viewBox:"10 15 650 90",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{d:"M89.6992 93.695C94.3659 97.195 101.366 94.8617 94.9492 88.445C75.6992 69.7783 79.7825 18.445 55.8659 18.445C31.9492 18.445 36.0325 69.7783 16.7825 88.445C9.78251 95.445 17.3658 97.195 22.0325 93.695C40.1159 81.445 38.9492 59.8617 55.8659 59.8617C72.7825 59.8617 71.6159 81.445 89.6992 93.695Z",fill:"#3186FF"}),p.jsx("text",{x:"120",y:"80",fontFamily:"Arial, sans-serif",fontSize:"55",fontWeight:"500",fill:"#94a3b8",children:"Google Antigravity"})]}),eb=()=>{const i=new Date().getFullYear();return p.jsxs("footer",{className:"footer-wrapper",children:[p.jsx("div",{className:"footer-accent-line"}),p.jsxs("div",{className:"footer-content footer-unified-content",children:[p.jsxs("div",{className:"footer-left-section",children:[p.jsxs("h2",{className:"footer-logo",children:["Brake ",p.jsx("span",{className:"logo-accent",children:"X"}),"pert"]}),p.jsxs("div",{className:"copyright-group",children:[p.jsx("span",{className:"divider",children:"|"}),p.jsxs("p",{className:"copyright",children:[" ",i," Brake Xpert Inc."]})]})]}),p.jsxs("div",{className:"footer-right-section",children:[p.jsx("div",{className:"legal-links",children:p.jsxs("a",{href:"#admin",className:"admin-link",target:"_blank",rel:"noopener noreferrer",children:[p.jsx(w9,{size:10}),p.jsx("span",{children:"Admin"})]})}),p.jsxs("div",{className:"credits-group",children:[p.jsx("span",{className:"divider",children:"|"}),p.jsxs("div",{className:"social-info",children:[p.jsx("span",{className:"social-name",children:"Desarrollada con"}),p.jsx(qD,{height:18,color:"#8b5cf6"})]})]})]})]})]})},HD=({value:i,options:e,onChange:t,className:s=""})=>{const[o,c]=ae.useState(!1),u=ae.useRef(null),m=e.find(y=>y.value===i);ae.useEffect(()=>{const y=E=>{u.current&&!u.current.contains(E.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const g=y=>{t(y),c(!1)};return p.jsxs("div",{className:`custom-select-container ${s}`,ref:u,children:[p.jsxs("button",{type:"button",className:`custom-select-trigger ${o?"open":""}`,onClick:()=>c(!o),children:[p.jsx("span",{className:"selected-value",children:m?m.label:i}),p.jsx(dy,{size:14,className:`chevron-icon ${o?"rotate":""}`})]}),o&&p.jsx("ul",{className:"custom-select-options",children:e.map(y=>p.jsxs("li",{className:`custom-option ${y.value===i?"selected":""}`,onClick:()=>g(y.value),children:[p.jsx("span",{children:y.label}),y.value===i&&p.jsx(Ta,{size:14,className:"check-icon"})]},y.value))})]})},GD=({totalResults:i,currentStart:e,currentEnd:t})=>{const s=de(j=>j.comparisons.length),o=de(j=>j.favorites.length),c=de(j=>j.toggleShowFavoritesOnly),u=de(j=>j.filters.showFavoritesOnly),m=de(j=>j.openHistoryPanel),{itemsPerPage:g,gridDensity:y}=de(j=>j.ui),E=de(j=>j.setItemsPerPage),A=de(j=>j.setGridDensity),w=de(j=>j.filters.showNewOnly),N=j=>{E(Number(j))};return p.jsxs("div",{className:"results-bar",children:[p.jsx("p",{className:"results-text",children:i===0?"Sin resultados":p.jsxs(p.Fragment,{children:["Mostrando"," ",p.jsxs("span",{className:"results-count",children:[e,"-",t]})," ","de"," ",p.jsx("span",{className:"results-count",children:i})," ","resultados"]})}),p.jsxs("div",{className:"results-actions-wrapper",children:[p.jsxs("div",{className:"control-group",children:[p.jsxs("div",{className:"density-selector",children:[p.jsx(gt,{icon:p.jsx(j5,{size:16}),tooltip:"Vista Compacta",onClick:()=>A("compact"),isActive:y==="compact",activeColor:"#3b82f6",size:"small"}),p.jsx(gt,{icon:p.jsx(rg,{size:16}),tooltip:"Vista Normal",onClick:()=>A("normal"),isActive:y==="normal",activeColor:"#3b82f6",size:"small"}),p.jsx(gt,{icon:p.jsx(t9,{size:16}),tooltip:"Vista Cmoda",onClick:()=>A("comfortable"),isActive:y==="comfortable",activeColor:"#3b82f6",size:"small"})]}),p.jsx("div",{className:"items-selector",children:p.jsx(HD,{value:g,onChange:N,options:[{value:24,label:"24 / pg"},{value:48,label:"48 / pg"},{value:72,label:"72 / pg"},{value:96,label:"96 / pg"}]})})]}),p.jsx("div",{className:"control-divider"}),p.jsxs("div",{className:"tools-group",children:[p.jsx(gt,{icon:p.jsx(j9,{}),tooltip:w?"Ver todos los resultados":"Ver solo nuevos",onClick:()=>de.getState().toggleShowNewOnly(),isActive:w,activeColor:"#f59e0b",badgeCount:de(j=>j.products.filter(P=>!!P.createdAt&&Date.now()-P.createdAt<360*60*60*1e3).length)}),p.jsx(gt,{icon:p.jsx(uy,{}),tooltip:"Comparar productos",onClick:()=>window.location.hash="compare",isActive:s>0,activeColor:"#9333ea",badgeCount:s}),p.jsx(gt,{icon:p.jsx(hy,{fill:u?"currentColor":"none"}),tooltip:u?"Ver todos los resultados":"Ver solo favoritos",onClick:c,isActive:u,activeColor:"#3b82f6",badgeCount:o}),p.jsx(gt,{icon:p.jsx(fd,{}),tooltip:"Historial de bsquedas",onClick:m})]})]})]})},$D=Bt.memo(({product:i})=>{const e=de(N=>N.favorites),t=de(N=>N.comparisons),s=e.includes(i.id),o=t.includes(i.id),c=de(N=>N.toggleFavorite),u=de(N=>N.toggleComparison),m=de(N=>N.openProductDetailModal),g=()=>{if(!i.aplicaciones||i.aplicaciones.length===0)return"Sin aplicaciones";const N=i.aplicaciones[0],j=i.aplicaciones.length-1,P=N.marca||"",Q=N.modelo&&N.modelo!=="undefined"?N.modelo:"";let se=`${P} ${Q}`.trim();return se||(se=N.ao?`Ao: ${N.ao}`:"Sin detalles"),j>0&&(se+=`, +${j} ms`),se},E=(()=>{if(i.posicion){const j=i.posicion.toUpperCase();if(j==="AMBAS")return{display:"DL-TR",className:"badge-ambas"};if(j==="TRASERA")return{display:"TRASERA",className:"badge-trasera"};if(j==="DELANTERA")return{display:"DELANTERA",className:""}}const N=new Set;return i.posicion&&N.add(i.posicion.toUpperCase()),Array.isArray(i.aplicaciones)&&i.aplicaciones.forEach(j=>{if(j&&j.posicion){const P=j.posicion.toUpperCase();P==="AMBAS"?(N.add("DELANTERA"),N.add("TRASERA")):N.add(P)}}),N.has("DELANTERA")&&N.has("TRASERA")?{display:"DL-TR",className:"badge-ambas"}:N.has("TRASERA")?{display:"TRASERA",className:"badge-trasera"}:N.has("DELANTERA")?{display:"DELANTERA",className:""}:{display:i.posicion||"N/A",className:""}})(),A=N=>{if(!N)return"";const j=N.toUpperCase();return j.endsWith("BP")?"ref-badge-gray":j.startsWith("K")?"ref-badge-red":j.endsWith("BEX")?"ref-badge-lightblue":j.startsWith("SP")?"ref-badge-mint":""},w=()=>E.display==="DL-TR"?"hover-ambas":E.display==="DELANTERA"?"hover-delantera":E.display==="TRASERA"?"hover-trasera":"";return p.jsxs("div",{className:`product-card ${w()}`,onClick:()=>m(i.id),children:[p.jsxs("div",{className:"card-header",children:[p.jsx("span",{className:`position-badge ${E.className}`,children:E.display}),p.jsxs("div",{className:"action-icons",onClick:N=>N.stopPropagation(),children:[p.jsx(gt,{icon:p.jsx(uy,{}),tooltip:o?"Quitar de comparar":"Comparar",onClick:()=>u(i.id),isActive:o,activeColor:"#9333ea",size:"small"}),p.jsx(gt,{icon:p.jsx(hy,{fill:s?"currentColor":"none"}),tooltip:s?"Quitar de favoritos":"Guardar favorito",onClick:()=>c(i.id),isActive:s,activeColor:"#3b82f6",size:"small"})]})]}),!!i.createdAt&&i.createdAt>0&&Date.now()-i.createdAt<360*60*60*1e3&&p.jsx("div",{className:"new-badge-overlay",children:"NUEVO"}),p.jsx("div",{className:"image-container",children:i.imagenes&&i.imagenes.length>0?p.jsx("img",{src:i.imagenes[0],alt:i.referencia,className:"product-image",loading:"lazy"}):p.jsxs("div",{className:"no-image-placeholder",children:[p.jsx(ZT,{size:32,strokeWidth:1.5}),p.jsx("span",{children:"Sin Imagen"})]})}),p.jsx("div",{className:"ref-section",children:(i.ref||[]).flatMap(N=>N.split(" ")).filter(Boolean).map(N=>p.jsx("span",{className:`ref-badge ${A(N)}`,children:N},N))}),p.jsx("div",{className:"card-bottom",children:p.jsx("p",{className:"applications",children:g()})})]})}),QD=()=>p.jsxs("div",{className:"product-card",style:{pointerEvents:"none",border:"1px solid var(--border-primary)"},children:[p.jsxs("div",{className:"card-header",children:[p.jsx("div",{className:"skeleton",style:{width:"60px",height:"20px",borderRadius:"0.4rem"}}),p.jsxs("div",{className:"action-icons",children:[p.jsx("div",{className:"skeleton",style:{width:"32px",height:"32px",borderRadius:"8px"}}),p.jsx("div",{className:"skeleton",style:{width:"32px",height:"32px",borderRadius:"8px"}})]})]}),p.jsx("div",{className:"image-container",style:{padding:"0.5rem"},children:p.jsx("div",{className:"skeleton",style:{width:"100%",height:"140px",borderRadius:"0.5rem"}})}),p.jsxs("div",{className:"ref-section",children:[p.jsx("div",{className:"skeleton",style:{width:"50px",height:"18px",borderRadius:"0.4rem"}}),p.jsx("div",{className:"skeleton",style:{width:"70px",height:"18px",borderRadius:"0.4rem"}}),p.jsx("div",{className:"skeleton",style:{width:"40px",height:"18px",borderRadius:"0.4rem"}})]}),p.jsx("div",{className:"card-bottom",children:p.jsx("div",{className:"skeleton",style:{width:"80%",height:"14px",borderRadius:"4px"}})})]}),KD=({title:i="No se encontraron resultados",description:e="Intenta ajustar los filtros de bsqueda o prueba con otros trminos para encontrar lo que necesitas.",actionLabel:t="Limpiar Filtros",onAction:s})=>p.jsxs("div",{className:"empty-state-container",children:[p.jsxs("div",{className:"empty-state-icon-wrapper",children:[p.jsx("div",{className:"empty-state-blob"}),p.jsx(v9,{size:64,className:"empty-state-icon",strokeWidth:1.5})]}),p.jsx("h3",{className:"empty-state-title",children:i}),p.jsx("p",{className:"empty-state-description",children:e}),p.jsxs("div",{className:"empty-state-tips-box",children:[p.jsx("p",{className:"tips-header",children:"Sugerencias para mejorar tu bsqueda:"}),p.jsxs("ul",{className:"tips-list",children:[p.jsx("li",{children:"Verifica que la referencia est bien escrita."}),p.jsx("li",{children:'Intenta buscar solo por modelo (ej: "Mazda 3").'}),p.jsx("li",{children:"Prueba con menos palabras clave."})]})]}),s&&p.jsxs("button",{onClick:s,className:"empty-state-action",children:[p.jsx(f9,{size:18}),t]})]}),YD=({products:i,loading:e=!1,onClearFilters:t,hasProducts:s=!0,onSeedDatabase:o})=>{const{gridDensity:c}=de(u=>u.ui);return e?p.jsx("div",{className:"results-wrapper",children:Array.from({length:8}).map((u,m)=>p.jsx(QD,{},`skeleton-${m}`))}):!s&&o?p.jsx("div",{className:"results-wrapper",style:{display:"flex",justifyContent:"center",padding:"4rem 0"},children:p.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[p.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"rgba(59, 130, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",color:"#3b82f6"},children:p.jsx(ig,{size:40})}),p.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"1rem",color:"var(--text-primary)"},children:"Base de Datos Vaca"}),p.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"2rem",lineHeight:"1.6"},children:"No se encontraron productos en la base de datos. Puedes cargar un conjunto de datos de prueba para comenzar a utilizar la aplicacin."}),p.jsxs("button",{onClick:o,style:{background:"#3b82f6",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},children:[p.jsx(ig,{size:18}),"Cargar Datos de Prueba"]})]})}):i.length===0?p.jsx("div",{className:"results-wrapper",children:p.jsx(KD,{onAction:t})}):p.jsx("div",{className:"virtual-grid-container",style:{height:"auto",minHeight:"500px"},children:p.jsx("div",{className:"results-wrapper","data-density":c,children:i.map(u=>p.jsx($D,{product:u},u.id))})})},XD=({currentPage:i,totalPages:e,onPageChange:t})=>{if(e<=1)return null;const s=()=>{const o=[];let u=1,m=e;e>5&&(i<=3?m=5:i+2>=e?u=e-4:(u=i-2,m=i+2)),u>1&&(o.push(p.jsxs("div",{className:"tab-group",children:[p.jsx("input",{id:"page-1",name:"pagination",type:"radio",checked:i===1,onChange:()=>t(1)}),p.jsx("label",{htmlFor:"page-1",children:p.jsx("span",{children:"1"})})]},1)),u>2&&o.push(p.jsx("span",{className:"page-dots",children:"..."},"dots-start")));for(let g=u;g<=m;g++)o.push(p.jsxs("div",{className:"tab-group",children:[p.jsx("input",{id:`page-${g}`,name:"pagination",type:"radio",checked:i===g,onChange:()=>t(g)}),p.jsx("label",{htmlFor:`page-${g}`,children:p.jsx("span",{children:g})})]},g));return m<e&&(m<e-1&&o.push(p.jsx("span",{className:"page-dots",children:"..."},"dots-end")),o.push(p.jsxs("div",{className:"tab-group",children:[p.jsx("input",{id:`page-${e}`,name:"pagination",type:"radio",checked:i===e,onChange:()=>t(e)}),p.jsx("label",{htmlFor:`page-${e}`,children:p.jsx("span",{children:e})})]},e))),o};return p.jsx(WD,{children:p.jsxs("div",{className:"pagination-container",children:[p.jsx("button",{className:"nav-btn",onClick:()=>t(i-1),disabled:i===1,"aria-label":"Anterior",children:p.jsx(o5,{size:16})}),p.jsx("div",{className:"tabs",children:s()}),p.jsx("button",{className:"nav-btn",onClick:()=>t(i+1),disabled:i===e,"aria-label":"Siguiente",children:p.jsx(c5,{size:16})})]})})},WD=Yt.div`
  .pagination-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: 1.5rem;
    padding-bottom: 1.5rem;
  }

  .nav-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 36px; /* Reduced from 48px */
    background: transparent;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 8px;
  }

  .nav-btn:hover:not(:disabled) {
    background: var(--bg-hover);
    color: var(--text-primary);
  }

  .nav-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }

  .page-dots {
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-tertiary);
    font-size: 1rem;
    padding: 0 2px;
  }

  /* User Provided Styles - Scaled Down (~75%) */
  .tabs {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .tab-group input {
    appearance: none;
    display: none; 
  }

  .tab-group label {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px; /* Reduced from 48px */
    height: 36px; /* Reduced from 48px */
    line-height: 1;
    border: 1px solid var(--border-primary, #cccccc);
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    position: relative;
    background-color: var(--bg-secondary, transparent);
    color: var(--text-primary, #333);
    transition: all 0.48s cubic-bezier(0.23, 1, 0.32, 1);
  }

  .tab-group label::after {
    content: "";
    position: absolute;
    bottom: -24px; /* Reduced from -32px */
    left: 50%;
    width: 6px; /* Reduced from 8px */
    height: 6px; /* Reduced from 8px */
    border-radius: 50%;
    background-color: #0a3cff;
    transform: translateX(-50%);
    transform-origin: 0 0;
    scale: 0;
    opacity: 0;
    z-index: -1;
    transition: all 0.48s 0.2s cubic-bezier(0.23, 1, 0.32, 1);
  }

  .tab-group label::before {
    content: "";
    position: absolute;
    top: -18px; /* Reduced from -24px */
    left: 50%;
    width: 36px; /* Reduced from 48px */
    height: 36px; /* Reduced from 48px */
    border-radius: 8px;
    background-color: #0a3cff;
    transform: translate(-50%, -50%);
    z-index: -1;
    opacity: 0;
    scale: 0;
    transform-origin: 0 0;
    transition: all 0.48s cubic-bezier(0.23, 1, 0.32, 1);
  }

  .tab-group label:hover {
    border-color: #0a3cff;
    color: #0a3cff;
  }

  .tab-group input:checked + label {
    border-color: transparent;
    color: #ffffff;
    scale: 1.1;
  }

  .tab-group input:checked + label::after {
    bottom: -12px;
    opacity: 1;
    scale: 1;
    box-shadow:
      0rem 4px 10px rgba(10, 60, 255, 0.1),
      0rem 18px 18px rgba(10, 60, 255, 0.09),
      0rem 41px 25px rgba(10, 60, 255, 0.05),
      0rem 73px 29px rgba(10, 60, 255, 0.01),
      0rem 114px 32px rgba(10, 60, 255, 0);
  }

  .tab-group input:checked + label::before {
    opacity: 1;
    scale: 1;
    top: 50%;
    box-shadow:
      0rem 4px 10px rgba(10, 60, 255, 0.1),
      0rem 18px 18px rgba(10, 60, 255, 0.09),
      0rem 41px 25px rgba(10, 60, 255, 0.05),
      0rem 73px 29px rgba(10, 60, 255, 0.01),
      0rem 114px 32px rgba(10, 60, 255, 0);
  }
`;var ZD=ab();const Kd=({isOpen:i,onClose:e,title:t,children:s,size:o="default",hideHeader:c=!1,noPadding:u=!1,allowOverflow:m=!1})=>{const[g,y]=ae.useState(i);ae.useEffect(()=>{i&&y(!0)},[i]);const E=()=>{i||y(!1)};if(ae.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),ae.useEffect(()=>{const j=P=>{P.key==="Escape"&&e()};return i&&window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[i,e]),!g)return null;const A=o==="small"?"modal-sm":o==="large"?"modal-large":o==="xl"?"modal-xl":"",w=`modal-body ${u?"modal-body-p0":""} ${m?"allow-overflow":""}`,N=i?"":"closing";return ZD.createPortal(p.jsx("div",{className:`modal-overlay ${N} ${m?"allow-overflow":""}`,onClick:e,onAnimationEnd:E,children:p.jsxs("div",{className:`modal-container ${A} ${N} ${m?"allow-overflow":""}`,onClick:j=>j.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[!c&&p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{id:"modal-title",className:"modal-title",children:t}),p.jsx(gt,{icon:p.jsx(Zo,{}),onClick:e,tooltip:"Cerrar",activeColor:"#ef4444"})]}),p.jsx("div",{className:w,children:s})]})}),document.body)},JD=()=>{const i=de(G=>G.ui.isProductDetailModalOpen),e=de(G=>G.ui.selectedProductId),t=de(G=>G.products),s=de(G=>G.closeProductDetailModal),o=de(G=>G.toggleFavorite),c=de(G=>G.toggleComparison),u=de(G=>G.favorites),m=de(G=>G.comparisons),[g,y]=Bt.useState(!1);Bt.useEffect(()=>{y(!1)},[e]);const E=t.find(G=>G.id===e);if(!E)return null;const A=u.includes(E.id),w=m.includes(E.id),j=(()=>{if(E.posicion){const ee=E.posicion.toUpperCase();if(ee==="AMBAS")return{display:"DL-TR",className:"badge-ambas"};if(ee==="TRASERA")return{display:"TRASERA",className:"badge-trasera"};if(ee==="DELANTERA")return{display:"DELANTERA",className:""}}const G=new Set;return E.posicion&&G.add(E.posicion.toUpperCase()),Array.isArray(E.aplicaciones)&&E.aplicaciones.forEach(ee=>{if(ee&&ee.posicion){const J=ee.posicion.toUpperCase();J==="AMBAS"?(G.add("DELANTERA"),G.add("TRASERA")):G.add(J)}}),G.has("DELANTERA")&&G.has("TRASERA")?{display:"DL-TR",className:"badge-ambas"}:G.has("TRASERA")?{display:"TRASERA",className:"badge-trasera"}:G.has("DELANTERA")?{display:"DELANTERA",className:""}:{display:E.posicion||"N/A",className:""}})(),P=G=>{if(!G)return"";const ee=G.toUpperCase();return ee.endsWith("BP")?"ref-badge-gray":ee.startsWith("K")?"ref-badge-red":ee.endsWith("BEX")?"ref-badge-lightblue":ee.startsWith("SP")?"ref-badge-mint":""},Q=Array.from(new Set([E.referencia,...E.ref||[]].flatMap(G=>G?G.split(" "):[]).filter(Boolean))),se=Q.slice(0,4);return p.jsx(Kd,{isOpen:i,onClose:s,title:E.referencia,size:"xl",hideHeader:!0,noPadding:!0,children:p.jsxs("div",{className:"detail-layout",children:[p.jsxs("div",{className:"modal-actions-toolbar",style:{display:"flex",gap:"0.5rem"},children:[p.jsx(gt,{icon:p.jsx(uy,{}),tooltip:w?"Quitar de comparar":"Comparar",onClick:()=>c(E.id),isActive:w,activeColor:"#8b5cf6"}),p.jsx(gt,{icon:p.jsx(hy,{fill:A?"currentColor":"none"}),tooltip:A?"Quitar de favoritos":"Guardar",onClick:()=>o(E.id),isActive:A,activeColor:"#3b82f6"}),p.jsx(gt,{icon:p.jsx(Zo,{}),tooltip:"Cerrar",onClick:s,activeColor:"#ef4444"})]}),p.jsxs("div",{className:"detail-info-col",children:[p.jsx("div",{className:"position-row",children:p.jsx("span",{className:`position-badge ${j.className}`,children:j.display})}),p.jsxs("div",{className:"badges-row",children:[se.map(G=>p.jsx("span",{className:`ref-badge ${P(G)}`,children:G},G)),Q.length>4&&p.jsxs("span",{className:"ref-badge ref-badge-gray",children:["+",Q.length-4]})]}),p.jsx("div",{className:"applications-table-container",children:Object.entries((E.aplicaciones||[]).reduce((G,ee)=>{const J=ee.marca||"Otras";return G[J]||(G[J]=[]),G[J].push(ee),G},{})).sort((G,ee)=>G[0].localeCompare(ee[0])).map(([G,ee])=>p.jsxs("div",{className:"brand-group",children:[p.jsx("h3",{className:"brand-header-in-list",children:G}),p.jsx("table",{className:"app-table",children:p.jsx("tbody",{children:ee.map((J,Y)=>p.jsxs("tr",{children:[p.jsx("td",{className:"app-model",children:J.modelo===J.serie?J.modelo:`${J.modelo} ${J.serie}`.trim()}),p.jsx("td",{className:"app-year",children:J.ao}),p.jsx("td",{className:`app-pos ${J.posicion==="TRASERA"?"text-red":J.posicion==="DELANTERA"?"text-blue":"text-purple"}`,children:J.posicion})]},Y))})})]},G))}),p.jsxs("div",{className:"specs-section",children:[p.jsx("h4",{className:"specs-header",children:"ESPECIFICACIONES"}),p.jsxs("div",{className:"specs-rows",children:[p.jsxs("div",{className:"spec-row",children:[p.jsx("span",{className:"spec-key",children:"Platina FMSI"}),p.jsx("span",{className:"spec-val",children:E.fmsi?.join(", ")||"N/A"})]}),p.jsxs("div",{className:"spec-row",children:[p.jsx("span",{className:"spec-key",children:"Medidas (mm)"}),p.jsxs("span",{className:"spec-val",children:["Ancho: ",E.medidas.ancho," x Alto: ",E.medidas.alto]})]})]})]})]}),p.jsx("div",{className:"detail-image-col",children:p.jsx("div",{className:"image-wrapper",children:E.imagenes&&E.imagenes.length>0?p.jsxs(p.Fragment,{children:[!g&&p.jsx("div",{className:"image-skeleton-loader",children:p.jsx("div",{className:"shimmer-effect"})}),p.jsx("img",{src:E.imagenes[0],alt:E.referencia,className:`main-product-image ${g?"loaded":"loading"}`,onLoad:()=>y(!0)})]}):p.jsxs("div",{className:"no-image-placeholder-large",children:[p.jsx(ZT,{size:64,strokeWidth:1}),p.jsx("span",{className:"mt-4 text-sm font-medium",children:"Imagen no disponible"})]})})})]})})},e8=()=>{const i=de(A=>A.ui.isHistoryPanelOpen),e=de(A=>A.searchHistory),t=de(A=>A.closeHistoryPanel),s=de(A=>A.setSearchQuery),o=de(A=>A.clearFilters),c=de(A=>A.setSelectedBrand),u=de(A=>A.setSelectedModel),m=de(A=>A.setSelectedYear),g=de(A=>A.clearSearchHistory);if(!i)return null;const y=A=>{o(),A.searchQuery&&s(A.searchQuery),A.selectedBrand&&c(A.selectedBrand),A.selectedModel&&u(A.selectedModel),A.selectedYear&&m(A.selectedYear),t()},E=A=>new Date(A).toLocaleString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"history-overlay",onClick:t}),p.jsx("div",{className:"history-fixed-container",children:p.jsxs("div",{className:"history-panel-card",children:[p.jsxs("header",{className:"history-panel-header",children:[p.jsxs("div",{className:"header-title-group",children:[p.jsx(fd,{size:20,className:"header-icon"}),p.jsx("h2",{className:"history-panel-title",children:"Historial"})]}),p.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"8px"},children:[e.length>0&&p.jsx(gt,{icon:p.jsx(Bd,{}),onClick:g,tooltip:"Limpiar historial",activeColor:"#ef4444"}),p.jsx(gt,{icon:p.jsx(Zo,{}),onClick:t,tooltip:"Cerrar",activeColor:"#ef4444"})]})]}),p.jsx("div",{className:"history-panel-content custom-scrollbar",children:e.length===0?p.jsxs("div",{className:"history-empty-state",children:[p.jsx(fd,{size:48,className:"empty-icon-large"}),p.jsx("h3",{children:"Historial Vaco"}),p.jsx("p",{children:"Tus bsquedas recientes aparecern aqu para que puedas volver a ellas rpidamente."})]}):p.jsx("div",{className:"history-items-list",children:e.map(A=>p.jsxs("button",{onClick:()=>y(A.filters),className:"history-panel-item",children:[p.jsxs("div",{className:"item-main",children:[p.jsx("div",{className:"item-icon-box",children:p.jsx(Ud,{size:16})}),p.jsxs("div",{className:"item-details",children:[p.jsx("span",{className:"item-summary",children:A.summary||"Bsqueda General"}),p.jsxs("span",{className:"item-results",children:[A.resultCount," resultados encontrados"]})]})]}),p.jsxs("div",{className:"item-meta",children:[p.jsx(_5,{size:12}),p.jsx("span",{children:E(A.timestamp)})]})]},A.id))})})]})})]})},t8=()=>{const i=de(s=>s.ui.isGuideModalOpen),e=de(s=>s.closeGuideModal),t=[{icon:p.jsx(Ud,{size:24,style:{color:"var(--accent-primary)"}}),title:"Bsqueda Rpida",description:"Usa la barra de bsqueda lateral para encontrar pastillas por referencia directa, cdigo OEM o FMSI."},{icon:p.jsx(WT,{size:24,style:{color:"var(--accent-secondary)"}}),title:"Filtros de Vehculo",description:"Selecciona Marca, Modelo y Ao para ver exactamente qu pastillas corresponden a tu vehculo."},{icon:p.jsx(s9,{size:24,style:{color:"var(--color-success)"}}),title:"Detalles y Comparacin",description:"Haz clic en cualquier producto para ver sus medidas exactas y fotos. salos para comparar hasta 4 modelos a la vez."},{icon:p.jsx(C9,{size:24,style:{color:"var(--color-warning)"}}),title:"Acceso desde el Celular",description:"Esta aplicacin es una PWA. Puedes instalarla en tu celular desde el men del navegador para usarla sin conexin."}];return p.jsx(Kd,{isOpen:i,onClose:e,title:"Gua de Uso - Brake Xpert",size:"large",children:p.jsxs("div",{className:"guide-content",style:{padding:"0.5rem 0"},children:[p.jsx("style",{children:`
                    .guide-grid {
                        display: grid;
                        gap: 1rem;
                        grid-template-columns: 1fr;
                    }
                    @media (min-width: 640px) {
                        .guide-grid {
                            grid-template-columns: 1fr 1fr;
                        }
                    }
                `}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",padding:"0.75rem",background:"var(--bg-tertiary)",borderRadius:"10px",border:"1px solid var(--border-primary)"},children:[p.jsx(XT,{size:28,style:{color:"var(--accent-primary)"}}),p.jsxs("div",{children:[p.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"var(--text-primary)"},children:"Gua Rpida"}),p.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Encuentra tus frenos ideales en segundos."})]})]}),p.jsx("div",{className:"guide-grid",children:t.map((s,o)=>p.jsxs("div",{style:{padding:"0.75rem",border:"1px solid var(--border-primary)",borderRadius:"10px",background:"var(--bg-secondary)",boxShadow:"var(--shadow-sm)"},children:[p.jsxs("div",{style:{marginBottom:"0.4rem",display:"flex",alignItems:"center",gap:"0.6rem"},children:[p.jsx("span",{style:{padding:"6px",background:"var(--bg-tertiary)",borderRadius:"8px",display:"flex",border:"1px solid var(--border-secondary)"},children:s.icon}),p.jsx("h4",{style:{margin:0,fontSize:"0.95rem",color:"var(--text-primary)",fontWeight:600},children:s.title})]}),p.jsx("p",{style:{margin:0,fontSize:"0.825rem",lineHeight:"1.3",color:"var(--text-secondary)"},children:s.description})]},o))}),p.jsxs("div",{style:{marginTop:"1rem",textAlign:"center",padding:"1rem",border:"1px dashed var(--border-primary)",borderRadius:"10px",background:"var(--bg-tertiary)"},children:[p.jsx("p",{style:{margin:0,fontWeight:600,color:"var(--text-primary)",fontSize:"0.875rem"},children:"Necesitas soporte tcnico?"}),p.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Contctanos para atencin especializada."})]})]})})},n8=()=>{const i=de(m=>m.isNotificationPanelOpen),e=de(m=>m.ui.notifications),t=de(m=>m.closeNotificationPanel),s=de(m=>m.markAsRead),o=de(m=>m.markAllAsRead),c=de(m=>m.clearAllNotifications);if(!i)return null;const u=m=>{const g=new Date(m);return g.toLocaleDateString()+" "+g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"notification-overlay",onClick:t}),p.jsx("div",{className:"fixed-container",children:p.jsxs("div",{className:"notification-card",children:[p.jsxs("header",{className:"notification-header",children:[p.jsx("h2",{className:"notification-title",children:"Notificaciones"}),p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.length>0&&p.jsxs(p.Fragment,{children:[p.jsx(gt,{icon:p.jsx(i5,{}),onClick:o,tooltip:"Marcar todo como ledo",activeColor:"#10b981"}),p.jsx(gt,{icon:p.jsx(Bd,{}),onClick:c,tooltip:"Limpiar todo",activeColor:"#ef4444"})]}),p.jsx(gt,{icon:p.jsx(Zo,{}),onClick:t,tooltip:"Cerrar",activeColor:"#ef4444"})]})]}),p.jsx("div",{className:"notification-list custom-scrollbar",children:e.length===0?p.jsxs("div",{className:"empty-state",children:[p.jsx(OE,{size:48,className:"empty-icon"}),p.jsx("p",{children:"Sin notificaciones pendientes"})]}):e.map(m=>p.jsxs("div",{className:"notification-group",children:[p.jsxs("div",{className:"item-header",children:[p.jsx(OE,{size:18,className:"bell-icon"}),p.jsx("h3",{className:"item-title",children:m.title}),!m.read&&p.jsx("div",{className:"unread-dot"})]}),p.jsx("p",{className:"item-message",children:m.message}),p.jsxs("div",{className:"item-footer",children:[m.read?p.jsxs("div",{className:"read-status",children:[p.jsx(Ta,{size:14}),p.jsx("span",{children:"LEDO"})]}):p.jsxs("button",{className:"read-action",onClick:()=>s(m.id),children:[p.jsx(Ta,{size:14}),p.jsx("span",{children:"LEDO"})]}),p.jsx("span",{className:"item-time",children:u(m.timestamp)})]})]},m.id))})]})})]})},tb=i=>{if(!i)return{};const e={...i};let t=e.medidas,s="",o="";if(Array.isArray(t)&&t.length>0&&(t=t[0]),typeof t=="string"){const u=t.toLowerCase().split("x");if(u.length===2){const m=parseFloat(u[0].trim()),g=parseFloat(u[1].trim());s=m||"",o=g||""}}else if(t&&typeof t=="object"){const u=parseFloat(t.ancho)||parseFloat(t.width),m=parseFloat(t.alto)||parseFloat(t.height);s=u||"",o=m||""}e.medidas={ancho:s,alto:o};const c=u=>Array.isArray(u)?u:u&&typeof u=="string"?[u]:[];return e.fmsi=c(e.fmsi),e.oem=c(e.oem),e.ref=c(e.ref),e.imagenes=c(e.imagenes),e.aplicaciones=c(e.aplicaciones).map(u=>u&&typeof u=="object"?{marca:String(u.marca||""),modelo:String(u.modelo||u.serie||""),serie:String(u.serie||""),ao:(()=>{if(u.ao)return String(u.ao);if(u.ano)return String(u.ano);if(u.year)return String(u.year);const m=Object.keys(u).find(g=>/^(a(|n)o|years?|anio)$/i.test(g.trim()));return m?String(u[m]):""})(),motor:String(u.motor||u.litros||u.engine||""),posicion:String(u.posicion||"DELANTERA").toUpperCase()}:{marca:"Dato corrupto",modelo:String(u),ao:"",posicion:"DELANTERA"}),e.posicion=String(e.posicion||e.posicin||"DELANTERA").toUpperCase(),e},i8=({initialData:i,onSave:e})=>{const[t,s]=ae.useState(()=>tb(i));ae.useEffect(()=>{i&&(console.log("ProductForm received initialData change, normalizing..."),s(tb(i)))},[i]);const[o,c]=ae.useState({marca:"",modelo:"",serie:"",ao:"",motor:"",posicion:"DELANTERA"}),u=de(Y=>Y.products),m=Bt.useMemo(()=>{const Y=new Set;return u.forEach(L=>{L.aplicaciones&&L.aplicaciones.forEach(T=>{T.marca&&Y.add(T.marca)})}),Array.from(Y).sort()},[u]),g=Bt.useMemo(()=>{const Y=new Set;return u.forEach(L=>{L.aplicaciones&&L.aplicaciones.forEach(T=>{T.modelo&&Y.add(T.modelo),T.serie&&Y.add(T.serie)})}),Array.from(Y).sort()},[u]),y=Bt.useMemo(()=>{if(!o.marca)return g;const Y=new Set;return u.forEach(L=>{L.aplicaciones&&L.aplicaciones.forEach(T=>{T.marca===o.marca&&(T.modelo&&Y.add(T.modelo),T.serie&&Y.add(T.serie))})}),Y.size>0?Array.from(Y).sort():g},[u,o.marca,g]),[E,A]=ae.useState(null),[w,N]=ae.useState(null),j=()=>{!o.marca||!o.modelo&&!o.serie||(s(Y=>({...Y,aplicaciones:[...Y.aplicaciones||[],o]})),c({marca:"",modelo:"",serie:"",ao:"",motor:"",posicion:"DELANTERA"}))},P=Y=>{s(L=>({...L,aplicaciones:L.aplicaciones?.filter((T,x)=>x!==Y)}))},Q=(Y,L)=>{A(Y),N({...L})},se=()=>{A(null),N(null)},G=()=>{E===null||!w||(s(Y=>{const L=[...Y.aplicaciones||[]];return L[E]=w,{...Y,aplicaciones:L}}),A(null),N(null))},ee=Y=>{const L=["DELANTERA","TRASERA","AMBAS"];s(T=>{if(!T.aplicaciones||!T.aplicaciones[Y])return T;const x=[...T.aplicaciones],I=x[Y].posicion||"DELANTERA",V=(L.indexOf(I)+1)%L.length;return x[Y]={...x[Y],posicion:L[V]},{...T,aplicaciones:x}})},J=()=>{try{console.log("Saving formData:",t);const Y={...t};if(Y.medidas&&typeof Y.medidas=="object"&&!Array.isArray(Y.medidas)){const L=Y.medidas.ancho||0,T=Y.medidas.alto||0;Y.medidas=[`${L} x ${T}`]}e(Y)}catch(Y){console.error("Error in handleSaveClick:",Y),alert("Error al preparar los datos para guardar.")}};return p.jsxs("div",{className:"product-form-container",children:[p.jsxs("div",{className:"admin-grid",children:[p.jsxs("div",{className:"admin-card",children:[p.jsxs("h3",{className:"section-title",children:[p.jsx(o9,{size:20})," Datos Generales"]}),p.jsxs("div",{className:"image-edit-section",children:[p.jsx("div",{className:"image-preview-container",children:t.imagenes?.[0]?p.jsx("img",{src:t.imagenes[0],alt:"Preview",className:"admin-img-preview"}):p.jsxs("div",{className:"no-image-placeholder",children:[p.jsx(L5,{size:40,opacity:.2}),p.jsx("span",{children:"Sin Imagen"})]})}),p.jsxs("div",{className:"image-input-stack",children:[p.jsx("label",{children:"URL Imagen"}),p.jsx("input",{type:"text",className:"admin-input",placeholder:"Link de Firebase...",value:t.imagenes?.[0]||"",onChange:Y=>s({...t,imagenes:[Y.target.value]})})]})]}),p.jsxs("div",{className:"form-group-stack",children:[p.jsx("label",{children:"REF"}),p.jsx("input",{type:"text",className:"admin-input highlight",value:t.ref?.[0]||"",onChange:Y=>{const L=Y.target.value,T=Array.isArray(t.ref)?[...t.ref]:[];T.length>0?T[0]=L:T.push(L),s({...t,ref:T})}}),p.jsxs("div",{style:{marginTop:"1rem",marginBottom:"1rem"},children:[p.jsx("label",{children:"FMSI (Planita)"}),p.jsx("input",{type:"text",className:"admin-input",placeholder:"Ej: D1234, 8432",value:Array.isArray(t.fmsi)?t.fmsi.join(", "):"",onChange:Y=>s({...t,fmsi:Y.target.value.split(",").map(L=>L.trim()).filter(Boolean)})})]}),p.jsxs("div",{style:{marginTop:"1rem"},children:[p.jsx("label",{children:"OEM (Separadas por coma)"}),p.jsx("input",{type:"text",className:"admin-input",placeholder:"Ej: 1K0698151A, 5K0698151",value:Array.isArray(t.oem)?t.oem.join(", "):"",onChange:Y=>s({...t,oem:Y.target.value.split(",").map(L=>L.trim()).filter(Boolean)})})]}),p.jsxs("div",{style:{marginTop:"1.5rem"},children:[p.jsx("label",{children:"Posicin Global"}),p.jsxs("div",{className:"pos-selector",children:[p.jsx("button",{type:"button",className:`pos-btn ${String(t.posicion||"").toUpperCase()==="DELANTERA"?"active del":""}`,onClick:()=>s({...t,posicion:"DELANTERA"}),children:"DELANTERA"}),p.jsx("button",{type:"button",className:`pos-btn ${String(t.posicion||"").toUpperCase()==="TRASERA"?"active tras":""}`,onClick:()=>s({...t,posicion:"TRASERA"}),children:"TRASERA"}),p.jsx("button",{type:"button",className:`pos-btn ${String(t.posicion||"").toUpperCase()==="AMBAS"?"active ambas-btn":""}`,onClick:()=>s({...t,posicion:"AMBAS"}),children:"AMBAS"})]})]}),p.jsx("div",{style:{marginTop:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:p.jsxs("div",{onClick:()=>{const Y=!!(t.createdAt&&Date.now()-t.createdAt<1296e6);s({...t,createdAt:Y?0:Date.now()})},style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",userSelect:"none",padding:"0.5rem",border:"1px solid var(--admin-border)",borderRadius:"0.5rem",background:"var(--admin-glass)"},children:[p.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",border:"2px solid var(--admin-text-muted)",background:t.createdAt&&Date.now()-t.createdAt<360*60*60*1e3?"#10b981":"transparent",borderColor:t.createdAt&&Date.now()-t.createdAt<360*60*60*1e3?"#10b981":"var(--admin-text-muted)",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:t.createdAt&&Date.now()-t.createdAt<360*60*60*1e3&&p.jsx(Ta,{size:12,strokeWidth:4})}),p.jsx("span",{style:{color:"var(--admin-text)",fontWeight:600,fontSize:"0.9rem"},children:"Marcar como NUEVO"})]})}),p.jsxs("div",{className:"extra-info-grid",children:[p.jsxs("div",{children:[p.jsxs("label",{children:[p.jsx(PE,{size:14})," Ancho (mm)"]}),p.jsx("input",{type:"text",className:"admin-input",placeholder:"0.0",value:t.medidas?.ancho??"",onChange:Y=>{const L=Y.target.value.replace(",",".");(L===""||/^\d*\.?\d*$/.test(L))&&s({...t,medidas:{...t.medidas||{ancho:"",alto:""},ancho:L}})}})]}),p.jsxs("div",{children:[p.jsxs("label",{children:[p.jsx(PE,{size:14})," Alto (mm)"]}),p.jsx("input",{type:"text",className:"admin-input",placeholder:"0.0",value:t.medidas?.alto??"",onChange:Y=>{const L=Y.target.value.replace(",",".");(L===""||/^\d*\.?\d*$/.test(L))&&s({...t,medidas:{...t.medidas||{ancho:"",alto:""},alto:L}})}})]})]})]})]}),p.jsxs("div",{className:"admin-card",children:[p.jsxs("h3",{className:"section-title",children:[p.jsx(t5,{size:20})," Aplicaciones por Vehculo"]}),p.jsxs("div",{className:"new-app-box",children:[p.jsx("div",{style:{marginBottom:"0.5rem"},children:p.jsx(fa,{value:o.marca,onChange:Y=>c({...o,marca:Y}),options:m,placeholder:"Marca (ej. Chevrolet)",className:"admin-autocomplete"})}),p.jsx("div",{style:{marginBottom:"0.5rem"},children:p.jsx(fa,{value:o.modelo,onChange:Y=>c({...o,modelo:Y,serie:Y}),options:y,placeholder:"Serie / Modelo",className:"admin-autocomplete"})}),p.jsx("input",{placeholder:"Ao",className:"admin-input",value:o.ao,onChange:Y=>c({...o,ao:Y.target.value})}),p.jsx("input",{placeholder:"Motor (Litros)",className:"admin-input",value:o.motor||"",onChange:Y=>c({...o,motor:Y.target.value})}),p.jsxs("div",{className:"pos-selector",children:[p.jsx("button",{type:"button",className:`pos-btn ${o.posicion==="DELANTERA"?"active del":""}`,onClick:()=>c({...o,posicion:"DELANTERA"}),children:"DEL"}),p.jsx("button",{type:"button",className:`pos-btn ${o.posicion==="TRASERA"?"active tras":""}`,onClick:()=>c({...o,posicion:"TRASERA"}),children:"TRAS"}),p.jsx("button",{type:"button",className:`pos-btn ${o.posicion==="AMBAS"?"active ambas-btn":""}`,onClick:()=>c({...o,posicion:"AMBAS"}),children:"AMBAS"})]}),p.jsxs("button",{type:"button",className:"add-app-btn",onClick:j,children:[p.jsx(JT,{size:18})," Aadir Vehculo"]})]}),p.jsx("div",{className:"apps-list-container",children:Array.isArray(t.aplicaciones)&&t.aplicaciones.map((Y,L)=>p.jsx("div",{className:`app-item-card ${E===L?"editing":""}`,children:E===L&&w?p.jsxs("div",{className:"app-edit-grid",children:[p.jsx("div",{style:{minWidth:0},children:p.jsx(fa,{value:w.marca||"",onChange:T=>N({...w,marca:T}),options:m,placeholder:"Marca",className:"admin-autocomplete small"})}),p.jsx("div",{style:{minWidth:0},children:p.jsx(fa,{value:w.serie||w.modelo||"",onChange:T=>N({...w,serie:T,modelo:T}),options:y,placeholder:"Serie/Modelo",className:"admin-autocomplete small"})}),p.jsx("input",{className:"admin-input small",value:w.ao||"",onChange:T=>N({...w,ao:T.target.value}),placeholder:"Ao"}),p.jsx("input",{className:"admin-input small",value:w.motor||"",onChange:T=>N({...w,motor:T.target.value}),placeholder:"Motor"}),p.jsxs("div",{className:"edit-app-actions",children:[p.jsx("button",{onClick:G,className:"icon-btn success",children:p.jsx(Ta,{size:16})}),p.jsx("button",{onClick:se,className:"icon-btn danger",children:p.jsx(Zo,{size:16})})]})]}):p.jsxs("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[p.jsxs("div",{style:{flex:1},children:[p.jsxs("strong",{style:{color:"var(--admin-text)",fontSize:"1rem",display:"block"},children:[Y?.marca||"N/A"," ",p.jsx("span",{style:{color:"var(--admin-accent)"},children:Y?.serie||Y?.modelo||"(Sin Serie)"})]}),p.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--admin-text-muted)",fontWeight:500},children:["Ao: ",Y?.ao||"N/A"," ",Y?.motor&&p.jsxs("span",{style:{marginLeft:"0.5rem",color:"var(--admin-accent)"},children:[" Motor: ",Y.motor]})]})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[p.jsx("span",{className:`pos-badge ${String(Y?.posicion||t.posicion||"delantera").toLowerCase()}`,onClick:()=>ee(L),style:{cursor:"pointer",userSelect:"none"},title:"Click para cambiar posicin",children:Y?.posicion||t.posicion||"N/A"}),p.jsx("button",{onClick:()=>Y&&Q(L,Y),className:"icon-btn edit",title:"Editar Vehculo",children:p.jsx(u9,{size:16})}),p.jsx("button",{onClick:()=>P(L),className:"icon-btn danger",title:"Eliminar",children:p.jsx(Bd,{size:16})})]})]})},L))})]})]}),p.jsx("div",{className:"form-footer-actions",children:p.jsx("button",{className:"save-all-btn",onClick:J,children:"Guardar Todos los Cambios"})}),p.jsx("style",{children:`
                .form-footer-actions {
                    margin-top: 3rem;
                    display: flex;
                    justify-content: center;
                    padding-bottom: 2rem;
                }
                label {
                    color: var(--admin-text-muted);
                    font-size: 0.85rem;
                    font-weight: 600;
                    margin-bottom: 0.5rem;
                    display: block;
                }
                .save-all-btn {
                    background: var(--admin-accent);
                    color: #fff;
                    border: none;
                    padding: 1.25rem 4rem;
                    border-radius: 1.25rem;
                    font-weight: 800;
                    font-size: 1.1rem;
                    cursor: pointer;
                    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                    box-shadow: 0 15px 30px -10px rgba(59, 130, 246, 0.5);
                }
                .save-all-btn:hover {
                    transform: translateY(-5px) scale(1.02);
                    box-shadow: 0 20px 40px -12px rgba(59, 130, 246, 0.6);
                }
                .save-all-btn:active {
                    transform: translateY(0) scale(0.98);
                }
                .section-title {
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                    margin-bottom: 0.75rem;
                    color: var(--admin-text);
                    font-size: 1rem;
                    font-weight: 800;
                    letter-spacing: -0.02em;
                }
                .highlight { border-color: var(--admin-accent); background: rgba(59, 130, 246, 0.05); }
                
                .image-edit-section {
                    display: flex;
                    gap: 1.25rem;
                    margin-bottom: 1.5rem;
                    background: var(--admin-glass);
                    padding: 1rem;
                    border-radius: 1rem;
                    border: 1px solid var(--admin-border);
                }
                .image-preview-container {
                    width: 120px;
                    height: 120px;
                    background: #000;
                    border-radius: 1rem;
                    overflow: hidden;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 1px solid var(--admin-border);
                }
                .admin-img-preview { width: 100%; height: 100%; object-fit: contain; }
                .no-image-placeholder { display: flex; flex-direction: column; align-items: center; color: var(--admin-text-muted); font-size: 0.7rem; gap: 0.5rem; }
                
                .image-input-stack { flex: 1; display: flex; flex-direction: column; justify-content: center; }
                
                .extra-info-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 1rem;
                    margin-top: 1rem;
                }

                .form-group-stack label {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    margin-bottom: 0.5rem;
                    color: var(--admin-text-muted);
                    font-size: 0.85rem;
                    font-weight: 600;
                }
                .input-group { margin-bottom: 1rem; }

                .new-app-box {
                    background: var(--admin-glass);
                    padding: 0.75rem;
                    border-radius: 0.75rem;
                    display: flex;
                    flex-direction: column;
                    gap: 0.5rem;
                    margin-bottom: 1rem;
                    border: 1px solid var(--admin-border);
                }
                .pos-selector {
                    display: grid;
                    grid-template-columns: 1fr 1fr 1fr;
                    gap: 0.5rem;
                }
                .pos-btn {
                    padding: 0.5rem;
                    border-radius: 0.5rem;
                    border: 1px solid var(--admin-border);
                    background: transparent;
                    color: var(--admin-text);
                    cursor: pointer;
                    font-size: 0.7rem;
                    font-weight: 700;
                    transition: all 0.2s;
                }
                .pos-btn.active.del { background: rgba(59, 130, 246, 0.2); border-color: #3b82f6; color: #3b82f6; }
                .pos-btn.active.tras { background: rgba(239, 68, 68, 0.2); border-color: #ef4444; color: #ef4444; }
                .pos-btn.active.ambas-btn { background: var(--accent-primary); color: #fff; border: none; }
                
                .add-app-btn {
                    background: var(--admin-text);
                    color: var(--admin-card-bg);
                    border: none;
                    padding: 0.75rem;
                    border-radius: 0.75rem;
                    font-weight: 700;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 0.5rem;
                    cursor: pointer;
                    transition: all 0.2s;
                }
                .add-app-btn:hover {
                    opacity: 0.9;
                    transform: translateY(-1px);
                }
                .apps-list-container {
                    max-height: 400px;
                    overflow-y: auto;
                    padding-right: 0.5rem;
                }
                
                .app-item-card {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 0.75rem 1rem;
                    background: var(--admin-glass);
                    border: 1px solid var(--admin-border);
                    border-radius: 0.75rem;
                    margin-bottom: 0.35rem;
                    transition: all 0.2s;
                }
                .app-item-card:hover { border-color: var(--admin-accent); }
                .app-item-card.editing {
                    background: var(--admin-glass-hover);
                    border-color: var(--admin-accent);
                }

                .app-edit-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr 0.6fr 0.6fr auto;
                    gap: 0.5rem;
                    width: 100%;
                    align-items: center;
                }
                
                .admin-input.small {
                    padding: 0.5rem;
                    font-size: 0.85rem;
                    background: var(--admin-glass);
                }

                .edit-app-actions {
                    display: flex;
                    gap: 0.25rem;
                }

                @media (max-width: 768px) {
                    .image-edit-section {
                        flex-direction: column;
                        align-items: center;
                    }
                    .image-input-stack {
                        width: 100%;
                    }
                    .extra-info-grid {
                        grid-template-columns: 1fr;
                    }
                    .app-edit-grid {
                        grid-template-columns: 1fr;
                    }
                    .save-all-btn {
                        width: 100%;
                        padding: 1rem 2rem;
                    }
                    .pos-selector {
                        grid-template-columns: 1fr;
                    }
                }

                .icon-btn {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    width: 32px;
                    height: 32px;
                    border-radius: 8px;
                    border: none;
                    cursor: pointer;
                    transition: all 0.2s;
                    background: var(--admin-glass);
                    color: var(--admin-text);
                }
                .icon-btn:hover { background: rgba(255, 255, 255, 0.15); transform: scale(1.05); }
                .icon-btn.edit { color: #60a5fa; }
                .icon-btn.danger { color: #ef4444; }
                .icon-btn.success { background: #10b981; color: #fff; }
                .icon-btn.success:hover { background: #059669; }

                .pos-badge {
                    padding: 0.25rem 0.5rem;
                    border-radius: 0.25rem;
                    font-size: 0.65rem;
                    font-weight: 700;
                    text-transform: uppercase;
                }
                .pos-badge.delantera { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
                .pos-badge.trasera { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
                .pos-badge.ambas { background: var(--accent-primary); color: #fff; border: none; }

                /* Autocomplete Overrides */
                .admin-autocomplete .searchable-select-input {
                    background: var(--admin-glass);
                    border: 1px solid var(--admin-border);
                    color: var(--admin-text);
                    height: 42px; /* Match standard admin input */
                }
                .admin-autocomplete.small .searchable-select-input {
                    height: 32px;
                    padding: 0 1.5rem 0 0.5rem;
                    font-size: 0.85rem;
                }
                .admin-autocomplete .searchable-select-dropdown {
                    background: var(--admin-card-bg);
                    border: 1px solid var(--admin-border);
                    z-index: 1000;
                }
                .admin-autocomplete .searchable-select-option {
                    color: var(--admin-text);
                }
                .admin-autocomplete .searchable-select-option:hover {
                    background: var(--admin-accent);
                    color: white;
                }
`})]})},r8=({onLoginSuccess:i})=>{const[e,t]=ae.useState(""),[s,o]=ae.useState(""),[c,u]=ae.useState(!1),[m,g]=ae.useState(""),[y,E]=ae.useState(!1),A=async w=>{w.preventDefault(),E(!0),g("");try{await l6(Ph,e,s),i()}catch(N){console.error("Login error:",N),g("Credenciales incorrectas o error de conexin.")}finally{E(!1)}};return p.jsx("div",{className:"login-overlay",children:p.jsxs("div",{className:"login-card",children:[p.jsxs("div",{className:"login-header",children:[p.jsxs("h2",{className:"admin-logo-title",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:0,color:"#fff",fontSize:"2rem",fontWeight:800},children:[p.jsx("span",{children:"Brake"}),p.jsx("svg",{className:"header-x",style:{height:"0.6em",marginLeft:"0.3em",marginRight:"0",filter:"drop-shadow(0 0 10px rgba(59, 130, 246, 0.5))"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 24",children:p.jsx("path",{fill:"#3b82f6",d:"M8.98885921,23.8523026 C8.8942483,23.9435442 8.76801031,24 8.62933774,24 L2.03198365,24 C1.73814918,24 1.5,23.7482301 1.5,23.4380086 C1.5,23.2831829 1.55946972,23.1428989 1.65570253,23.0416777 L13.2166154,12.4291351 C13.3325814,12.3262031 13.4061076,12.1719477 13.4061076,11.999444 C13.4061076,11.8363496 13.3401502,11.6897927 13.2352673,11.587431 L1.68841087,0.990000249 C1.57298556,0.88706828 1.5,0.733668282 1.5,0.561734827 C1.5,0.251798399 1.73814918,0.000028513 2.03198365,0.000028513 L8.62933774,0.000028513 C8.76855094,0.000028513 8.89532956,0.0561991444 8.98994048,0.148296169 L21.4358709,11.5757407 C21.548593,11.6783875 21.6196864,11.8297916 21.6196864,11.999444 C21.6196864,12.1693815 21.5483227,12.3219261 21.4350599,12.4251432 L8.98885921,23.8523026 Z M26.5774333,23.8384453 L20.1765996,17.9616286 C20.060093,17.8578413 19.9865669,17.7038710 19.9865669,17.5310822 C19.9865669,17.3859509 20.0390083,17.2536506 20.1246988,17.153855 L23.4190508,14.1291948 C23.5163648,14.0165684 23.6569296,13.945571 23.8131728,13.945571 C23.9602252,13.945571 24.0929508,14.0082997 24.1894539,14.1092357 L33.861933,22.9913237 C33.9892522,23.0939706 34.0714286,23.2559245 34.0714286,23.4381226 C34.0714286,23.748059 33.8332794,23.9998289 33.5394449,23.9998289 L26.9504707,23.9998289 C26.8053105,23.9998289 26.6733958,23.9382408 26.5774333,23.8384453 Z M26.5774333,0.161098511 C26.6733958,0.0615881034 26.8053105,0 26.9504707,0 L33.5394449,0 C33.8332794,0 34.0714286,0.251769886 34.0714286,0.561706314 C34.0714286,0.743904453 33.9892522,0.905573224 33.861933,1.00822006 L24.1894539,9.89030807 C24.0929508,9.99152926 23.9602252,10.0542579 23.8131728,10.0542579 C23.6569296,10.0542579 23.5163648,9.98354562 23.4190508,9.87063409 L20.1246988,6.8459739 C20.0390083,6.74617837 19.9865669,6.613878 19.9865669,6.46874677 Q20.060093,6.14198767 20.1765996,6.03848544 L26.5774333,0.161098511 Z"})}),p.jsx("span",{style:{marginLeft:0},children:"pert"}),p.jsx("span",{style:{marginLeft:"10px",color:"#9ca3af",fontWeight:400},children:"Admin"})]}),p.jsx("p",{children:"Inicia sesin para gestionar el catlogo"})]}),p.jsxs("form",{onSubmit:A,className:"login-form",children:[p.jsxs("div",{className:"input-group",children:[p.jsx(J5,{size:18,className:"input-icon"}),p.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:w=>t(w.target.value),required:!0})]}),p.jsxs("div",{className:"input-group",children:[p.jsx(Q5,{size:18,className:"input-icon"}),p.jsx("input",{type:c?"text":"password",placeholder:"Contrasea",value:s,onChange:w=>o(w.target.value),required:!0}),p.jsx("button",{type:"button",className:"toggle-password",onClick:()=>u(!c),"aria-label":c?"Ocultar contrasea":"Mostrar contrasea",children:c?p.jsx(x5,{size:18}):p.jsx(R5,{size:18})})]}),m&&p.jsxs("div",{className:"error-msg",children:[p.jsx(fy,{size:16})," ",m]}),p.jsx("button",{type:"submit",className:"login-submit",disabled:y,children:y?"Verificando...":p.jsxs(p.Fragment,{children:[p.jsx(Y5,{size:18})," Entrar al Panel"]})})]})]})})};class s8 extends Bt.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Form Error Caught Deep:",e,t)}render(){return this.state.hasError?this.props.fallback(this.state.error):this.props.children}}const a8=()=>{const[i,e]=ae.useState(Ph.currentUser),[t,s]=ae.useState("catalog"),[o,c]=ae.useState(void 0),[u,m]=ae.useState(""),[g,y]=ae.useState([]),[E,A]=ae.useState([]),[w,N]=ae.useState(!1),[j,P]=ae.useState(!1),[Q,se]=ae.useState(!1),[G,ee]=ae.useState(null),[J,Y]=ae.useState(!1),[L,T]=ae.useState(!1),x=(R,B="success")=>{ee({message:R,type:B}),setTimeout(()=>ee(null),3e3)};ae.useEffect(()=>{const R=h6(Ph,B=>{e(B)});return()=>R()},[]),ae.useEffect(()=>{t==="reports"&&(P(!0),kI().then(R=>{A(R),P(!1)}))},[t]);const I=async R=>{if(confirm("Marcar este reporte como resuelto y eliminarlo?"))try{await jI(R),A(B=>B.filter(oe=>oe.id!==R)),x("Reporte resuelto y eliminado","success")}catch(B){console.error(B),x("Error al eliminar reporte","error")}};ae.useEffect(()=>{t==="history"&&(N(!0),DI(100).then(R=>{y(R),N(!1)}))},[t]);const V=Bt.useCallback(async()=>{await d6(Ph),window.location.hash="#search"},[]);ae.useEffect(()=>{let B;const oe=()=>{B&&clearTimeout(B),B=setTimeout(()=>{V(),alert("Sesin cerrada por inactividad (20 min).")},12e5)},le=["mousedown","mousemove","keypress","scroll","touchstart","click"];oe();const pe=()=>oe();return le.forEach(be=>{window.addEventListener(be,pe)}),()=>{B&&clearTimeout(B),le.forEach(be=>{window.removeEventListener(be,pe)})}},[V]);const k=de(R=>R.products);if(!i)return p.jsx(r8,{onLoginSuccess:()=>s("catalog")});const z=k.filter(R=>{const B=R.referencia?.toLowerCase().includes(u.toLowerCase()),oe=Array.isArray(R.ref)&&R.ref.some(le=>String(le).toLowerCase().includes(u.toLowerCase()));return B||oe}).slice(0,20),D=R=>{console.log("Starting edit for product:",R.id),c(R),s("edit")},ke=()=>{c(void 0),s("new")},Ye=()=>{s("catalog"),c(void 0)},W=()=>{o?.id&&T(!0)},ue=async()=>{if(o?.id){se(!0),T(!1);try{await II(o.id),await pp({productId:o.id,productRef:o.referencia||o.ref?.[0]||"N/A",action:"DELETE",changes:[],user:i?.email||"unknown"}),x("Producto eliminado con xito","success"),Ye()}catch(R){console.error("Error deleting:",R),x("Error al eliminar: "+(R instanceof Error?R.message:"Error desconocido"),"error")}finally{se(!1)}}},ve=async R=>{se(!0);try{if(t==="edit"&&o?.id){const B=[];Object.keys(R).forEach(oe=>{const le=oe;JSON.stringify(o[le])!==JSON.stringify(R[le])&&B.push({field:le,old:o[le],new:R[le]})}),await RI(o.id,R),await pp({productId:o.id,productRef:R.ref?.[0]||R.referencia||o.referencia,action:"UPDATE",changes:B,user:i?.email||"unknown"}),x("Producto actualizado con xito!")}else{const B=await NI(R);await pp({productId:B,productRef:R.ref?.[0]||R.referencia||"N/A",action:"CREATE",changes:[],user:i?.email||"unknown"}),x("Nuevo producto agregado con xito!")}setTimeout(Ye,800)}catch(B){console.error("Error saving:",B),x("Error: "+(B instanceof Error?B.message:"Error desconocido"),"error")}finally{se(!1)}},xe=()=>{const R=JSON.stringify(k,null,2),B="data:application/json;charset=utf-8,"+encodeURIComponent(R),oe=`brakehubx_db_backup_${new Date().toISOString().split("T")[0]}.json`,le=document.createElement("a");le.setAttribute("href",B),le.setAttribute("download",oe),le.click(),x("Base de datos exportada con xito")},Le=k.reduce((R,B)=>R+(B.aplicaciones?.length||0),0);return p.jsxs("div",{className:"admin-layout",children:[J&&p.jsx("div",{className:"sidebar-overlay",onClick:()=>Y(!1)}),G&&p.jsxs("div",{className:`toast-notification ${G.type}`,children:[G.type==="success"?p.jsx(m5,{size:18}):p.jsx(y5,{size:18}),G.message]}),p.jsxs("aside",{className:`admin-sidebar ${J?"mobile-open":""}`,children:[p.jsx("div",{className:"admin-brand",children:p.jsxs("h2",{className:"admin-logo-title",style:{display:"flex",alignItems:"center",gap:0,color:"var(--admin-text)",fontSize:"1.4rem",fontWeight:800},children:[p.jsx("span",{children:"Brake"}),p.jsx("svg",{className:"header-x",style:{height:"0.6em",marginLeft:"0.3em",marginRight:"0",filter:"drop-shadow(0 0 10px rgba(59, 130, 246, 0.5))"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 24",children:p.jsx("path",{fill:"#3b82f6",d:"M8.98885921,23.8523026 C8.8942483,23.9435442 8.76801031,24 8.62933774,24 L2.03198365,24 C1.73814918,24 1.5,23.7482301 1.5,23.4380086 C1.5,23.2831829 1.55946972,23.1428989 1.65570253,23.0416777 L13.2166154,12.4291351 C13.3325814,12.3262031 13.4061076,12.1719477 13.4061076,11.999444 C13.4061076,11.8363496 13.3401502,11.6897927 13.2352673,11.587431 L1.68841087,0.990000249 C1.57298556,0.88706828 1.5,0.733668282 1.5,0.561734827 C1.5,0.251798399 1.73814918,0.000028513 2.03198365,0.000028513 L8.62933774,0.000028513 C8.76855094,0.000028513 8.89532956,0.0561991444 8.98994048,0.148296169 L21.4358709,11.5757407 C21.548593,11.6783875 21.6196864,11.8297916 21.6196864,11.999444 C21.6196864,12.1693815 21.5483227,12.3219261 21.4350599,12.4251432 L8.98885921,23.8523026 Z M26.5774333,23.8384453 L20.1765996,17.9616286 C20.060093,17.8578413 19.9865669,17.7038710 19.9865669,17.5310822 C19.9865669,17.3859509 20.0390083,17.2536506 20.1246988,17.153855 L23.4190508,14.1291948 C23.5163648,14.0165684 23.6569296,13.945571 23.8131728,13.945571 C23.9602252,13.945571 24.0929508,14.0082997 24.1894539,14.1092357 L33.861933,22.9913237 C33.9892522,23.0939706 34.0714286,23.2559245 34.0714286,23.4381226 C34.0714286,23.748059 33.8332794,23.9998289 33.5394449,23.9998289 L26.9504707,23.9998289 C26.8053105,23.9998289 26.6733958,23.9382408 26.5774333,23.8384453 Z M26.5774333,0.161098511 C26.6733958,0.0615881034 26.8053105,0 26.9504707,0 L33.5394449,0 C33.8332794,0 34.0714286,0.251769886 34.0714286,0.561706314 C34.0714286,0.743904453 33.9892522,0.905573224 33.861933,1.00822006 L24.1894539,9.89030807 C24.0929508,9.99152926 23.9602252,10.0542579 23.8131728,10.0542579 C23.6569296,10.0542579 23.5163648,9.98354562 23.4190508,9.87063409 L20.1246988,6.8459739 C20.0390083,6.74617837 19.9865669,6.613878 19.9865669,6.46874677 Q20.060093,6.14198767 20.1765996,6.03848544 L26.5774333,0.161098511 Z"})}),p.jsx("span",{style:{marginLeft:0},children:"pert"}),p.jsx("span",{style:{marginLeft:"10px",color:"var(--admin-text-muted)",fontWeight:400,fontSize:"1rem"},children:"Admin"})]})}),p.jsxs("nav",{className:"admin-nav-container",children:[p.jsxs("button",{onClick:()=>{s("catalog"),Y(!1)},className:`admin-nav-item ${t==="catalog"?"active-primary":""}`,children:[p.jsx(rg,{size:20})," Catlogo"]}),p.jsxs("button",{onClick:()=>{ke(),Y(!1)},className:`admin-nav-item secondary ${t==="new"?"active":""}`,children:[p.jsx(JT,{size:20})," Nueva Pastilla"]}),p.jsx("div",{className:"nav-divider"}),p.jsxs("button",{onClick:()=>{s("reports"),Y(!1)},className:`admin-nav-item ${t==="reports"?"active":""}`,style:{color:t==="reports"?"var(--color-warning)":""},children:[p.jsx(VE,{size:20})," Reportes"]}),p.jsxs("button",{onClick:()=>{s("audit"),Y(!1)},className:`admin-nav-item ${t==="audit"?"active":""}`,children:[p.jsx(ua,{size:20})," Auditora"]}),p.jsxs("button",{onClick:()=>{s("history"),Y(!1)},className:`admin-nav-item ${t==="history"?"active":""}`,children:[p.jsx(fd,{size:20})," Historial"]}),p.jsxs("button",{onClick:()=>{s("database"),Y(!1)},className:`admin-nav-item ${t==="database"?"active":""}`,children:[p.jsx(T9,{size:20})," Base de Datos"]})]}),p.jsx("div",{className:"admin-logout-wrapper",children:p.jsxs("button",{className:"admin-logout-btn",onClick:V,children:[p.jsx(W5,{size:18})," Cerrar Sesin"]})})]}),p.jsxs("main",{className:"admin-main",children:[p.jsxs("header",{className:"admin-header",children:[p.jsxs("div",{className:"admin-section-title-wrapper",children:[p.jsx("button",{className:"menu-toggle",onClick:()=>Y(!0),children:p.jsx(i9,{size:24})}),p.jsxs("div",{children:[t==="edit"&&p.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[p.jsxs("button",{onClick:Ye,className:"back-btn",children:[p.jsx(YT,{size:16})," Volver al catlogo"]}),p.jsxs("button",{onClick:W,className:"edit-action-btn",style:{background:"rgba(239, 68, 68, 0.1)",borderColor:"var(--admin-danger)",color:"var(--admin-danger)"},children:[p.jsx(ua,{size:16})," Eliminar"]})]}),p.jsx("h1",{className:"admin-title",style:{marginTop:t==="edit"?"0.5rem":0},children:t==="catalog"?"Panel de Control":t==="new"?"Nueva Referencia":t==="edit"?"Editando Referencia":t==="audit"?"Panel de Auditora":t==="history"?"Historial de Cambios":t==="reports"?"Reportes de Errores":"Gestin de Base de Datos"})]})]}),p.jsx(e2,{})]}),t==="catalog"&&p.jsxs("div",{className:"admin-card",children:[p.jsxs("div",{className:"admin-section-header",children:[p.jsx("h3",{className:"admin-section-title-text",children:"Listado de Productos"}),p.jsxs("div",{className:"admin-search-wrapper",children:[p.jsx(Ud,{className:"admin-search-icon",size:18}),p.jsx("input",{className:"admin-input",style:{paddingLeft:"40px"},placeholder:"Buscar por referencia...",value:u,onChange:R=>m(R.target.value)})]})]}),p.jsx("div",{className:"admin-table-container",children:p.jsxs("table",{className:"admin-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Referencia"}),p.jsx("th",{children:"Aplicaciones"}),p.jsx("th",{style:{textAlign:"right"},children:"Acciones"})]})}),p.jsx("tbody",{children:z.map(R=>p.jsxs("tr",{children:[p.jsx("td",{"data-label":"Referencia",children:p.jsx("strong",{children:R.referencia||R.ref[0]})}),p.jsxs("td",{"data-label":"Aplicaciones",children:[R.aplicaciones.length," vehculos"]}),p.jsx("td",{"data-label":"Acciones",style:{textAlign:"right"},children:p.jsxs("button",{onClick:()=>D(R),className:"edit-action-btn",children:[p.jsx(gp,{size:16})," Editar"]})})]},R.id))})]})})]}),t==="audit"&&p.jsxs("div",{className:"admin-card",children:[p.jsxs("h3",{className:"admin-section-title-with-icon",children:[p.jsx(ua,{color:"var(--admin-danger)"})," Referencias con Datos Inconsistentes"]}),p.jsx("p",{className:"admin-section-description",children:"Estas referencias tienen marcada una posicin global que no coincide con sus aplicaciones."}),p.jsx("div",{className:"admin-table-container",children:p.jsxs("table",{className:"admin-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Referencia"}),p.jsx("th",{children:"Problema Detectado"}),p.jsx("th",{style:{textAlign:"right"},children:"Corregir"})]})}),p.jsx("tbody",{children:k.filter(R=>{if(!R.posicion)return!1;const B=R.posicion.toUpperCase();return B==="AMBAS"?!1:R.aplicaciones.some(oe=>{const le=oe.posicion?.toUpperCase();return le?B==="DELANTERA"&&le==="TRASERA"||B==="TRASERA"&&le==="DELANTERA":!1})}).map(R=>p.jsxs("tr",{children:[p.jsx("td",{"data-label":"Referencia",children:p.jsx("strong",{children:R.referencia||R.ref[0]})}),p.jsx("td",{"data-label":"Problema",style:{color:"var(--admin-danger)"},children:R.posicion==="DELANTERA"?"Tiene apps TRASERAS":"Tiene apps DELANTERAS"}),p.jsx("td",{"data-label":"Accin",style:{textAlign:"right"},children:p.jsxs("button",{onClick:()=>D(R),className:"edit-action-btn",style:{borderColor:"var(--admin-danger)",color:"var(--admin-text)"},children:[p.jsx(gp,{size:16})," Corregir"]})})]},R.id))})]})})]}),t==="reports"&&p.jsxs("div",{className:"admin-card",children:[p.jsxs("h3",{className:"admin-section-title-with-icon",children:[p.jsx(VE,{color:"var(--color-warning)"})," Reportes de Usuarios"]}),p.jsx("div",{className:"admin-table-container",children:p.jsxs("table",{className:"admin-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Fecha"}),p.jsx("th",{children:"Referencia"}),p.jsx("th",{children:"Descripcin"}),p.jsx("th",{style:{textAlign:"right"},children:"Acciones"})]})}),p.jsx("tbody",{children:j?p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"text-center p-8",children:"Cargando reportes..."})}):E.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"text-center p-8 text-muted",children:"No hay reportes pendientes."})}):E.map(R=>p.jsxs("tr",{children:[p.jsx("td",{"data-label":"Fecha",className:"fs-small text-muted",children:new Date(R.timestamp).toLocaleDateString()}),p.jsx("td",{"data-label":"Referencia",children:p.jsx("strong",{children:R.productReference})}),p.jsx("td",{"data-label":"Descripcin",children:R.description}),p.jsxs("td",{"data-label":"Acciones",style:{textAlign:"right"},children:[p.jsxs("button",{onClick:()=>I(R.id),className:"edit-action-btn",style:{borderColor:"var(--color-success)",color:"var(--color-success)"},title:"Marcar como resuelto",children:[p.jsx(Ta,{size:16})," Resolver"]}),p.jsxs("button",{onClick:()=>{const B=k.find(oe=>oe.referencia===R.productReference||oe.ref?.includes(R.productReference));B?D(B):alert("Producto no encontrado en catlogo actual")},className:"edit-action-btn",style:{marginLeft:"0.5rem"},children:[p.jsx(gp,{size:16})," Editar"]})]})]},R.id))})]})})]}),t==="history"&&p.jsxs("div",{className:"admin-card",children:[p.jsxs("h3",{className:"admin-section-title-with-icon",children:[p.jsx(I5,{color:"var(--admin-accent)"})," Historial de Cambios"]}),p.jsx("div",{className:"admin-table-container",children:p.jsxs("table",{className:"admin-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Fecha"}),p.jsx("th",{children:"Usuario"}),p.jsx("th",{children:"Accin"}),p.jsx("th",{children:"Producto"}),p.jsx("th",{children:"Detalles"})]})}),p.jsx("tbody",{children:w?p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"text-center p-8",children:"Cargando historial..."})}):g.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"text-center p-8 text-muted",children:"No hay cambios registrados an."})}):g.map(R=>p.jsxs("tr",{children:[p.jsx("td",{"data-label":"Fecha",className:"fs-small text-muted",children:new Date(R.timestamp).toLocaleString()}),p.jsx("td",{"data-label":"Usuario",children:R.user}),p.jsx("td",{"data-label":"Accin",children:p.jsx("span",{className:`log-action-badge ${R.action==="CREATE"?"success":"edit"}`,style:{background:R.action==="CREATE"?"rgba(16, 185, 129, 0.2)":"rgba(59, 130, 246, 0.2)",color:R.action==="CREATE"?"#34d399":"#60a5fa"},children:R.action==="CREATE"?"CREACIN":"EDICIN"})}),p.jsx("td",{"data-label":"Producto",children:p.jsx("strong",{children:R.productRef||"Sin Ref"})}),p.jsx("td",{"data-label":"Detalles",className:"history-details",children:R.changes?.length?p.jsxs("ul",{className:"history-changes-list",children:[R.changes.map((B,oe)=>{const le=pe=>typeof pe=="object"&&pe!==null?"ancho"in pe&&"alto"in pe?`${pe.ancho} x ${pe.alto}`:JSON.stringify(pe):String(pe);return p.jsxs("li",{children:[p.jsxs("span",{className:"font-semibold text-muted",children:[B.field,":"]})," ",le(B.old).substring(0,30),"  ",p.jsx("span",{className:"admin-text-highlight",children:le(B.new).substring(0,30)})]},oe)}).slice(0,3),R.changes.length>3&&p.jsx("li",{children:"..."})]}):p.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"Sin cambios detectados"})})]},R.id))})]})})]}),t==="database"&&p.jsxs("div",{className:"admin-card",children:[p.jsxs("div",{className:"admin-section-title-wrapper-large",children:[p.jsx("div",{className:"status-indicator success"}),p.jsx("h3",{className:"admin-section-title-text-large",children:"Estado del Sistema"})]}),p.jsxs("div",{className:"stats-grid",children:[p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:p.jsx(rg,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("span",{className:"stat-label",children:"Total Referencias"}),p.jsx("span",{className:"stat-value",children:k.length})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:p.jsx(qI,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("span",{className:"stat-label",children:"Total Aplicaciones"}),p.jsx("span",{className:"stat-value",children:Le})]})]}),p.jsxs("div",{className:"stat-card",children:[p.jsx("div",{className:"stat-icon",style:{background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b"},children:p.jsx(b5,{size:24})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("span",{className:"stat-label",children:"Servidor Firebase"}),p.jsx("span",{className:"stat-value",style:{fontSize:"1rem",color:"#10b981"},children:"Conectado"})]})]})]}),p.jsxs("div",{className:"db-backup-card",children:[p.jsx(ig,{size:48,className:"db-backup-icon"}),p.jsx("h4",{className:"db-backup-title",children:"Respaldar Informacin"}),p.jsx("p",{className:"db-backup-description",children:"Descarga una copia de seguridad completa de todos los productos y aplicaciones en formato JSON."}),p.jsxs("button",{onClick:xe,className:"save-all-btn db-backup-btn",children:[p.jsx(S5,{size:20})," Descargar JSON"]})]})]}),(t==="new"||t==="edit")&&p.jsx("div",{style:{opacity:Q?.7:1,pointerEvents:Q?"none":"auto"},children:p.jsx(s8,{fallback:R=>p.jsxs("div",{className:"admin-card",style:{textAlign:"center",padding:"3rem"},children:[p.jsx(ua,{size:48,color:"var(--admin-danger)",style:{marginBottom:"1rem"}}),p.jsx("h2",{style:{color:"var(--admin-text)"},children:"Error al cargar el formulario"}),p.jsx("p",{style:{color:"var(--admin-text-muted)",marginBottom:"1rem"},children:R?.message||"Esta referencia podra tener datos corruptos o incompatibles."}),p.jsx("pre",{style:{color:"#64748b",fontSize:"0.7rem",background:"#000",padding:"1rem",borderRadius:"0.5rem",overflow:"auto",maxWidth:"100%",marginBottom:"2rem"},children:R?.stack}),p.jsx("button",{onClick:Ye,className:"save-all-btn",style:{padding:"1rem 2rem"},children:"Volver al catlogo"})]}),children:p.jsx(i8,{initialData:o,onSave:ve})})})]}),p.jsx(Kd,{isOpen:L,onClose:()=>T(!1),title:"Confirmar Eliminacin",size:"small",children:p.jsxs("div",{style:{textAlign:"center",padding:"1rem"},children:[p.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"rgba(239, 68, 68, 0.1)",color:"var(--admin-danger)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem auto"},children:p.jsx(ua,{size:32})}),p.jsxs("p",{style:{marginBottom:"2rem",color:"var(--admin-text-muted)",fontSize:"1.1rem"},children:["Ests seguro de que deseas eliminar este producto permanentemente? ",p.jsx("br",{}),p.jsx("strong",{style:{color:"var(--admin-text)",marginTop:"0.5rem",display:"block"},children:o?.referencia||"Referencia desconocida"})]}),p.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[p.jsx("button",{onClick:()=>T(!1),style:{padding:"0.8rem 1.5rem",borderRadius:"0.8rem",border:"1px solid var(--admin-border)",background:"transparent",color:"var(--admin-text)",cursor:"pointer",fontWeight:600},children:"Cancelar"}),p.jsx("button",{onClick:ue,style:{padding:"0.8rem 1.5rem",borderRadius:"0.8rem",border:"none",background:"var(--admin-danger)",color:"white",cursor:"pointer",fontWeight:600,boxShadow:"0 4px 6px -1px rgba(239, 68, 68, 0.3)"},children:"Eliminar"})]})]})})]})},o8=()=>{const i=de(m=>m.comparisons),e=de(m=>m.products),t=de(m=>m.toggleComparison),s=e.filter(m=>i.includes(m.id)),o=()=>{window.history.length>1?window.history.back():window.location.hash="#search"},c=m=>{if(!m)return"";const g=m.toUpperCase();return g.endsWith("BP")?"ref-badge-gray":g.startsWith("K")?"ref-badge-red":g.endsWith("BEX")?"ref-badge-lightblue":g.startsWith("SP")?"ref-badge-mint":""},u=m=>{if(s.length<2)return!1;const g=m(s[0]);return s.slice(1).some(y=>m(y)!==g)};return p.jsxs("div",{className:"compare-page-container",children:[p.jsxs("div",{className:"compare-header",children:[p.jsxs("button",{onClick:o,className:"compare-back-btn",children:[p.jsx(YT,{size:16})," Volver"]}),p.jsx("h1",{className:"compare-title",children:"Comparativa"})]}),s.length===0?p.jsxs("div",{className:"grid-empty",children:[p.jsx(fy,{size:48,style:{color:"var(--text-tertiary)",marginBottom:"1rem"}}),p.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"0.5rem"},children:"Sin productos"}),p.jsx("p",{style:{color:"var(--text-secondary)"},children:"Selecciona productos para comparar."})]}):p.jsx("div",{className:"compare-table-container",children:p.jsx("table",{className:"compare-table",children:p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{className:"compare-feature-header",children:"Producto"}),s.map(m=>p.jsxs("td",{className:"compare-product-col",children:[p.jsx("div",{className:"compare-image-container",children:m.imagenes&&m.imagenes.length>0?p.jsx("img",{src:m.imagenes[0],alt:m.referencia,className:"compare-image"}):p.jsx("div",{className:"no-image-placeholder",style:{height:"100%",minHeight:"100px"},children:p.jsx("span",{children:"Sin Imagen"})})}),p.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:"0.25rem",marginBottom:"0.5rem"},children:(m.ref||[m.referencia]).flatMap(g=>g.split(" ")).filter(Boolean).map((g,y)=>p.jsx("span",{className:`ref-badge ${c(g)}`,style:{fontSize:"0.75rem",padding:"0.2rem 0.5rem"},children:g},`${m.id}-ref-${y}`))}),p.jsx("span",{className:"compare-manufacturer",children:m.fabricante}),p.jsx("button",{onClick:()=>t(m.id),className:"compare-remove-text-btn",children:"Quitar"})]},m.id))]}),p.jsxs("tr",{className:u(m=>m.posicion||"")?"compare-row-diff":"",children:[p.jsx("td",{className:"compare-feature-header",children:"Posicin"}),s.map(m=>{const g=(m.posicion||"").toLowerCase(),y=g==="delantera"?"pos-text-delantera":g==="trasera"?"pos-text-trasera":"pos-text-ambas";return p.jsx("td",{className:"compare-product-col",children:p.jsx("span",{className:`pos-text ${y}`,children:m.posicion||"-"})},m.id)})]}),p.jsxs("tr",{className:u(m=>`${m.medidas.ancho}x${m.medidas.alto}`)?"compare-row-diff":"",children:[p.jsx("td",{className:"compare-feature-header",children:"Medidas"}),s.map(m=>p.jsxs("td",{className:"compare-product-col",children:[p.jsxs("div",{className:"data-value",children:[m.medidas.ancho," x ",m.medidas.alto," mm"]}),p.jsx("div",{className:"data-sub",children:"Ancho x Alto"})]},m.id))]}),p.jsxs("tr",{className:u(m=>m.fmsi.concat(m.oem).sort().join(","))?"compare-row-diff":"",children:[p.jsx("td",{className:"compare-feature-header",children:"Referencias"}),s.map(m=>p.jsx("td",{className:"compare-product-col",children:p.jsx("div",{children:m.fmsi.concat(m.oem).map(g=>p.jsx("span",{className:"ref-badge",children:g},g))})},m.id))]}),p.jsxs("tr",{className:u(m=>m.aplicaciones.length>0?`${m.aplicaciones[0].marca}${m.aplicaciones[0].modelo}`:"")?"compare-row-diff":"",children:[p.jsx("td",{className:"compare-feature-header",children:"Aplicaciones"}),s.map(m=>p.jsx("td",{className:"compare-product-col",children:p.jsx("ul",{className:"simple-list",children:m.aplicaciones.slice(0,5).map((g,y)=>p.jsxs("li",{children:[p.jsx("strong",{children:g.marca})," ",g.modelo," ",g.ao]},y))})},m.id))]})]})})})]})},l8="modulepreload",c8=function(i){return"/BrakeXpert/"+i},nb={},u8=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){let y=function(E){return Promise.all(E.map(A=>Promise.resolve(A).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var u=y;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=m?.nonce||m?.getAttribute("nonce");o=y(t.map(E=>{if(E=c8(E),E in nb)return;nb[E]=!0;const A=E.endsWith(".css"),w=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${w}`))return;const N=document.createElement("link");if(N.rel=A?"stylesheet":l8,A||(N.as="script"),N.crossOrigin="",N.href=E,g&&N.setAttribute("nonce",g),document.head.appendChild(N),A)return new Promise((j,P)=>{N.addEventListener("load",j),N.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${E}`)))})}))}function c(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return o.then(m=>{for(const g of m||[])g.status==="rejected"&&c(g.reason);return e().catch(c)})};function h8(i={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:s,onRegistered:o,onRegisteredSW:c,onRegisterError:u}=i;let m,g,y;const E=async(w=!0)=>{await g,y?.()};async function A(){if("serviceWorker"in navigator){if(m=await u8(async()=>{const{Workbox:w}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:w}},[]).then(({Workbox:w})=>new w("/BrakeXpert/sw.js",{scope:"/BrakeXpert/",type:"classic"})).catch(w=>{u?.(w)}),!m)return;y=()=>{m?.messageSkipWaiting()};{let w=!1;const N=()=>{w=!0,m?.addEventListener("controlling",j=>{j.isUpdate&&window.location.reload()}),t?.()};m.addEventListener("installed",j=>{typeof j.isUpdate>"u"?typeof j.isExternal<"u"&&j.isExternal?N():!w&&s?.():j.isUpdate||s?.()}),m.addEventListener("waiting",N)}m.register({immediate:e}).then(w=>{c?c("/BrakeXpert/sw.js",w):o?.(w)}).catch(w=>{u?.(w)})}}return g=A(),E}function d8(i={}){const{immediate:e=!0,onNeedRefresh:t,onOfflineReady:s,onRegistered:o,onRegisteredSW:c,onRegisterError:u}=i,[m,g]=ae.useState(!1),[y,E]=ae.useState(!1),[A]=ae.useState(()=>h8({immediate:e,onOfflineReady(){E(!0),s?.()},onNeedRefresh(){g(!0),t?.()},onRegistered:o,onRegisteredSW:c,onRegisterError:u}));return{needRefresh:[m,g],offlineReady:[y,E],updateServiceWorker:A}}function f8(){const[i,e]=ae.useState(!1),{offlineReady:[t,s],needRefresh:[o,c],updateServiceWorker:u}=d8({onRegistered(E){E&&setInterval(()=>E.update(),60*1e3)}}),m=de(E=>E.addNotification),g=()=>{s(!1),c(!1)},y=()=>{e(!0),setTimeout(()=>{m({title:"Actualizacin completada",message:"La aplicacin se ha actualizado a la versin ms reciente.",type:"system"}),u(!0)},1500)};return!t&&!o?null:p.jsxs("div",{className:"ReloadPrompt-container",children:[p.jsx("div",{className:"ReloadPrompt-overlay"}),p.jsxs("div",{className:"ReloadPrompt-toast",children:[p.jsx("div",{className:"ReloadPrompt-icon-wrapper",children:t?p.jsx(D9,{size:32}):p.jsx(p9,{size:32,className:"spin-animate"})}),p.jsxs("div",{className:"ReloadPrompt-message",children:[p.jsx("h3",{children:t?"Modo Offline":"Actualizacin Disponible"}),p.jsx("p",{children:t?"La aplicacin est lista para usarse sin conexin a internet.":"Hay una nueva versin disponible. Hemos mejorado la interfaz para una mejor experiencia."})]}),p.jsxs("div",{className:"ReloadPrompt-actions",children:[o&&p.jsx("button",{className:`ReloadPrompt-btn ReloadPrompt-btn-primary ${i?"updating":""}`,onClick:y,disabled:i,children:i?p.jsxs(p.Fragment,{children:["Actualizando... ",p.jsx(G5,{size:20,className:"spin-animate"})]}):p.jsxs(p.Fragment,{children:["Actualizar ahora ",p.jsx(YI,{size:20})]})}),t&&!o&&p.jsx("button",{className:"ReloadPrompt-btn ReloadPrompt-btn-primary",onClick:g,children:"Entendido"})]})]})]})}const ib=()=>{const[i,e]=ae.useState(!1);ae.useEffect(()=>{const s=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[]);const t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return p.jsx(p.Fragment,{children:i&&p.jsxs("button",{onClick:t,className:"scroll-to-top-btn group","aria-label":"Scroll to top",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"scroll-icon-primary",children:p.jsx("path",{d:"m18 15-6-6-6 6"})}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"scroll-icon-secondary",children:p.jsx("path",{d:"m18 15-6-6-6 6"})})]})})},m8=()=>{const i=de(g=>g.toast),e=de(g=>g.hideToast),t=de(g=>g.theme),[s,o]=ae.useState(!1),c=t==="light";if(ae.useEffect(()=>{if(i){o(!0);const g=setTimeout(()=>{o(!1),setTimeout(e,300)},1e4);return()=>clearTimeout(g)}},[i,e]),!i&&!s)return null;const u=()=>{switch(i?.type){case"success":return p.jsx(d5,{size:20,color:"#10b981"});case"error":return p.jsx(fy,{size:20,color:"#ef4444"});case"warning":return p.jsx(ua,{size:20,color:"#f59e0b"});default:return p.jsx(U5,{size:20,color:"#3b82f6"})}},m=()=>{switch(i?.type){case"success":return"#10b981";case"error":return"#ef4444";case"warning":return"#f59e0b";default:return"#3b82f6"}};return p.jsxs("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:9999,backgroundColor:c?"#ffffff":"#1e293b",color:c?"#1e293b":"#ffffff",padding:"24px",borderRadius:"16px",boxShadow:"0 20px 40px -5px rgba(0, 0, 0, 0.4), 0 10px 20px -6px rgba(0, 0, 0, 0.2)",borderLeft:`8px solid ${m()}`,display:"flex",alignItems:"center",gap:"16px",minWidth:"400px",maxWidth:"500px",transform:s?"translateX(0)":"translateX(130%)",opacity:s?1:0,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",pointerEvents:s?"auto":"none",backdropFilter:"none"},children:[p.jsxs("div",{children:[Bt.cloneElement(u(),{size:32})," "]}),p.jsxs("div",{style:{flex:1},children:[i?.title&&p.jsx("h4",{style:{margin:"0 0 6px 0",fontSize:"18px",fontWeight:700,color:c?"#1e293b":"#ffffff"},children:i.title}),p.jsx("p",{style:{margin:0,fontSize:"15px",color:c?"#475569":"#cbd5e1",lineHeight:"1.5"},children:i?.message})]}),p.jsx("div",{style:{marginLeft:"auto"},children:p.jsx(gt,{icon:p.jsx(Zo,{}),onClick:()=>{o(!1),setTimeout(e,300)},tooltip:"Cerrar",activeColor:"#ef4444"})})]})};function p8({isOpen:i,onClose:e,referenceId:t}){const s=de(L=>L.products),[o,c]=ae.useState(!1),[u,m]=ae.useState(!1),[g,y]=ae.useState({tipoError:"medida",descripcion:""}),[E,A]=ae.useState(""),[w,N]=ae.useState(!1),j=ae.useRef(null),[P,Q]=ae.useState(!1),se=ae.useRef(null),G=[{value:"medida",label:"Medidas incorrectas"},{value:"posicion",label:"Posicin incorrecta"},{value:"foto",label:"Fotografa incorrecta"},{value:"aplicacion",label:"Aplicacin incorrecta"},{value:"otro",label:"Otro problema"}];ae.useEffect(()=>{i&&(c(!1),m(!1),y({tipoError:"medida",descripcion:""}),A(t||""),N(!1),Q(!1))},[i,t]),ae.useEffect(()=>{const L=T=>{j.current&&!j.current.contains(T.target)&&N(!1),se.current&&!se.current.contains(T.target)&&Q(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const ee=ae.useMemo(()=>{if(!E||E.length<2)return[];const L=E.toLowerCase(),T=new Set;let x=0;for(const I of s){if(x>=20)break;const V=I.referencia||"";if(V.toLowerCase().includes(L)&&(T.add(V),x++),I.ref&&Array.isArray(I.ref))for(const k of I.ref){if(x>=20)break;k&&k.toLowerCase().includes(L)&&(T.add(k),x++)}}return Array.from(T).sort()},[s,E]),J=async L=>{if(L.preventDefault(),!u){m(!0);try{const T=s.find(x=>x.referencia===E||x.ref&&x.ref.includes(E));await MI({productId:T?.id||"unknown",productReference:E,description:`[${G.find(x=>x.value===g.tipoError)?.label}] ${g.descripcion}`}),c(!0),setTimeout(()=>{e()},2500)}catch(T){console.error("Error sending report:",T),alert("Hubo un error al enviar el reporte.")}finally{m(!1)}}},Y=L=>{A(L),N(!1)};return p.jsx(Kd,{isOpen:i,onClose:e,title:p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[p.jsx(ua,{size:20,className:"text-warning"}),"Reportar Problema"]}),size:"large",allowOverflow:!0,children:p.jsx(g8,{children:o?p.jsxs(S8,{children:[p.jsx(w8,{children:p.jsx(Ta,{size:32})}),p.jsx("h3",{children:"Reporte Enviado!"}),p.jsxs("p",{children:["Gracias por tu colaboracin. Revisaremos la referencia ",p.jsx("strong",{children:E})," lo antes posible."]})]}):p.jsxs(v8,{onSubmit:J,children:[p.jsx(y8,{style:{gridColumn:"span 2"},children:p.jsx("p",{children:"Aydanos a mejorar el catlogo reportando errores en esta referencia."})}),p.jsxs(bp,{ref:j,children:[p.jsx(Ap,{children:"Referencia Afectada"}),p.jsxs(_8,{children:[p.jsx(E8,{children:p.jsx(Ud,{size:16})}),p.jsx(b8,{type:"text",value:E,onChange:L=>{A(L.target.value),N(!0)},onFocus:()=>N(!0),placeholder:"Escribe la referencia...",autoComplete:"off",required:!0}),w&&ee.length>0&&p.jsx("ul",{className:"searchable-select-dropdown",children:ee.map((L,T)=>p.jsx("li",{className:"searchable-select-option",onClick:()=>Y(L),children:L},T))})]})]}),p.jsxs(bp,{ref:se,children:[p.jsx(Ap,{children:"Cul es el error?"}),p.jsxs("div",{className:"searchable-select-container",children:[p.jsx("input",{type:"text",className:"searchable-select-input",style:{cursor:"pointer",caretColor:"transparent"},value:G.find(L=>L.value===g.tipoError)?.label||"",readOnly:!0,onClick:()=>Q(!P)}),p.jsx(dy,{className:`searchable-select-arrow ${P?"open":""}`,size:16,onClick:()=>Q(!P)}),P&&p.jsx("ul",{className:"searchable-select-dropdown",children:G.map(L=>p.jsx("li",{className:`searchable-select-option ${g.tipoError===L.value?"selected":""}`,onClick:()=>{y({...g,tipoError:L.value}),Q(!1)},children:L.label},L.value))})]})]}),p.jsxs(bp,{style:{gridColumn:"span 2"},children:[p.jsx(Ap,{children:"Detalles adicionales"}),p.jsx(A8,{rows:4,placeholder:"Describe el error brevemente para que podamos corregirlo...",value:g.descripcion,onChange:L=>y({...g,descripcion:L.target.value}),required:!0})]}),p.jsxs(T8,{style:{gridColumn:"span 2"},children:[p.jsx(rb,{type:"button",onClick:e,variant:"secondary",children:"Cancelar"}),p.jsxs(rb,{type:"submit",variant:"primary",disabled:u||!E||!g.descripcion,children:[u?p.jsx(q5,{size:16,className:"animate-spin"}):p.jsx(b9,{size:16}),u?"Enviando...":"Enviar Reporte"]})]})]})})})}const g8=Yt.div`
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
`,y8=Yt.div`
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 1rem;
  background-color: rgba(245, 158, 11, 0.1); 
  border: 1px solid rgba(245, 158, 11, 0.2);
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  font-size: 0.9rem;
  font-weight: 600;
  width: 100%;

  p {
    margin: 0;
    text-align: center;
    width: 100%;
  }
`,v8=Yt.form`
  display: grid;
  grid-template-columns: 0.8fr 1.2fr;
  gap: 1.5rem;
  
  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,bp=Yt.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  position: relative;
`,Ap=Yt.label`
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text-primary);
`,x2=`
  width: 100%;
  border-radius: 0.75rem;
  border: 1px solid var(--border-primary);
  background: var(--bg-tertiary);
  color: var(--text-primary);
  font-size: 0.85rem;
  font-weight: 500;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  outline: none;

  &:focus {
    background: var(--bg-primary);
    border-color: var(--accent-primary);
    box-shadow: 0 0 0 4px rgba(64, 112, 244, 0.1), var(--shadow-sm);
    transform: translateY(-1px);
  }
`,_8=Yt.div`
  position: relative;
  width: 100%;
`,E8=Yt.div`
  position: absolute;
  left: 0.85rem; /* Match searchable-select padding-left roughly or align with text */
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  pointer-events: none;
  z-index: 2;
  display: flex; /* Ensure icon centers */
`,b8=Yt.input`
  ${x2}
  height: 34px;
  padding: 0 2.5rem 0 2.5rem; /* Left padding for icon */
  font-family: 'JetBrains Mono', monospace; 

  /* Placeholder style override if needed */
  &::placeholder {
    font-family: 'Inter', sans-serif;
  }

  @media (max-width: 768px) {
    height: 50px;
    font-size: 1rem;
  }
`,A8=Yt.textarea`
  ${x2}
  padding: 0.8rem;
  resize: none;
  min-height: 100px;
`,T8=Yt.div`
  display: flex;
  gap: 1rem;
  margin-top: 0.5rem;
`,rb=Yt.button`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.625rem 1rem;
  border-radius: var(--radius-md);
  font-weight: 600;
  font-size: 0.9375rem;
  cursor: pointer;
  transition: all var(--transition-base);

  ${i=>i.variant==="primary"?`
    background: var(--color-danger);
    color: white;
    border: none;
    box-shadow: var(--shadow-md);

    &:hover {
      background: #dc2626; /* Darker red */
      transform: translateY(-1px);
    }
    
    &:active {
      transform: translateY(0);
    }
  `:`
    background: transparent;
    border: 1px solid var(--border-primary);
    color: var(--text-secondary);

    &:hover {
      background: var(--bg-tertiary);
      border-color: var(--border-secondary);
      color: var(--text-primary);
    }
  `}
`,S8=Yt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 3rem 1rem;
  gap: 1rem;

  h3 {
    font-size: 1.25rem;
    color: var(--text-primary);
  }

  p {
    color: var(--text-secondary);
    font-size: 0.95rem;
    max-width: 300px;
  }
`,w8=Yt.div`
  width: 4rem;
  height: 4rem;
  border-radius: 50%;
  background: var(--color-success-glow);
  color: var(--color-success);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0.5rem;
  
  svg {
    stroke-width: 3px;
  }
`,sb={Incolbest:"#3b82f6","Bex USA":"#0a3cff",KTC:"#ef4444","Brake Pak":"#64748b","Hi-Q":"#10b981",INC:"#3b82f6",BEX:"#0a3cff",K:"#ef4444",BP:"#64748b",SP:"#10b981"},x8="#3b82f6",C8=[{id:"INC",label:"Incolbest"},{id:"BEX",label:"Bex USA"},{id:"K",label:"KTC"},{id:"BP",label:"Brake Pak"},{id:"SP",label:"Hi-Q"}],R8=()=>{const i=de(m=>m.filters),e=de(m=>m.filteredProducts),{selectedBrandTags:t}=i,s=i.searchQuery.trim().length>0,o=!!i.selectedBrand,c=C8.filter(m=>t.includes(m.id)?!0:e.some(g=>{const E=[g.referencia,g.wva,...g.ref||[],...g.intercambios||[],...g.oem||[],...g.fmsi||[]].filter(Boolean).flatMap(w=>w.split(/[\s,/-]+/)).filter(w=>w.length>2),A=(g.fabricante||"").toUpperCase();return m.id==="INC"?E.some(w=>w.trim().toUpperCase().endsWith("INC"))||A.includes("INCOLBEST"):m.id==="BEX"?E.some(w=>w.trim().toUpperCase().endsWith("BEX"))||A.includes("BEX"):m.id==="K"?E.some(w=>w.trim().toUpperCase().startsWith("K"))||A.includes("KTC"):m.id==="BP"?E.some(w=>w.trim().toUpperCase().endsWith("BP"))||A.includes("BRAKE PAK")||A.includes("BRAKEPAK"):m.id==="SP"?E.some(w=>w.trim().toUpperCase().startsWith("SP")):!1}));return(s||o)&&c.length>0?p.jsx("div",{className:"brand-tags-bar-container",children:p.jsx("div",{className:"brand-tags-scroll",children:c.map(m=>{const g=m.id,y=m.label,E=sb[y]||sb[g]||x8;return p.jsxs("div",{className:"brand-ticket",style:{"--ticket-color":E},children:[p.jsx("div",{className:"brand-ticket-bg"}),p.jsx("div",{className:"brand-ticket-hole"}),p.jsx("span",{className:"brand-ticket-label",children:y})]},g)})})}):null};function N8(){VI();const[i,e]=ae.useState(window.location.hash||"#search"),[t,s]=ae.useState(!0);ae.useEffect(()=>{const J=()=>e(window.location.hash);return window.addEventListener("hashchange",J),()=>window.removeEventListener("hashchange",J)},[]);const o=de(J=>J.filteredProducts),c=de(J=>J.products),u=de(J=>J.ui),m=de(J=>J.setProducts),g=de(J=>J.clearFilters),y=de(J=>J.setCurrentPage),E=de(J=>J.closeReportModal),A=ae.useMemo(()=>async()=>{s(!0);try{if(kE)try{const J=await CI();m(J)}catch(J){console.error("Error connecting to Firebase:",J),m([]);const Y=J instanceof Error?J.message:"Error desconocido";alert(`Error conectando a Firebase:
${Y}

Revisa si tu base de datos Firestore est creada y si las Reglas de Seguridad permiten lectura (allow read: if true).`)}else console.error("Firebase not configured."),m([]),alert("Firebase no est configurado. Por favor configura el archivo .env o edita src/services/firebase.ts")}catch(J){console.error("Error loading products:",J)}finally{s(!1)}},[m]);ae.useEffect(()=>{if(!kE){A();return}let J=!0;const Y=wI((L,T)=>{if(m(L),J&&s(!1),!J&&T){const x=de.getState();T.forEach(I=>{const V=I.doc.data(),k=V.referencia||V.ref&&V.ref[0]||I.doc.id;I.type==="added"?x.addNotification({type:"data",title:"Referencia Agregada",message:`Se ha aadido la referencia ${k} al catlogo.`}):I.type==="modified"?x.addNotification({type:"data",title:"Referencia Actualizada",message:`La referencia ${k} ha sido modificada.`}):I.type==="removed"&&x.addNotification({type:"data",title:"Referencia Eliminada",message:`La referencia ${k} ha sido retirada.`})})}J=!1});return()=>Y()},[A,m]);const w=async()=>{if(confirm("Ests seguro de que quieres cargar datos de prueba? Esto escribir en tu base de datos Firebase.")){s(!0);try{const J=await xI();alert(`Se cargaron exitosamente ${J} productos.`)}catch(J){console.error("Error seeding database:",J),alert("Error cargando datos. Revisa la consola para ms detalles.")}finally{s(!1)}}},{currentPage:N,itemsPerPage:j}=u,P=o.length,Q=Math.ceil(P/j),se=(N-1)*j,G=Math.min(se+j,P),ee=ae.useMemo(()=>o.slice(se,G),[o,se,G]);return p.jsx("div",{className:"app",children:i==="#admin"?p.jsx(a8,{}):i==="#compare"?p.jsxs(p.Fragment,{children:[p.jsx(JE,{}),p.jsx("main",{className:"results-panel",style:{width:"100%",maxWidth:"100%"},children:p.jsx(o8,{})}),p.jsx(eb,{}),p.jsx(ib,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(JE,{}),p.jsxs("div",{className:"main-layout",children:[p.jsx("div",{className:"filters-column",children:p.jsx(FD,{})}),p.jsx("main",{className:"results-panel",children:p.jsxs("div",{className:"content-wrapper",children:[p.jsx(GD,{totalResults:P,currentStart:se+1,currentEnd:G}),p.jsx(R8,{}),p.jsx(YD,{products:ee,loading:t,onClearFilters:g,hasProducts:c.length>0,onSeedDatabase:w}),p.jsx(XD,{currentPage:N,totalPages:Q,onPageChange:y})]})})]}),p.jsx(eb,{}),p.jsx(ib,{}),p.jsx(n8,{}),p.jsx(m8,{}),p.jsx(f8,{}),p.jsx(JD,{}),p.jsx(e8,{}),p.jsx(t8,{}),p.jsx(p8,{isOpen:u.isReportModalOpen,onClose:E,referenceId:u.selectedProductId})]})})}dw.createRoot(document.getElementById("root")).render(p.jsx(ae.StrictMode,{children:p.jsx(N8,{})}));
