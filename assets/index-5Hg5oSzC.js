(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function VT(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var sd={exports:{}},ol={};var s_;function LT(){if(s_)return ol;s_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return ol.Fragment=e,ol.jsx=i,ol.jsxs=i,ol}var r_;function kT(){return r_||(r_=1,sd.exports=LT()),sd.exports}var S=kT(),rd={exports:{}},_e={};var a_;function UT(){if(a_)return _e;a_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),R=Symbol.iterator;function q(x){return x===null||typeof x!="object"?null:(x=R&&x[R]||x["@@iterator"],typeof x=="function"?x:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,W={};function de(x,K,te){this.props=x,this.context=K,this.refs=W,this.updater=te||ne}de.prototype.isReactComponent={},de.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},de.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function le(){}le.prototype=de.prototype;function ue(x,K,te){this.props=x,this.context=K,this.refs=W,this.updater=te||ne}var Ce=ue.prototype=new le;Ce.constructor=ue,$(Ce,de.prototype),Ce.isPureReactComponent=!0;var Ze=Array.isArray;function ke(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(x,K,te){var ie=te.ref;return{$$typeof:a,type:x,key:K,ref:ie!==void 0?ie:null,props:te}}function V(x,K){return I(x.type,K,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function k(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(te){return K[te]})}var C=/\/+/g;function tt(x,K){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):K.toString(36)}function Nt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ke,ke):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function G(x,K,te,ie,ye){var Ae=typeof x;(Ae==="undefined"||Ae==="boolean")&&(x=null);var xe=!1;if(x===null)xe=!0;else switch(Ae){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(x.$$typeof){case a:case e:xe=!0;break;case T:return xe=x._init,G(xe(x._payload),K,te,ie,ye)}}if(xe)return ye=ye(x),xe=ie===""?"."+tt(x,0):ie,Ze(ye)?(te="",xe!=null&&(te=xe.replace(C,"$&/")+"/"),G(ye,K,te,"",function($s){return $s})):ye!=null&&(M(ye)&&(ye=V(ye,te+(ye.key==null||x&&x.key===ye.key?"":(""+ye.key).replace(C,"$&/")+"/")+xe)),K.push(ye)),1;xe=0;var It=ie===""?".":ie+":";if(Ze(x))for(var nt=0;nt<x.length;nt++)ie=x[nt],Ae=It+tt(ie,nt),xe+=G(ie,K,te,Ae,ye);else if(nt=q(x),typeof nt=="function")for(x=nt.call(x),nt=0;!(ie=x.next()).done;)ie=ie.value,Ae=It+tt(ie,nt++),xe+=G(ie,K,te,Ae,ye);else if(Ae==="object"){if(typeof x.then=="function")return G(Nt(x),K,te,ie,ye);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ee(x,K,te){if(x==null)return x;var ie=[],ye=0;return G(x,ie,"","",function(Ae){return K.call(te,Ae,ye++)}),ie}function fe(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(te){(x._status===0||x._status===-1)&&(x._status=1,x._result=te)},function(te){(x._status===0||x._status===-1)&&(x._status=2,x._result=te)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var Ue=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},He={map:ee,forEach:function(x,K,te){ee(x,function(){K.apply(this,arguments)},te)},count:function(x){var K=0;return ee(x,function(){K++}),K},toArray:function(x){return ee(x,function(K){return K})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return _e.Activity=b,_e.Children=He,_e.Component=de,_e.Fragment=i,_e.Profiler=l,_e.PureComponent=ue,_e.StrictMode=r,_e.Suspense=g,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_e.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},_e.cache=function(x){return function(){return x.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(x,K,te){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ie=$({},x.props),ye=x.key;if(K!=null)for(Ae in K.key!==void 0&&(ye=""+K.key),K)!w.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(ie[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=te;else if(1<Ae){for(var xe=Array(Ae),It=0;It<Ae;It++)xe[It]=arguments[It+2];ie.children=xe}return I(x.type,ye,ie)},_e.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},_e.createElement=function(x,K,te){var ie,ye={},Ae=null;if(K!=null)for(ie in K.key!==void 0&&(Ae=""+K.key),K)w.call(K,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ye[ie]=K[ie]);var xe=arguments.length-2;if(xe===1)ye.children=te;else if(1<xe){for(var It=Array(xe),nt=0;nt<xe;nt++)It[nt]=arguments[nt+2];ye.children=It}if(x&&x.defaultProps)for(ie in xe=x.defaultProps,xe)ye[ie]===void 0&&(ye[ie]=xe[ie]);return I(x,Ae,ye)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(x){return{$$typeof:y,render:x}},_e.isValidElement=M,_e.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:fe}},_e.memo=function(x,K){return{$$typeof:v,type:x,compare:K===void 0?null:K}},_e.startTransition=function(x){var K=D.T,te={};D.T=te;try{var ie=x(),ye=D.S;ye!==null&&ye(te,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ke,Ue)}catch(Ae){Ue(Ae)}finally{K!==null&&te.types!==null&&(K.types=te.types),D.T=K}},_e.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_e.use=function(x){return D.H.use(x)},_e.useActionState=function(x,K,te){return D.H.useActionState(x,K,te)},_e.useCallback=function(x,K){return D.H.useCallback(x,K)},_e.useContext=function(x){return D.H.useContext(x)},_e.useDebugValue=function(){},_e.useDeferredValue=function(x,K){return D.H.useDeferredValue(x,K)},_e.useEffect=function(x,K){return D.H.useEffect(x,K)},_e.useEffectEvent=function(x){return D.H.useEffectEvent(x)},_e.useId=function(){return D.H.useId()},_e.useImperativeHandle=function(x,K,te){return D.H.useImperativeHandle(x,K,te)},_e.useInsertionEffect=function(x,K){return D.H.useInsertionEffect(x,K)},_e.useLayoutEffect=function(x,K){return D.H.useLayoutEffect(x,K)},_e.useMemo=function(x,K){return D.H.useMemo(x,K)},_e.useOptimistic=function(x,K){return D.H.useOptimistic(x,K)},_e.useReducer=function(x,K,te){return D.H.useReducer(x,K,te)},_e.useRef=function(x){return D.H.useRef(x)},_e.useState=function(x){return D.H.useState(x)},_e.useSyncExternalStore=function(x,K,te){return D.H.useSyncExternalStore(x,K,te)},_e.useTransition=function(){return D.H.useTransition()},_e.version="19.2.3",_e}var o_;function Jd(){return o_||(o_=1,rd.exports=UT()),rd.exports}var tn=Jd();const ul=VT(tn);var ad={exports:{}},ll={},od={exports:{}},ld={};var l_;function PT(){return l_||(l_=1,(function(a){function e(G,ee){var fe=G.length;G.push(ee);e:for(;0<fe;){var Ue=fe-1>>>1,He=G[Ue];if(0<l(He,ee))G[Ue]=ee,G[fe]=He,fe=Ue;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ee=G[0],fe=G.pop();if(fe!==ee){G[0]=fe;e:for(var Ue=0,He=G.length,x=He>>>1;Ue<x;){var K=2*(Ue+1)-1,te=G[K],ie=K+1,ye=G[ie];if(0>l(te,fe))ie<He&&0>l(ye,te)?(G[Ue]=ye,G[ie]=fe,Ue=ie):(G[Ue]=te,G[K]=fe,Ue=K);else if(ie<He&&0>l(ye,fe))G[Ue]=ye,G[ie]=fe,Ue=ie;else break e}}return ee}function l(G,ee){var fe=G.sortIndex-ee.sortIndex;return fe!==0?fe:G.id-ee.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();a.unstable_now=function(){return d.now()-y}}var g=[],v=[],T=1,b=null,R=3,q=!1,ne=!1,$=!1,W=!1,de=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function Ce(G){for(var ee=i(v);ee!==null;){if(ee.callback===null)r(v);else if(ee.startTime<=G)r(v),ee.sortIndex=ee.expirationTime,e(g,ee);else break;ee=i(v)}}function Ze(G){if($=!1,Ce(G),!ne)if(i(g)!==null)ne=!0,ke||(ke=!0,k());else{var ee=i(v);ee!==null&&Nt(Ze,ee.startTime-G)}}var ke=!1,D=-1,w=5,I=-1;function V(){return W?!0:!(a.unstable_now()-I<w)}function M(){if(W=!1,ke){var G=a.unstable_now();I=G;var ee=!0;try{e:{ne=!1,$&&($=!1,le(D),D=-1),q=!0;var fe=R;try{t:{for(Ce(G),b=i(g);b!==null&&!(b.expirationTime>G&&V());){var Ue=b.callback;if(typeof Ue=="function"){b.callback=null,R=b.priorityLevel;var He=Ue(b.expirationTime<=G);if(G=a.unstable_now(),typeof He=="function"){b.callback=He,Ce(G),ee=!0;break t}b===i(g)&&r(g),Ce(G)}else r(g);b=i(g)}if(b!==null)ee=!0;else{var x=i(v);x!==null&&Nt(Ze,x.startTime-G),ee=!1}}break e}finally{b=null,R=fe,q=!1}ee=void 0}}finally{ee?k():ke=!1}}}var k;if(typeof ue=="function")k=function(){ue(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,tt=C.port2;C.port1.onmessage=M,k=function(){tt.postMessage(null)}}else k=function(){de(M,0)};function Nt(G,ee){D=de(function(){G(a.unstable_now())},ee)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(G){switch(R){case 1:case 2:case 3:var ee=3;break;default:ee=R}var fe=R;R=ee;try{return G()}finally{R=fe}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=R;R=G;try{return ee()}finally{R=fe}},a.unstable_scheduleCallback=function(G,ee,fe){var Ue=a.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ue+fe:Ue):fe=Ue,G){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=fe+He,G={id:T++,callback:ee,priorityLevel:G,startTime:fe,expirationTime:He,sortIndex:-1},fe>Ue?(G.sortIndex=fe,e(v,G),i(g)===null&&G===i(v)&&($?(le(D),D=-1):$=!0,Nt(Ze,fe-Ue))):(G.sortIndex=He,e(g,G),ne||q||(ne=!0,ke||(ke=!0,k()))),G},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(G){var ee=R;return function(){var fe=R;R=ee;try{return G.apply(this,arguments)}finally{R=fe}}}})(ld)),ld}var u_;function jT(){return u_||(u_=1,od.exports=PT()),od.exports}var ud={exports:{}},Qt={};var c_;function zT(){if(c_)return Qt;c_=1;var a=Jd();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,v,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:v,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qt.createPortal=function(g,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(g,v,null,T)},Qt.flushSync=function(g){var v=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=v,r.p=T,r.d.f()}},Qt.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},Qt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Qt.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var T=v.as,b=y(T,v.crossOrigin),R=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:q}):T==="script"&&r.d.X(g,{crossOrigin:b,integrity:R,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qt.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=y(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},Qt.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,b=y(T,v.crossOrigin);r.d.L(g,T,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qt.preloadModule=function(g,v){if(typeof g=="string")if(v){var T=y(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},Qt.requestFormReset=function(g){r.d.r(g)},Qt.unstable_batchedUpdates=function(g,v){return g(v)},Qt.useFormState=function(g,v,T){return d.H.useFormState(g,v,T)},Qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qt.version="19.2.3",Qt}var h_;function Qv(){if(h_)return ud.exports;h_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),ud.exports=zT(),ud.exports}var f_;function BT(){if(f_)return ll;f_=1;var a=jT(),e=Jd(),i=Qv();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,R=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),ne=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Ze=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case de:return"Profiler";case W:return"StrictMode";case Ze:return"Suspense";case ke:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ne:return"Portal";case ue:return t.displayName||"Context";case le:return(t._context.displayName||"Context")+".Consumer";case Ce:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:tt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return tt(t(n))}catch{}}return null}var Nt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ue=[],He=-1;function x(t){return{current:t}}function K(t){0>He||(t.current=Ue[He],Ue[He]=null,He--)}function te(t,n){He++,Ue[He]=t.current,t.current=n}var ie=x(null),ye=x(null),Ae=x(null),xe=x(null);function It(t,n){switch(te(Ae,n),te(ye,t),te(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Cy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Cy(n),t=Ny(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ie),te(ie,t)}function nt(){K(ie),K(ye),K(Ae)}function $s(t){t.memoizedState!==null&&te(xe,t);var n=ie.current,s=Ny(n,t.type);n!==s&&(te(ye,t),te(ie,s))}function jr(t){ye.current===t&&(K(ie),K(ye)),xe.current===t&&(K(xe),il._currentValue=fe)}var zr,Br;function Kn(t){if(zr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);zr=n&&n[1]||"",Br=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+t+Br}var no=!1;function Zs(t,n){if(!t||no)return"";no=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var z=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){z=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){z=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var N=p.split(`
`),j=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===j.length)for(o=N.length-1,h=j.length-1;1<=o&&0<=h&&N[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==j[h]){var F=`
`+N[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{no=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Kn(s):""}function io(t,n){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Zs(t.type,!1);case 11:return Zs(t.type.render,!1);case 1:return Zs(t.type,!0);case 31:return Kn("Activity");default:return""}}function so(t){try{var n="",s=null;do n+=io(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var gt=Object.prototype.hasOwnProperty,Dt=a.unstable_scheduleCallback,Zi=a.unstable_cancelCallback,rh=a.unstable_shouldYield,Ul=a.unstable_requestPaint,Zt=a.unstable_now,Js=a.unstable_getCurrentPriorityLevel,ro=a.unstable_ImmediatePriority,ao=a.unstable_UserBlockingPriority,Ji=a.unstable_NormalPriority,ah=a.unstable_LowPriority,Pl=a.unstable_IdlePriority,jl=a.log,zl=a.unstable_setDisableYieldValue,Vn=null,Pt=null;function Tn(t){if(typeof jl=="function"&&zl(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Vn,t)}catch{}}var ut=Math.clz32?Math.clz32:ql,Bl=Math.log,qr=Math.LN2;function ql(t){return t>>>=0,t===0?32:31-(Bl(t)/qr|0)|0}var Xn=256,Ws=262144,pt=4194304;function $n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=$n(o):(p&=E,p!==0?h=$n(p):s||(s=E&~t,s!==0&&(h=$n(s))))):(E=o&~f,E!==0?h=$n(E):p!==0?h=$n(p):s||(s=o&~t,s!==0&&(h=$n(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hl(){var t=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),t}function Jn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function er(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lh(t,n,s,o,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,j=t.hiddenUpdates;for(s=p&~s;0<s;){var F=31-ut(s),Y=1<<F;E[F]=0,N[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&tr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function tr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ut(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function oo(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-ut(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function lo(t,n){var s=n&-n;return s=(s&42)!==0?1:nr(s),(s&(t.suspendedLanes|n))!==0?0:s}function nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fl(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Zy(t.type))}function kn(t,n){var s=ee.p;try{return ee.p=t,n()}finally{ee.p=s}}var Un=Math.random().toString(36).slice(2),yt="__reactFiber$"+Un,Vt="__reactProps$"+Un,Wn="__reactContainer$"+Un,Hr="__reactEvents$"+Un,uh="__reactListeners$"+Un,Gl="__reactHandles$"+Un,Ql="__reactResources$"+Un,ei="__reactMarker$"+Un;function Fr(t){delete t[yt],delete t[Vt],delete t[Hr],delete t[uh],delete t[Gl]}function ti(t){var n=t[yt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Wn]||s[yt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ly(t);t!==null;){if(s=t[yt])return s;t=Ly(t)}return n}t=s,s=t.parentNode}return null}function Sn(t){if(t=t[yt]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ni(t){var n=t[Ql];return n||(n=t[Ql]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _t(t){t[ei]=!0}var uo=new Set,co={};function ii(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(co[t]=n,t=0;t<n.length;t++)uo.add(n[t])}var ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},mo={};function Yl(t){return gt.call(mo,t)?!0:gt.call(fo,t)?!1:ho.test(t)?mo[t]=!0:(fo[t]=!0,!1)}function Gr(t,n,s){if(Yl(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function fn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function vt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function go(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fe(t){if(!t._valueTracker){var n=Wi(t)?"checked":"value";t._valueTracker=go(t,n,""+t[n])}}function ir(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Wi(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sr=/[\n"\\]/g;function nn(t){return t.replace(sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Qr(t,n,s,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?po(t,p,Lt(n)):s!=null?po(t,p,Lt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function Kl(t,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Fe(t);return}s=s!=null?""+Lt(s):"",n=n!=null?""+Lt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Fe(t)}function po(t,n,s){n==="number"&&ri(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function es(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Lt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Xl(t,n,s){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Lt(s):""}function ts(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(Nt(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Lt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),Fe(t)}function sn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var $l=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||$l.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function _o(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&yo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&yo(t,f,n[f])}function Yr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kr(t){return ns.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Pn(){}var vo=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var is=null,ai=null;function rr(t){var n=Sn(t);if(n&&(t=n.stateNode)){var s=t[Vt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Qr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Vt]||null;if(!h)throw Error(r(90));Qr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&ir(o)}break e;case"textarea":Xl(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&es(t,!!s.multiple,n,!1)}}}var Xr=!1;function ss(t,n,s){if(Xr)return t(n,s);Xr=!0;try{var o=t(n);return o}finally{if(Xr=!1,(is!==null||ai!==null)&&(Fu(),is&&(n=is,t=ai,ai=is=null,rr(n),t)))for(n=0;n<t.length;n++)rr(t[n])}}function jn(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Vt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ar=!1;if(bn)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){ar=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{ar=!1}var oi=null,Eo=null,or=null;function To(){if(or)return or;var t,n=Eo,s=n.length,o,h="value"in oi?oi.value:oi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return or=h.slice(t,1<o?1-o:void 0)}function lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function zn(){return!1}function jt(t){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ri:zn,this.isPropagationStopped=zn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),n}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=jt(Ci),rs=b({},Ci,{view:0,detail:0}),So=jt(rs),as,$r,ui,Zr=b({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(as=t.screenX-ui.screenX,$r=t.screenY-ui.screenY):$r=as=0,ui=t),as)},movementY:function(t){return"movementY"in t?t.movementY:$r}}),Ao=jt(Zr),ur=b({},Zr,{dataTransfer:0}),Jl=jt(ur),Wl=b({},rs,{relatedTarget:0}),cr=jt(Wl),bo=b({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=jt(bo),Jr=b({},Ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tu=jt(Jr),nu=b({},Ci,{data:0}),ci=jt(nu),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ru[t])?!!n[t]:!1}function os(){return au}var Jt=b({},rs,{key:function(t){if(t.key){var n=iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ou=jt(Jt),lu=b({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=jt(lu),u=b({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),m=jt(u),_=b({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=jt(_),U=b({},Zr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=jt(U),Z=b({},Ci,{newState:0,oldState:0}),Te=jt(Z),ct=[9,13,27,32],Be=bn&&"CompositionEvent"in window,it=null;bn&&"documentMode"in document&&(it=document.documentMode);var wn=bn&&"TextEvent"in window&&!it,hi=bn&&(!Be||it&&8<it&&11>=it),Bn=" ",qn=!1;function hr(t,n){switch(t){case"keyup":return ct.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ea=!1;function s1(t,n){switch(t){case"compositionend":return Wr(n);case"keypress":return n.which!==32?null:(qn=!0,Bn);case"textInput":return t=n.data,t===Bn&&qn?null:t;default:return null}}function r1(t,n){if(ea)return t==="compositionend"||!Be&&hr(t,n)?(t=To(),or=Eo=oi=null,ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hi&&n.locale!=="ko"?null:n.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!a1[t.type]:n==="textarea"}function jm(t,n,s,o){is?ai?ai.push(o):ai=[o]:is=o,n=Zu(n,"onChange"),0<n.length&&(s=new li("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var wo=null,Ro=null;function o1(t){Ty(t,0)}function uu(t){var n=hn(t);if(ir(n))return t}function zm(t,n){if(t==="change")return n}var Bm=!1;if(bn){var ch;if(bn){var hh="oninput"in document;if(!hh){var qm=document.createElement("div");qm.setAttribute("oninput","return;"),hh=typeof qm.oninput=="function"}ch=hh}else ch=!1;Bm=ch&&(!document.documentMode||9<document.documentMode)}function Hm(){wo&&(wo.detachEvent("onpropertychange",Fm),Ro=wo=null)}function Fm(t){if(t.propertyName==="value"&&uu(Ro)){var n=[];jm(n,Ro,t,An(t)),ss(o1,n)}}function l1(t,n,s){t==="focusin"?(Hm(),wo=n,Ro=s,wo.attachEvent("onpropertychange",Fm)):t==="focusout"&&Hm()}function u1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uu(Ro)}function c1(t,n){if(t==="click")return uu(n)}function h1(t,n){if(t==="input"||t==="change")return uu(n)}function f1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var dn=typeof Object.is=="function"?Object.is:f1;function Co(t,n){if(dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!gt.call(n,h)||!dn(t[h],n[h]))return!1}return!0}function Gm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qm(t,n){var s=Gm(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Gm(s)}}function Ym(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ym(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Km(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ri(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ri(t.document)}return n}function fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var d1=bn&&"documentMode"in document&&11>=document.documentMode,ta=null,dh=null,No=null,mh=!1;function Xm(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;mh||ta==null||ta!==ri(o)||(o=ta,"selectionStart"in o&&fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),No&&Co(No,o)||(No=o,o=Zu(dh,"onSelect"),0<o.length&&(n=new li("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=ta)))}function fr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var na={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},gh={},$m={};bn&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function dr(t){if(gh[t])return gh[t];if(!na[t])return t;var n=na[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in $m)return gh[t]=n[s];return t}var Zm=dr("animationend"),Jm=dr("animationiteration"),Wm=dr("animationstart"),m1=dr("transitionrun"),g1=dr("transitionstart"),p1=dr("transitioncancel"),eg=dr("transitionend"),tg=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function Hn(t,n){tg.set(t,n),ii(n,[t])}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],ia=0,yh=0;function hu(){for(var t=ia,n=yh=ia=0;n<t;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&ng(s,h,f)}}function fu(t,n,s,o){Rn[ia++]=t,Rn[ia++]=n,Rn[ia++]=s,Rn[ia++]=o,yh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function _h(t,n,s,o){return fu(t,n,s,o),du(t)}function mr(t,n){return fu(t,null,null,n),du(t)}function ng(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ut(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function du(t){if(50<$o)throw $o=0,Nf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var sa={};function y1(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,n,s,o){return new y1(t,n,s,o)}function vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,n){var s=t.alternate;return s===null?(s=mn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ig(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function mu(t,n,s,o,h,f){var p=0;if(o=t,typeof t=="function")vh(t)&&(p=1);else if(typeof t=="string")p=ST(t,s,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=mn(31,s,n,h),t.elementType=I,t.lanes=f,t;case $:return gr(s.children,h,f,n);case W:p=8,h|=24;break;case de:return t=mn(12,s,n,h|2),t.elementType=de,t.lanes=f,t;case Ze:return t=mn(13,s,n,h),t.elementType=Ze,t.lanes=f,t;case ke:return t=mn(19,s,n,h),t.elementType=ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:p=10;break e;case le:p=9;break e;case Ce:p=11;break e;case D:p=14;break e;case w:p=16,o=null;break e}p=29,s=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=mn(p,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function gr(t,n,s,o){return t=mn(7,t,o,n),t.lanes=s,t}function Eh(t,n,s){return t=mn(6,t,null,n),t.lanes=s,t}function sg(t){var n=mn(18,null,null,0);return n.stateNode=t,n}function Th(t,n,s){return n=mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var rg=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var s=rg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:so(n)},rg.set(t,n),n)}return{value:t,source:n,stack:so(n)}}var ra=[],aa=0,gu=null,Io=0,Nn=[],In=0,ls=null,fi=1,di="";function Di(t,n){ra[aa++]=Io,ra[aa++]=gu,gu=t,Io=n}function ag(t,n,s){Nn[In++]=fi,Nn[In++]=di,Nn[In++]=ls,ls=t;var o=fi;t=di;var h=32-ut(o)-1;o&=~(1<<h),s+=1;var f=32-ut(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,fi=1<<32-ut(n)+h|s<<h|o,di=f+t}else fi=1<<f|s<<h|o,di=t}function Sh(t){t.return!==null&&(Di(t,1),ag(t,1,0))}function Ah(t){for(;t===gu;)gu=ra[--aa],ra[aa]=null,Io=ra[--aa],ra[aa]=null;for(;t===ls;)ls=Nn[--In],Nn[In]=null,di=Nn[--In],Nn[In]=null,fi=Nn[--In],Nn[In]=null}function og(t,n){Nn[In++]=fi,Nn[In++]=di,Nn[In++]=ls,fi=n.id,di=n.overflow,ls=t}var zt=null,We=null,Oe=!1,us=null,Dn=!1,bh=Error(r(519));function cs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Do(Cn(n,t)),bh}function lg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[yt]=t,n[Vt]=o,s){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(s=0;s<Jo.length;s++)Re(Jo[s],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Re("invalid",n),Kl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Re("invalid",n);break;case"textarea":Re("invalid",n),ts(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||wy(n.textContent,s)?(o.popover!=null&&(Re("beforetoggle",n),Re("toggle",n)),o.onScroll!=null&&Re("scroll",n),o.onScrollEnd!=null&&Re("scrollend",n),o.onClick!=null&&(n.onclick=Pn),n=!0):n=!1,n||cs(t,!0)}function ug(t){for(zt=t.return;zt;)switch(zt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:zt=zt.return}}function oa(t){if(t!==zt)return!1;if(!Oe)return ug(t),Oe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Hf(t.type,t.memoizedProps)),s=!s),s&&We&&cs(t),ug(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));We=Vy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));We=Vy(t)}else n===27?(n=We,bs(t.type)?(t=Kf,Kf=null,We=t):We=n):We=zt?Mn(t.stateNode.nextSibling):null;return!0}function pr(){We=zt=null,Oe=!1}function wh(){var t=us;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),us=null),t}function Do(t){us===null?us=[t]:us.push(t)}var Rh=x(null),yr=null,Oi=null;function hs(t,n,s){te(Rh,n._currentValue),n._currentValue=s}function Mi(t){t._currentValue=Rh.current,K(Rh)}function Ch(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Nh(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Ch(f.return,s,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Ch(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function la(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;dn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===xe.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(il):t=[il])}h=h.return}t!==null&&Nh(n,t,s,o),n.flags|=262144}function pu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _r(t){yr=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bt(t){return cg(yr,t)}function yu(t,n){return yr===null&&_r(t),cg(t,n)}function cg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Oi===null){if(t===null)throw Error(r(308));Oi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Oi=Oi.next=n;return s}var _1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},v1=a.unstable_scheduleCallback,E1=a.unstable_NormalPriority,Et={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ih(){return{controller:new _1,data:new Map,refCount:0}}function Oo(t){t.refCount--,t.refCount===0&&v1(E1,function(){t.controller.abort()})}var Mo=null,Dh=0,ua=0,ca=null;function T1(t,n){if(Mo===null){var s=Mo=[];Dh=0,ua=Vf(),ca={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Dh++,n.then(hg,hg),n}function hg(){if(--Dh===0&&Mo!==null){ca!==null&&(ca.status="fulfilled");var t=Mo;Mo=null,ua=0,ca=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function S1(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var fg=G.S;G.S=function(t,n){Xp=Zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&T1(t,n),fg!==null&&fg(t,n)};var vr=x(null);function Oh(){var t=vr.current;return t!==null?t:Je.pooledCache}function _u(t,n){n===null?te(vr,vr.current):te(vr,n.pool)}function dg(){var t=Oh();return t===null?null:{parent:Et._currentValue,pool:t}}var ha=Error(r(460)),Mh=Error(r(474)),vu=Error(r(542)),Eu={then:function(){}};function mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Pn,Pn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,yg(t),t;default:if(typeof n.status=="string")n.then(Pn,Pn);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,yg(t),t}throw Tr=n,ha}}function Er(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Tr=s,ha):s}}var Tr=null;function pg(){if(Tr===null)throw Error(r(459));var t=Tr;return Tr=null,t}function yg(t){if(t===ha||t===vu)throw Error(r(483))}var fa=null,xo=0;function Tu(t){var n=xo;return xo+=1,fa===null&&(fa=[]),gg(fa,t,n)}function Vo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Su(t,n){throw n.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _g(t){function n(L,O){if(t){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function s(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Ii(L,O),L.index=0,L.sibling=null,L}function f(L,O,P){return L.index=P,t?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function p(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,P,Q){return O===null||O.tag!==6?(O=Eh(P,L.mode,Q),O.return=L,O):(O=h(O,P),O.return=L,O)}function N(L,O,P,Q){var ce=P.type;return ce===$?F(L,O,P.props.children,Q,P.key):O!==null&&(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Er(ce)===O.type)?(O=h(O,P.props),Vo(O,P),O.return=L,O):(O=mu(P.type,P.key,P.props,null,L.mode,Q),Vo(O,P),O.return=L,O)}function j(L,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Th(P,L.mode,Q),O.return=L,O):(O=h(O,P.children||[]),O.return=L,O)}function F(L,O,P,Q,ce){return O===null||O.tag!==7?(O=gr(P,L.mode,Q,ce),O.return=L,O):(O=h(O,P),O.return=L,O)}function Y(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Eh(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return P=mu(O.type,O.key,O.props,null,L.mode,P),Vo(P,O),P.return=L,P;case ne:return O=Th(O,L.mode,P),O.return=L,O;case w:return O=Er(O),Y(L,O,P)}if(Nt(O)||k(O))return O=gr(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return Y(L,Tu(O),P);if(O.$$typeof===ue)return Y(L,yu(L,O),P);Su(L,O)}return null}function z(L,O,P,Q){var ce=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ce!==null?null:E(L,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===ce?N(L,O,P,Q):null;case ne:return P.key===ce?j(L,O,P,Q):null;case w:return P=Er(P),z(L,O,P,Q)}if(Nt(P)||k(P))return ce!==null?null:F(L,O,P,Q,null);if(typeof P.then=="function")return z(L,O,Tu(P),Q);if(P.$$typeof===ue)return z(L,O,yu(L,P),Q);Su(L,P)}return null}function H(L,O,P,Q,ce){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(P)||null,E(O,L,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return L=L.get(Q.key===null?P:Q.key)||null,N(O,L,Q,ce);case ne:return L=L.get(Q.key===null?P:Q.key)||null,j(O,L,Q,ce);case w:return Q=Er(Q),H(L,O,P,Q,ce)}if(Nt(Q)||k(Q))return L=L.get(P)||null,F(O,L,Q,ce,null);if(typeof Q.then=="function")return H(L,O,P,Tu(Q),ce);if(Q.$$typeof===ue)return H(L,O,P,yu(O,Q),ce);Su(O,Q)}return null}function re(L,O,P,Q){for(var ce=null,je=null,ae=O,be=O=0,Ie=null;ae!==null&&be<P.length;be++){ae.index>be?(Ie=ae,ae=null):Ie=ae.sibling;var ze=z(L,ae,P[be],Q);if(ze===null){ae===null&&(ae=Ie);break}t&&ae&&ze.alternate===null&&n(L,ae),O=f(ze,O,be),je===null?ce=ze:je.sibling=ze,je=ze,ae=Ie}if(be===P.length)return s(L,ae),Oe&&Di(L,be),ce;if(ae===null){for(;be<P.length;be++)ae=Y(L,P[be],Q),ae!==null&&(O=f(ae,O,be),je===null?ce=ae:je.sibling=ae,je=ae);return Oe&&Di(L,be),ce}for(ae=o(ae);be<P.length;be++)Ie=H(ae,L,be,P[be],Q),Ie!==null&&(t&&Ie.alternate!==null&&ae.delete(Ie.key===null?be:Ie.key),O=f(Ie,O,be),je===null?ce=Ie:je.sibling=Ie,je=Ie);return t&&ae.forEach(function(Is){return n(L,Is)}),Oe&&Di(L,be),ce}function me(L,O,P,Q){if(P==null)throw Error(r(151));for(var ce=null,je=null,ae=O,be=O=0,Ie=null,ze=P.next();ae!==null&&!ze.done;be++,ze=P.next()){ae.index>be?(Ie=ae,ae=null):Ie=ae.sibling;var Is=z(L,ae,ze.value,Q);if(Is===null){ae===null&&(ae=Ie);break}t&&ae&&Is.alternate===null&&n(L,ae),O=f(Is,O,be),je===null?ce=Is:je.sibling=Is,je=Is,ae=Ie}if(ze.done)return s(L,ae),Oe&&Di(L,be),ce;if(ae===null){for(;!ze.done;be++,ze=P.next())ze=Y(L,ze.value,Q),ze!==null&&(O=f(ze,O,be),je===null?ce=ze:je.sibling=ze,je=ze);return Oe&&Di(L,be),ce}for(ae=o(ae);!ze.done;be++,ze=P.next())ze=H(ae,L,be,ze.value,Q),ze!==null&&(t&&ze.alternate!==null&&ae.delete(ze.key===null?be:ze.key),O=f(ze,O,be),je===null?ce=ze:je.sibling=ze,je=ze);return t&&ae.forEach(function(xT){return n(L,xT)}),Oe&&Di(L,be),ce}function $e(L,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===$&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var ce=P.key;O!==null;){if(O.key===ce){if(ce=P.type,ce===$){if(O.tag===7){s(L,O.sibling),Q=h(O,P.props.children),Q.return=L,L=Q;break e}}else if(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Er(ce)===O.type){s(L,O.sibling),Q=h(O,P.props),Vo(Q,P),Q.return=L,L=Q;break e}s(L,O);break}else n(L,O);O=O.sibling}P.type===$?(Q=gr(P.props.children,L.mode,Q,P.key),Q.return=L,L=Q):(Q=mu(P.type,P.key,P.props,null,L.mode,Q),Vo(Q,P),Q.return=L,L=Q)}return p(L);case ne:e:{for(ce=P.key;O!==null;){if(O.key===ce)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(L,O.sibling),Q=h(O,P.children||[]),Q.return=L,L=Q;break e}else{s(L,O);break}else n(L,O);O=O.sibling}Q=Th(P,L.mode,Q),Q.return=L,L=Q}return p(L);case w:return P=Er(P),$e(L,O,P,Q)}if(Nt(P))return re(L,O,P,Q);if(k(P)){if(ce=k(P),typeof ce!="function")throw Error(r(150));return P=ce.call(P),me(L,O,P,Q)}if(typeof P.then=="function")return $e(L,O,Tu(P),Q);if(P.$$typeof===ue)return $e(L,O,yu(L,P),Q);Su(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(L,O.sibling),Q=h(O,P),Q.return=L,L=Q):(s(L,O),Q=Eh(P,L.mode,Q),Q.return=L,L=Q),p(L)):s(L,O)}return function(L,O,P,Q){try{xo=0;var ce=$e(L,O,P,Q);return fa=null,ce}catch(ae){if(ae===ha||ae===vu)throw ae;var je=mn(29,ae,null,L.mode);return je.lanes=Q,je.return=L,je}}}var Sr=_g(!0),vg=_g(!1),fs=!1;function xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ds(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ms(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(qe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=du(t),ng(t,null,s),n}return fu(t,o,n,s),du(t)}function Lo(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,oo(t,s)}}function Lh(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var kh=!1;function ko(){if(kh){var t=ca;if(t!==null)throw t}}function Uo(t,n,s,o){kh=!1;var h=t.updateQueue;fs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,j=N.next;N.next=null,p===null?f=j:p.next=j,p=N;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=N))}if(f!==null){var Y=h.baseState;p=0,F=j=N=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Ne&z)===z:(o&z)===z){z!==0&&z===ua&&(kh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var re=t,me=E;z=n;var $e=s;switch(me.tag){case 1:if(re=me.payload,typeof re=="function"){Y=re.call($e,Y,z);break e}Y=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=me.payload,z=typeof re=="function"?re.call($e,Y,z):re,z==null)break e;Y=b({},Y,z);break e;case 2:fs=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=H,N=Y):F=F.next=H,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(N=Y),h.baseState=N,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),vs|=p,t.lanes=p,t.memoizedState=Y}}function Eg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Tg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Eg(s[t],n)}var da=x(null),Au=x(0);function Sg(t,n){t=Bi,te(Au,t),te(da,n),Bi=t|n.baseLanes}function Uh(){te(Au,Bi),te(da,da.current)}function Ph(){Bi=Au.current,K(da),K(Au)}var gn=x(null),On=null;function gs(t){var n=t.alternate;te(ht,ht.current&1),te(gn,t),On===null&&(n===null||da.current!==null||n.memoizedState!==null)&&(On=t)}function jh(t){te(ht,ht.current),te(gn,t),On===null&&(On=t)}function Ag(t){t.tag===22?(te(ht,ht.current),te(gn,t),On===null&&(On=t)):ps()}function ps(){te(ht,ht.current),te(gn,gn.current)}function pn(t){K(gn),On===t&&(On=null),K(ht)}var ht=x(0);function bu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Qf(s)||Yf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xi=0,Se=null,Ke=null,Tt=null,wu=!1,ma=!1,Ar=!1,Ru=0,Po=0,ga=null,A1=0;function ot(){throw Error(r(321))}function zh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!dn(t[s],n[s]))return!1;return!0}function Bh(t,n,s,o,h,f){return xi=f,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?ap:nf,Ar=!1,f=s(o,h),Ar=!1,ma&&(f=wg(n,s,o,h)),bg(t),f}function bg(t){G.H=Bo;var n=Ke!==null&&Ke.next!==null;if(xi=0,Tt=Ke=Se=null,wu=!1,Po=0,ga=null,n)throw Error(r(300));t===null||St||(t=t.dependencies,t!==null&&pu(t)&&(St=!0))}function wg(t,n,s,o){Se=t;var h=0;do{if(ma&&(ga=null),Po=0,ma=!1,25<=h)throw Error(r(301));if(h+=1,Tt=Ke=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=op,f=n(s,o)}while(ma);return f}function b1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?jo(n):n,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Se.flags|=1024),n}function qh(){var t=Ru!==0;return Ru=0,t}function Hh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Fh(t){if(wu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}wu=!1}xi=0,Tt=Ke=Se=null,ma=!1,Po=Ru=0,ga=null}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Se.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function ft(){if(Ke===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var n=Tt===null?Se.memoizedState:Tt.next;if(n!==null)Tt=n,Ke=t;else{if(t===null)throw Se.alternate===null?Error(r(467)):Error(r(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Tt===null?Se.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(t){var n=Po;return Po+=1,ga===null&&(ga=[]),t=gg(ga,t,n),n=Se,(Tt===null?n.memoizedState:Tt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ap:nf),t}function Nu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jo(t);if(t.$$typeof===ue)return Bt(t)}throw Error(r(438,String(t)))}function Gh(t){var n=null,s=Se.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Cu(),Se.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=V;return n.index++,s}function Vi(t,n){return typeof n=="function"?n(t):n}function Iu(t){var n=ft();return Qh(n,Ke,t)}function Qh(t,n,s){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,N=null,j=n,F=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Ne&Y)===Y:(xi&Y)===Y){var z=j.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===ua&&(F=!0);else if((xi&z)===z){j=j.next,z===ua&&(F=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=Y,p=f):N=N.next=Y,Se.lanes|=z,vs|=z;Y=j.action,Ar&&s(f,Y),f=j.hasEagerState?j.eagerState:s(f,Y)}else z={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=z,p=f):N=N.next=z,Se.lanes|=Y,vs|=Y;j=j.next}while(j!==null&&j!==n);if(N===null?p=f:N.next=E,!dn(f,t.memoizedState)&&(St=!0,F&&(s=ca,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Yh(t){var n=ft(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);dn(f,n.memoizedState)||(St=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Rg(t,n,s){var o=Se,h=ft(),f=Oe;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!dn((Ke||h).memoizedState,s);if(p&&(h.memoizedState=s,St=!0),h=h.queue,$h(Ig.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Tt!==null&&Tt.memoizedState.tag&1){if(o.flags|=2048,pa(9,{destroy:void 0},Ng.bind(null,o,h,s,n),null),Je===null)throw Error(r(349));f||(xi&127)!==0||Cg(o,n,s)}return s}function Cg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Se.updateQueue,n===null?(n=Cu(),Se.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Ng(t,n,s,o){n.value=s,n.getSnapshot=o,Dg(n)&&Og(t)}function Ig(t,n,s){return s(function(){Dg(n)&&Og(t)})}function Dg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!dn(t,s)}catch{return!0}}function Og(t){var n=mr(t,2);n!==null&&un(n,t,2)}function Kh(t){var n=Wt();if(typeof t=="function"){var s=t;if(t=s(),Ar){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},n}function Mg(t,n,s,o){return t.baseState=s,Qh(t,Ke,typeof o=="function"?o:Vi)}function w1(t,n,s,o,h){if(Mu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,xg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function xg(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,o),N=G.S;N!==null&&N(p,E),Vg(t,n,E)}catch(j){Xh(t,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),Vg(t,n,f)}catch(j){Xh(t,n,j)}}function Vg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Lg(t,n,o)},function(o){return Xh(t,n,o)}):Lg(t,n,s)}function Lg(t,n,s){n.status="fulfilled",n.value=s,kg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,xg(t,s)))}function Xh(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,kg(n),n=n.next;while(n!==o)}t.action=null}function kg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ug(t,n){return n}function Pg(t,n){if(Oe){var s=Je.formState;if(s!==null){e:{var o=Se;if(Oe){if(We){t:{for(var h=We,f=Dn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){We=Mn(h.nextSibling),o=h.data==="F!";break e}}cs(o)}o=!1}o&&(n=s[0])}}return s=Wt(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:n},s.queue=o,s=ip.bind(null,Se,o),o.dispatch=s,o=Kh(!1),f=tf.bind(null,Se,!1,o.queue),o=Wt(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=w1.bind(null,Se,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function jg(t){var n=ft();return zg(n,Ke,t)}function zg(t,n,s){if(n=Qh(t,n,Ug)[0],t=Iu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=jo(n)}catch(p){throw p===ha?vu:p}else o=n;n=ft();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Se.flags|=2048,pa(9,{destroy:void 0},R1.bind(null,h,s),null)),[o,f,t]}function R1(t,n){t.action=n}function Bg(t){var n=ft(),s=Ke;if(s!==null)return zg(n,s,t);ft(),n=n.memoizedState,s=ft();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function pa(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Se.updateQueue,n===null&&(n=Cu(),Se.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function qg(){return ft().memoizedState}function Du(t,n,s,o){var h=Wt();Se.flags|=t,h.memoizedState=pa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ou(t,n,s,o){var h=ft();o=o===void 0?null:o;var f=h.memoizedState.inst;Ke!==null&&o!==null&&zh(o,Ke.memoizedState.deps)?h.memoizedState=pa(n,f,s,o):(Se.flags|=t,h.memoizedState=pa(1|n,f,s,o))}function Hg(t,n){Du(8390656,8,t,n)}function $h(t,n){Ou(2048,8,t,n)}function C1(t){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=Cu(),Se.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Fg(t){var n=ft().memoizedState;return C1({ref:n,nextImpl:t}),function(){if((qe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Gg(t,n){return Ou(4,2,t,n)}function Qg(t,n){return Ou(4,4,t,n)}function Yg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Kg(t,n,s){s=s!=null?s.concat([t]):null,Ou(4,4,Yg.bind(null,n,t),s)}function Zh(){}function Xg(t,n){var s=ft();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&zh(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function $g(t,n){var s=ft();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&zh(n,o[1]))return o[0];if(o=t(),Ar){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function Jh(t,n,s){return s===void 0||(xi&1073741824)!==0&&(Ne&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Zp(),Se.lanes|=t,vs|=t,s)}function Zg(t,n,s,o){return dn(s,n)?s:da.current!==null?(t=Jh(t,s,o),dn(t,n)||(St=!0),t):(xi&42)===0||(xi&1073741824)!==0&&(Ne&261930)===0?(St=!0,t.memoizedState=s):(t=Zp(),Se.lanes|=t,vs|=t,n)}function Jg(t,n,s,o,h){var f=ee.p;ee.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,tf(t,!1,n,s);try{var N=h(),j=G.S;if(j!==null&&j(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=S1(N,o);zo(t,n,F,vn(t))}else zo(t,n,o,vn(t))}catch(Y){zo(t,n,{then:function(){},status:"rejected",reason:Y},vn())}finally{ee.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function N1(){}function Wh(t,n,s,o){if(t.tag!==5)throw Error(r(476));var h=Wg(t).queue;Jg(t,h,n,fe,s===null?N1:function(){return ep(t),s(o)})}function Wg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:fe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ep(t){var n=Wg(t);n.next===null&&(n=t.alternate.memoizedState),zo(t,n.next.queue,{},vn())}function ef(){return Bt(il)}function tp(){return ft().memoizedState}function np(){return ft().memoizedState}function I1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();t=ds(s);var o=ms(n,t,s);o!==null&&(un(o,n,s),Lo(o,n,s)),n={cache:Ih()},t.payload=n;return}n=n.return}}function D1(t,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Mu(t)?sp(n,s):(s=_h(t,n,s,o),s!==null&&(un(s,t,o),rp(s,n,o)))}function ip(t,n,s){var o=vn();zo(t,n,s,o)}function zo(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Mu(t))sp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,p))return fu(t,n,h,0),Je===null&&hu(),!1}catch{}if(s=_h(t,n,h,o),s!==null)return un(s,t,o),rp(s,n,o),!0}return!1}function tf(t,n,s,o){if(o={lane:2,revertLane:Vf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mu(t)){if(n)throw Error(r(479))}else n=_h(t,s,o,2),n!==null&&un(n,t,2)}function Mu(t){var n=t.alternate;return t===Se||n!==null&&n===Se}function sp(t,n){ma=wu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function rp(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,oo(t,s)}}var Bo={readContext:Bt,use:Nu,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};Bo.useEffectEvent=ot;var ap={readContext:Bt,use:Nu,useCallback:function(t,n){return Wt().memoizedState=[t,n===void 0?null:n],t},useContext:Bt,useEffect:Hg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Du(4194308,4,Yg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Du(4194308,4,t,n)},useInsertionEffect:function(t,n){Du(4,2,t,n)},useMemo:function(t,n){var s=Wt();n=n===void 0?null:n;var o=t();if(Ar){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Wt();if(s!==void 0){var h=s(n);if(Ar){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=D1.bind(null,Se,t),[o.memoizedState,t]},useRef:function(t){var n=Wt();return t={current:t},n.memoizedState=t},useState:function(t){t=Kh(t);var n=t.queue,s=ip.bind(null,Se,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Zh,useDeferredValue:function(t,n){var s=Wt();return Jh(s,t,n)},useTransition:function(){var t=Kh(!1);return t=Jg.bind(null,Se,t.queue,!0,!1),Wt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Se,h=Wt();if(Oe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Je===null)throw Error(r(349));(Ne&127)!==0||Cg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Hg(Ig.bind(null,o,f,t),[t]),o.flags|=2048,pa(9,{destroy:void 0},Ng.bind(null,o,f,s,n),null),s},useId:function(){var t=Wt(),n=Je.identifierPrefix;if(Oe){var s=di,o=fi;s=(o&~(1<<32-ut(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ru++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=A1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ef,useFormState:Pg,useActionState:Pg,useOptimistic:function(t){var n=Wt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=tf.bind(null,Se,!0,s),s.dispatch=n,[t,n]},useMemoCache:Gh,useCacheRefresh:function(){return Wt().memoizedState=I1.bind(null,Se)},useEffectEvent:function(t){var n=Wt(),s={impl:t};return n.memoizedState=s,function(){if((qe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},nf={readContext:Bt,use:Nu,useCallback:Xg,useContext:Bt,useEffect:$h,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:$g,useReducer:Iu,useRef:qg,useState:function(){return Iu(Vi)},useDebugValue:Zh,useDeferredValue:function(t,n){var s=ft();return Zg(s,Ke.memoizedState,t,n)},useTransition:function(){var t=Iu(Vi)[0],n=ft().memoizedState;return[typeof t=="boolean"?t:jo(t),n]},useSyncExternalStore:Rg,useId:tp,useHostTransitionStatus:ef,useFormState:jg,useActionState:jg,useOptimistic:function(t,n){var s=ft();return Mg(s,Ke,t,n)},useMemoCache:Gh,useCacheRefresh:np};nf.useEffectEvent=Fg;var op={readContext:Bt,use:Nu,useCallback:Xg,useContext:Bt,useEffect:$h,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:$g,useReducer:Yh,useRef:qg,useState:function(){return Yh(Vi)},useDebugValue:Zh,useDeferredValue:function(t,n){var s=ft();return Ke===null?Jh(s,t,n):Zg(s,Ke.memoizedState,t,n)},useTransition:function(){var t=Yh(Vi)[0],n=ft().memoizedState;return[typeof t=="boolean"?t:jo(t),n]},useSyncExternalStore:Rg,useId:tp,useHostTransitionStatus:ef,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,n){var s=ft();return Ke!==null?Mg(s,Ke,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:np};op.useEffectEvent=Fg;function sf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var rf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=vn(),h=ds(o);h.payload=n,s!=null&&(h.callback=s),n=ms(t,h,o),n!==null&&(un(n,t,o),Lo(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=vn(),h=ds(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ms(t,h,o),n!==null&&(un(n,t,o),Lo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=vn(),o=ds(s);o.tag=2,n!=null&&(o.callback=n),n=ms(t,o,s),n!==null&&(un(n,t,s),Lo(n,t,s))}};function lp(t,n,s,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Co(s,o)||!Co(h,f):!0}function up(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&rf.enqueueReplaceState(n,n.state,null)}function br(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=b({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function cp(t){cu(t)}function hp(t){console.error(t)}function fp(t){cu(t)}function xu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function dp(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function af(t,n,s){return s=ds(s),s.tag=3,s.payload={element:null},s.callback=function(){xu(t,n)},s}function mp(t){return t=ds(t),t.tag=3,t}function gp(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){dp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){dp(n,s,o),typeof h!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function O1(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&la(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?Gu():s.alternate===null&&lt===0&&(lt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Eu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Of(t,o,h)),!1;case 22:return s.flags|=65536,o===Eu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Of(t,o,h)),!1}throw Error(r(435,s.tag))}return Of(t,o,h),Gu(),!1}if(Oe)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==bh&&(t=Error(r(422),{cause:o}),Do(Cn(t,s)))):(o!==bh&&(n=Error(r(423),{cause:o}),Do(Cn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Cn(o,s),h=af(t.stateNode,o,h),Lh(t,h),lt!==4&&(lt=2)),!1;var f=Error(r(520),{cause:o});if(f=Cn(f,s),Xo===null?Xo=[f]:Xo.push(f),lt!==4&&(lt=2),n===null)return!0;o=Cn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=af(s.stateNode,o,t),Lh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Es===null||!Es.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=mp(h),gp(h,t,s,o),Lh(s,h),!1}s=s.return}while(s!==null);return!1}var of=Error(r(461)),St=!1;function qt(t,n,s,o){n.child=t===null?vg(n,null,s,o):Sr(n,t.child,s,o)}function pp(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return _r(n),o=Bh(t,n,s,p,f,h),E=qh(),t!==null&&!St?(Hh(t,n,h),Li(t,n,h)):(Oe&&E&&Sh(n),n.flags|=1,qt(t,n,o,h),n.child)}function yp(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!vh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,_p(t,n,f,o,h)):(t=mu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!gf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Co,s(p,o)&&t.ref===n.ref)return Li(t,n,h)}return n.flags|=1,t=Ii(f,o),t.ref=n.ref,t.return=n,n.child=t}function _p(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(Co(f,o)&&t.ref===n.ref)if(St=!1,n.pendingProps=o=f,gf(t,h))(t.flags&131072)!==0&&(St=!0);else return n.lanes=t.lanes,Li(t,n,h)}return lf(t,n,s,o,h)}function vp(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ep(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(n,f!==null?f.cachePool:null),f!==null?Sg(n,f):Uh(),Ag(n);else return o=n.lanes=536870912,Ep(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(_u(n,f.cachePool),Sg(n,f),ps(),n.memoizedState=null):(t!==null&&_u(n,null),Uh(),ps());return qt(t,n,h,s),n.child}function qo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ep(t,n,s,o,h){var f=Oh();return f=f===null?null:{parent:Et._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&_u(n,null),Uh(),Ag(n),t!==null&&la(t,n,o,!0),n.childLanes=h,null}function Vu(t,n){return n=ku({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Tp(t,n,s){return Sr(n,t.child,null,s),t=Vu(n,n.pendingProps),t.flags|=2,pn(n),n.memoizedState=null,t}function M1(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Oe){if(o.mode==="hidden")return t=Vu(n,o),n.lanes=536870912,qo(null,t);if(jh(n),(t=We)?(t=xy(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ls!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},s=sg(t),s.return=n,n.child=s,zt=n,We=null)):t=null,t===null)throw cs(n);return n.lanes=536870912,null}return Vu(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(jh(n),h)if(n.flags&256)n.flags&=-257,n=Tp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(St||la(t,n,s,!1),h=(s&t.childLanes)!==0,St||h){if(o=Je,o!==null&&(p=lo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,mr(t,p),un(o,t,p),of;Gu(),n=Tp(t,n,s)}else t=f.treeContext,We=Mn(p.nextSibling),zt=n,Oe=!0,us=null,Dn=!1,t!==null&&og(n,t),n=Vu(n,o),n.flags|=4096;return n}return t=Ii(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Lu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function lf(t,n,s,o,h){return _r(n),s=Bh(t,n,s,o,void 0,h),o=qh(),t!==null&&!St?(Hh(t,n,h),Li(t,n,h)):(Oe&&o&&Sh(n),n.flags|=1,qt(t,n,s,h),n.child)}function Sp(t,n,s,o,h,f){return _r(n),n.updateQueue=null,s=wg(n,o,s,h),bg(t),o=qh(),t!==null&&!St?(Hh(t,n,f),Li(t,n,f)):(Oe&&o&&Sh(n),n.flags|=1,qt(t,n,s,f),n.child)}function Ap(t,n,s,o,h){if(_r(n),n.stateNode===null){var f=sa,p=s.contextType;typeof p=="object"&&p!==null&&(f=Bt(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},xh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Bt(p):sa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(sf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&rf.enqueueReplaceState(f,f.state,null),Uo(n,o,f,h),ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=br(s,E);f.props=N;var j=f.context,F=s.contextType;p=sa,typeof F=="object"&&F!==null&&(p=Bt(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&up(n,f,o,p),fs=!1;var z=n.memoizedState;f.state=z,Uo(n,o,f,h),ko(),j=n.memoizedState,E||z!==j||fs?(typeof Y=="function"&&(sf(n,s,Y,o),j=n.memoizedState),(N=fs||lp(n,s,N,o,z,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Vh(t,n),p=n.memoizedProps,F=br(s,p),f.props=F,Y=n.pendingProps,z=f.context,j=s.contextType,N=sa,typeof j=="object"&&j!==null&&(N=Bt(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==N)&&up(n,f,o,N),fs=!1,z=n.memoizedState,f.state=z,Uo(n,o,f,h),ko();var H=n.memoizedState;p!==Y||z!==H||fs||t!==null&&t.dependencies!==null&&pu(t.dependencies)?(typeof E=="function"&&(sf(n,s,E,o),H=n.memoizedState),(F=fs||lp(n,s,F,o,z,H,N)||t!==null&&t.dependencies!==null&&pu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=N,o=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Lu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Sr(n,t.child,null,h),n.child=Sr(n,null,s,h)):qt(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Li(t,n,h),t}function bp(t,n,s,o){return pr(),n.flags|=256,qt(t,n,s,o),n.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(t){return{baseLanes:t,cachePool:dg()}}function hf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=_n),t}function wp(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(ht.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Oe){if(h?gs(n):ps(),(t=We)?(t=xy(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ls!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},s=sg(t),s.return=n,n.child=s,zt=n,We=null)):t=null,t===null)throw cs(n);return Yf(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ps(),h=n.mode,E=ku({mode:"hidden",children:E},h),o=gr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=cf(s),o.childLanes=hf(t,p,s),n.memoizedState=uf,qo(null,o)):(gs(n),ff(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(gs(n),n.flags&=-257,n=df(t,n,s)):n.memoizedState!==null?(ps(),n.child=t.child,n.flags|=128,n=null):(ps(),E=o.fallback,h=n.mode,o=ku({mode:"visible",children:o.children},h),E=gr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Sr(n,t.child,null,s),o=n.child,o.memoizedState=cf(s),o.childLanes=hf(t,p,s),n.memoizedState=uf,n=qo(null,o));else if(gs(n),Yf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(r(419)),o.stack="",o.digest=p,Do({value:o,source:null,stack:null}),n=df(t,n,s)}else if(St||la(t,n,s,!1),p=(s&t.childLanes)!==0,St||p){if(p=Je,p!==null&&(o=lo(p,s),o!==0&&o!==N.retryLane))throw N.retryLane=o,mr(t,o),un(p,t,o),of;Qf(E)||Gu(),n=df(t,n,s)}else Qf(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,We=Mn(E.nextSibling),zt=n,Oe=!0,us=null,Dn=!1,t!==null&&og(n,t),n=ff(n,o.children),n.flags|=4096);return n}return h?(ps(),E=o.fallback,h=n.mode,N=t.child,j=N.sibling,o=Ii(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,j!==null?E=Ii(j,E):(E=gr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,qo(null,o),o=n.child,E=t.child.memoizedState,E===null?E=cf(s):(h=E.cachePool,h!==null?(N=Et._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=dg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=hf(t,p,s),n.memoizedState=uf,qo(t.child,o)):(gs(n),s=t.child,t=s.sibling,s=Ii(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function ff(t,n){return n=ku({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ku(t,n){return t=mn(22,t,null,n),t.lanes=0,t}function df(t,n,s){return Sr(n,t.child,null,s),t=ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Rp(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Ch(t.return,n,s)}function mf(t,n,s,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Cp(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=ht.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,te(ht,p),qt(t,n,o,s),o=Oe?Io:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rp(t,s,n);else if(t.tag===19)Rp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&bu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),mf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}mf(n,!0,s,null,f,o);break;case"together":mf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Li(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),vs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(la(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Ii(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ii(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&pu(t)))}function x1(t,n,s){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),hs(n,Et,t.memoizedState.cache),pr();break;case 27:case 5:$s(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,jh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(gs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?wp(t,n,s):(gs(n),t=Li(t,n,s),t!==null?t.sibling:null);gs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(la(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Cp(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(ht,ht.current),o)break;return null;case 22:return n.lanes=0,vp(t,n,s,n.pendingProps);case 24:hs(n,Et,t.memoizedState.cache)}return Li(t,n,s)}function Np(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)St=!0;else{if(!gf(t,s)&&(n.flags&128)===0)return St=!1,x1(t,n,s);St=(t.flags&131072)!==0}else St=!1,Oe&&(n.flags&1048576)!==0&&ag(n,Io,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Er(n.elementType),n.type=t,typeof t=="function")vh(t)?(o=br(t,o),n.tag=1,n=Ap(null,n,t,o,s)):(n.tag=0,n=lf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Ce){n.tag=11,n=pp(null,n,t,o,s);break e}else if(h===D){n.tag=14,n=yp(null,n,t,o,s);break e}}throw n=tt(t)||t,Error(r(306,n,""))}}return n;case 0:return lf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=br(o,n.pendingProps),Ap(t,n,o,h,s);case 3:e:{if(It(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Vh(t,n),Uo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,hs(n,Et,o),o!==f.cache&&Nh(n,[Et],s,!0),ko(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=bp(t,n,o,s);break e}else if(o!==h){h=Cn(Error(r(424)),n),Do(h),n=bp(t,n,o,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,We=Mn(t.firstChild),zt=n,Oe=!0,us=null,Dn=!0,s=vg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(pr(),o===h){n=Li(t,n,s);break e}qt(t,n,o,s)}n=n.child}return n;case 26:return Lu(t,n),t===null?(s=jy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Oe||(s=n.type,t=n.pendingProps,o=Ju(Ae.current).createElement(s),o[yt]=n,o[Vt]=t,Ht(o,s,t),_t(o),n.stateNode=o):n.memoizedState=jy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $s(n),t===null&&Oe&&(o=n.stateNode=ky(n.type,n.pendingProps,Ae.current),zt=n,Dn=!0,h=We,bs(n.type)?(Kf=h,We=Mn(o.firstChild)):We=h),qt(t,n,n.pendingProps.children,s),Lu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Oe&&((h=o=We)&&(o=uT(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,zt=n,We=Mn(o.firstChild),Dn=!1,h=!0):h=!1),h||cs(n)),$s(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Hf(h,f)?o=null:p!==null&&Hf(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Bh(t,n,b1,null,null,s),il._currentValue=h),Lu(t,n),qt(t,n,o,s),n.child;case 6:return t===null&&Oe&&((t=s=We)&&(s=cT(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,zt=n,We=null,t=!0):t=!1),t||cs(n)),null;case 13:return wp(t,n,s);case 4:return It(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Sr(n,null,o,s):qt(t,n,o,s),n.child;case 11:return pp(t,n,n.type,n.pendingProps,s);case 7:return qt(t,n,n.pendingProps,s),n.child;case 8:return qt(t,n,n.pendingProps.children,s),n.child;case 12:return qt(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,hs(n,n.type,o.value),qt(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,_r(n),h=Bt(h),o=o(h),n.flags|=1,qt(t,n,o,s),n.child;case 14:return yp(t,n,n.type,n.pendingProps,s);case 15:return _p(t,n,n.type,n.pendingProps,s);case 19:return Cp(t,n,s);case 31:return M1(t,n,s);case 22:return vp(t,n,s,n.pendingProps);case 24:return _r(n),o=Bt(Et),t===null?(h=Oh(),h===null&&(h=Je,f=Ih(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},xh(n),hs(n,Et,h)):((t.lanes&s)!==0&&(Vh(t,n),Uo(n,null,null,s),ko()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),hs(n,Et,o)):(o=f.cache,hs(n,Et,o),o!==h.cache&&Nh(n,[Et],s,!0))),qt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ki(t){t.flags|=4}function pf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ty())t.flags|=8192;else throw Tr=Eu,Mh}else t.flags&=-16777217}function Ip(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fy(n))if(ty())t.flags|=8192;else throw Tr=Eu,Mh}function Uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Hl():536870912,t.lanes|=n,Ea|=n)}function Ho(t,n){if(!Oe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function et(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function V1(t,n,s){var o=n.pendingProps;switch(Ah(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(n),null;case 1:return et(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Mi(Et),nt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(oa(n)?ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wh())),et(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ki(n),f!==null?(et(n),Ip(n,f)):(et(n),pf(n,h,null,o,s))):f?f!==t.memoizedState?(ki(n),et(n),Ip(n,f)):(et(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ki(n),et(n),pf(n,h,t,o,s)),null;case 27:if(jr(n),s=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return et(n),null}t=ie.current,oa(n)?lg(n):(t=ky(h,o,s),n.stateNode=t,ki(n))}return et(n),null;case 5:if(jr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return et(n),null}if(f=ie.current,oa(n))lg(n);else{var p=Ju(Ae.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[yt]=n,f[Vt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Ht(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ki(n)}}return et(n),pf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ae.current,oa(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=zt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[yt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||wy(t.nodeValue,s)),t||cs(n,!0)}else t=Ju(t).createTextNode(o),t[yt]=n,n.stateNode=t}return et(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=oa(n),s!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[yt]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;et(n),t=!1}else s=wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return et(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=oa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[yt]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;et(n),h=!1}else h=wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Uu(n,n.updateQueue),et(n),null);case 4:return nt(),t===null&&Pf(n.stateNode.containerInfo),et(n),null;case 10:return Mi(n.type),et(n),null;case 19:if(K(ht),o=n.memoizedState,o===null)return et(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ho(o,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=bu(t),f!==null){for(n.flags|=128,Ho(o,!1),t=f.updateQueue,n.updateQueue=t,Uu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)ig(s,t),s=s.sibling;return te(ht,ht.current&1|2),Oe&&Di(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Zt()>qu&&(n.flags|=128,h=!0,Ho(o,!1),n.lanes=4194304)}else{if(!h)if(t=bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Uu(n,t),Ho(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Oe)return et(n),null}else 2*Zt()-o.renderingStartTime>qu&&s!==536870912&&(n.flags|=128,h=!0,Ho(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Zt(),t.sibling=null,s=ht.current,te(ht,h?s&1|2:s&1),Oe&&Di(n,o.treeForkCount),t):(et(n),null);case 22:case 23:return pn(n),Ph(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(et(n),n.subtreeFlags&6&&(n.flags|=8192)):et(n),s=n.updateQueue,s!==null&&Uu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&K(vr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Mi(Et),et(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function L1(t,n){switch(Ah(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Mi(Et),nt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return jr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(r(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(ht),null;case 4:return nt(),null;case 10:return Mi(n.type),null;case 22:case 23:return pn(n),Ph(),t!==null&&K(vr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Mi(Et),null;case 25:return null;default:return null}}function Dp(t,n){switch(Ah(n),n.tag){case 3:Mi(Et),nt();break;case 26:case 27:case 5:jr(n);break;case 4:nt();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:K(ht);break;case 10:Mi(n.type);break;case 22:case 23:pn(n),Ph(),t!==null&&K(vr);break;case 24:Mi(Et)}}function Fo(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Qe(n,n.return,E)}}function ys(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var N=s,j=E;try{j()}catch(F){Qe(h,N,F)}}}o=o.next}while(o!==f)}}catch(F){Qe(n,n.return,F)}}function Op(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Tg(n,s)}catch(o){Qe(t,t.return,o)}}}function Mp(t,n,s){s.props=br(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Qe(t,n,o)}}function Go(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){Qe(t,n,h)}}function mi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qe(t,n,h)}else s.current=null}function xp(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qe(t,t.return,h)}}function yf(t,n,s){try{var o=t.stateNode;iT(o,t.type,s,n),o[Vt]=n}catch(h){Qe(t,t.return,h)}}function Vp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&bs(t.type)||t.tag===4}function _f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&bs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Pn));else if(o!==4&&(o===27&&bs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(vf(t,n,s),t=t.sibling;t!==null;)vf(t,n,s),t=t.sibling}function Pu(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&bs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Pu(t,n,s),t=t.sibling;t!==null;)Pu(t,n,s),t=t.sibling}function Lp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ht(n,o,s),n[yt]=t,n[Vt]=s}catch(f){Qe(t,t.return,f)}}var Ui=!1,At=!1,Ef=!1,kp=typeof WeakSet=="function"?WeakSet:Set,kt=null;function k1(t,n){if(t=t.containerInfo,Bf=rc,t=Km(t),fh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,N=-1,j=0,F=0,Y=t,z=null;t:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(N=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)z=Y,Y=H;for(;;){if(Y===t)break t;if(z===s&&++j===h&&(E=p),z===f&&++F===o&&(N=p),(H=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=H}s=E===-1||N===-1?null:{start:E,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(qf={focusedElem:t,selectionRange:s},rc=!1,kt=n;kt!==null;)if(n=kt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,kt=t;else for(;kt!==null;){switch(n=kt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var re=br(s.type,h);t=o.getSnapshotBeforeUpdate(re,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(me){Qe(s,s.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Gf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,kt=t;break}kt=n.return}}function Up(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ji(t,s),o&4&&Fo(5,s);break;case 1:if(ji(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){Qe(s,s.return,p)}else{var h=br(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Qe(s,s.return,p)}}o&64&&Op(s),o&512&&Go(s,s.return);break;case 3:if(ji(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Tg(t,n)}catch(p){Qe(s,s.return,p)}}break;case 27:n===null&&o&4&&Lp(s);case 26:case 5:ji(t,s),n===null&&o&4&&xp(s),o&512&&Go(s,s.return);break;case 12:ji(t,s);break;case 31:ji(t,s),o&4&&zp(t,s);break;case 13:ji(t,s),o&4&&Bp(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=G1.bind(null,s),hT(t,s))));break;case 22:if(o=s.memoizedState!==null||Ui,!o){n=n!==null&&n.memoizedState!==null||At,h=Ui;var f=At;Ui=o,(At=n)&&!f?zi(t,s,(s.subtreeFlags&8772)!==0):ji(t,s),Ui=h,At=f}break;case 30:break;default:ji(t,s)}}function Pp(t){var n=t.alternate;n!==null&&(t.alternate=null,Pp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,rn=!1;function Pi(t,n,s){for(s=s.child;s!==null;)jp(t,n,s),s=s.sibling}function jp(t,n,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Vn,s)}catch{}switch(s.tag){case 26:At||mi(s,n),Pi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||mi(s,n);var o=st,h=rn;bs(s.type)&&(st=s.stateNode,rn=!1),Pi(t,n,s),el(s.stateNode),st=o,rn=h;break;case 5:At||mi(s,n);case 6:if(o=st,h=rn,st=null,Pi(t,n,s),st=o,rn=h,st!==null)if(rn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(s.stateNode)}catch(f){Qe(s,n,f)}else try{st.removeChild(s.stateNode)}catch(f){Qe(s,n,f)}break;case 18:st!==null&&(rn?(t=st,Oy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Na(t)):Oy(st,s.stateNode));break;case 4:o=st,h=rn,st=s.stateNode.containerInfo,rn=!0,Pi(t,n,s),st=o,rn=h;break;case 0:case 11:case 14:case 15:ys(2,s,n),At||ys(4,s,n),Pi(t,n,s);break;case 1:At||(mi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Mp(s,n,o)),Pi(t,n,s);break;case 21:Pi(t,n,s);break;case 22:At=(o=At)||s.memoizedState!==null,Pi(t,n,s),At=o;break;default:Pi(t,n,s)}}function zp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Na(t)}catch(s){Qe(n,n.return,s)}}}function Bp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Na(t)}catch(s){Qe(n,n.return,s)}}function U1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kp),n;default:throw Error(r(435,t.tag))}}function ju(t,n){var s=U1(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=Q1.bind(null,t,o);o.then(h,h)}})}function an(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(bs(E.type)){st=E.stateNode,rn=!1;break e}break;case 5:st=E.stateNode,rn=!1;break e;case 3:case 4:st=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(st===null)throw Error(r(160));jp(f,p,h),st=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)qp(n,t),n=n.sibling}var Fn=null;function qp(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),on(t),o&4&&(ys(3,t,t.return),Fo(3,t),ys(5,t,t.return));break;case 1:an(n,t),on(t),o&512&&(At||s===null||mi(s,s.return)),o&64&&Ui&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Fn;if(an(n,t),on(t),o&512&&(At||s===null||mi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ei]||f[yt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ht(f,o,s),f[yt]=t,_t(f),o=f;break e;case"link":var p=qy("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),Ht(f,o,s),h.head.appendChild(f);break;case"meta":if(p=qy("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=h.createElement(o),Ht(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[yt]=t,_t(f),o=f}t.stateNode=o}else Hy(h,t.type,t.stateNode);else t.stateNode=By(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Hy(h,t.type,t.stateNode):By(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&yf(t,t.memoizedProps,s.memoizedProps)}break;case 27:an(n,t),on(t),o&512&&(At||s===null||mi(s,s.return)),s!==null&&o&4&&yf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(an(n,t),on(t),o&512&&(At||s===null||mi(s,s.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(re){Qe(t,t.return,re)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,yf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Ef=!0);break;case 6:if(an(n,t),on(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(re){Qe(t,t.return,re)}}break;case 3:if(tc=null,h=Fn,Fn=Wu(n.containerInfo),an(n,t),Fn=h,on(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Na(n.containerInfo)}catch(re){Qe(t,t.return,re)}Ef&&(Ef=!1,Hp(t));break;case 4:o=Fn,Fn=Wu(t.stateNode.containerInfo),an(n,t),on(t),Fn=o;break;case 12:an(n,t),on(t);break;case 31:an(n,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ju(t,o)));break;case 13:an(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bu=Zt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ju(t,o)));break;case 22:h=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,j=Ui,F=At;if(Ui=j||h,At=F||N,an(n,t),At=F,Ui=j,on(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||N||Ui||At||wr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(f=N.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=N.stateNode;var Y=N.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(re){Qe(N,N.return,re)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(re){Qe(N,N.return,re)}}}else if(n.tag===18){if(s===null){N=n;try{var H=N.stateNode;h?My(H,!0):My(N.stateNode,!1)}catch(re){Qe(N,N.return,re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ju(t,s))));break;case 19:an(n,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ju(t,o)));break;case 30:break;case 21:break;default:an(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Vp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=_f(t);Pu(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var E=_f(t);Pu(t,E,p);break;case 3:case 4:var N=s.stateNode.containerInfo,j=_f(t);vf(t,j,N);break;default:throw Error(r(161))}}catch(F){Qe(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Hp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Up(t,n.alternate,n),n=n.sibling}function wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ys(4,n,n.return),wr(n);break;case 1:mi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Mp(n,n.return,s),wr(n);break;case 27:el(n.stateNode);case 26:case 5:mi(n,n.return),wr(n);break;case 22:n.memoizedState===null&&wr(n);break;case 30:wr(n);break;default:wr(n)}t=t.sibling}}function zi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:zi(h,f,s),Fo(4,f);break;case 1:if(zi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Qe(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Eg(N[h],E)}catch(j){Qe(o,o.return,j)}}s&&p&64&&Op(f),Go(f,f.return);break;case 27:Lp(f);case 26:case 5:zi(h,f,s),s&&o===null&&p&4&&xp(f),Go(f,f.return);break;case 12:zi(h,f,s);break;case 31:zi(h,f,s),s&&p&4&&zp(h,f);break;case 13:zi(h,f,s),s&&p&4&&Bp(h,f);break;case 22:f.memoizedState===null&&zi(h,f,s),Go(f,f.return);break;case 30:break;default:zi(h,f,s)}n=n.sibling}}function Tf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Oo(s))}function Sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Oo(t))}function Gn(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fp(t,n,s,o),n=n.sibling}function Fp(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,s,o),h&2048&&Fo(9,n);break;case 1:Gn(t,n,s,o);break;case 3:Gn(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Oo(t)));break;case 12:if(h&2048){Gn(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Qe(n,n.return,N)}}else Gn(t,n,s,o);break;case 31:Gn(t,n,s,o);break;case 13:Gn(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(t,n,s,o):Qo(t,n):f._visibility&2?Gn(t,n,s,o):(f._visibility|=2,ya(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Tf(p,n);break;case 24:Gn(t,n,s,o),h&2048&&Sf(n.alternate,n);break;default:Gn(t,n,s,o)}}function ya(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=s,N=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:ya(f,p,E,N,h),Fo(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?ya(f,p,E,N,h):Qo(f,p):(F._visibility|=2,ya(f,p,E,N,h)),h&&j&2048&&Tf(p.alternate,p);break;case 24:ya(f,p,E,N,h),h&&j&2048&&Sf(p.alternate,p);break;default:ya(f,p,E,N,h)}n=n.sibling}}function Qo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:Qo(s,o),h&2048&&Tf(o.alternate,o);break;case 24:Qo(s,o),h&2048&&Sf(o.alternate,o);break;default:Qo(s,o)}n=n.sibling}}var Yo=8192;function _a(t,n,s){if(t.subtreeFlags&Yo)for(t=t.child;t!==null;)Gp(t,n,s),t=t.sibling}function Gp(t,n,s){switch(t.tag){case 26:_a(t,n,s),t.flags&Yo&&t.memoizedState!==null&&AT(s,Fn,t.memoizedState,t.memoizedProps);break;case 5:_a(t,n,s);break;case 3:case 4:var o=Fn;Fn=Wu(t.stateNode.containerInfo),_a(t,n,s),Fn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Yo,Yo=16777216,_a(t,n,s),Yo=o):_a(t,n,s));break;default:_a(t,n,s)}}function Qp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ko(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];kt=o,Kp(o,t)}Qp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yp(t),t=t.sibling}function Yp(t){switch(t.tag){case 0:case 11:case 15:Ko(t),t.flags&2048&&ys(9,t,t.return);break;case 3:Ko(t);break;case 12:Ko(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,zu(t)):Ko(t);break;default:Ko(t)}}function zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];kt=o,Kp(o,t)}Qp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ys(8,n,n.return),zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,zu(n));break;default:zu(n)}t=t.sibling}}function Kp(t,n){for(;kt!==null;){var s=kt;switch(s.tag){case 0:case 11:case 15:ys(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,kt=o;else e:for(s=t;kt!==null;){o=kt;var h=o.sibling,f=o.return;if(Pp(o),o===s){kt=null;break e}if(h!==null){h.return=f,kt=h;break e}kt=f}}}var P1={getCacheForType:function(t){var n=Bt(Et),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Bt(Et).controller.signal}},j1=typeof WeakMap=="function"?WeakMap:Map,qe=0,Je=null,we=null,Ne=0,Ge=0,yn=null,_s=!1,va=!1,Af=!1,Bi=0,lt=0,vs=0,Rr=0,bf=0,_n=0,Ea=0,Xo=null,ln=null,wf=!1,Bu=0,Xp=0,qu=1/0,Hu=null,Es=null,Ot=0,Ts=null,Ta=null,qi=0,Rf=0,Cf=null,$p=null,$o=0,Nf=null;function vn(){return(qe&2)!==0&&Ne!==0?Ne&-Ne:G.T!==null?Vf():Fl()}function Zp(){if(_n===0)if((Ne&536870912)===0||Oe){var t=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),_n=t}else _n=536870912;return t=gn.current,t!==null&&(t.flags|=32),_n}function un(t,n,s){(t===Je&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(Sa(t,0),Ss(t,Ne,_n,!1)),er(t,s),((qe&2)===0||t!==Je)&&(t===Je&&((qe&2)===0&&(Rr|=s),lt===4&&Ss(t,Ne,_n,!1)),gi(t))}function Jp(t,n,s){if((qe&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Ln(t,n),h=o?q1(t,n):Df(t,n,!0),f=o;do{if(h===0){va&&!o&&Ss(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!z1(s)){h=Df(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=Xo;var N=E.current.memoizedState.isDehydrated;if(N&&(Sa(E,p).flags|=256),p=Df(E,p,!1),p!==2){if(Af&&!N){E.errorRecoveryDisabledLanes|=f,Rr|=f,h=4;break e}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Sa(t,0),Ss(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ss(o,n,_n,!_s);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Bu+300-Zt(),10<h)){if(Ss(o,n,_n,!_s),Zn(o,0,!0)!==0)break e;qi=n,o.timeoutHandle=Iy(Wp.bind(null,o,s,ln,Hu,wf,n,_n,Rr,Ea,_s,f,"Throttled",-0,0),h);break e}Wp(o,s,ln,Hu,wf,n,_n,Rr,Ea,_s,f,null,-0,0)}}break}while(!0);gi(t)}function Wp(t,n,s,o,h,f,p,E,N,j,F,Y,z,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},Gp(n,f,Y);var re=(f&62914560)===f?Bu-Zt():(f&4194048)===f?Xp-Zt():0;if(re=bT(Y,re),re!==null){qi=f,t.cancelPendingCommit=re(oy.bind(null,t,n,f,s,o,h,p,E,N,F,Y,null,z,H)),Ss(t,f,p,!j);return}}oy(t,n,f,s,o,h,p,E,N)}function z1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ss(t,n,s,o){n&=~bf,n&=~Rr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ut(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&tr(t,s,n)}function Fu(){return(qe&6)===0?(Zo(0),!1):!0}function If(){if(we!==null){if(Ge===0)var t=we.return;else t=we,Oi=yr=null,Fh(t),fa=null,xo=0,t=we;for(;t!==null;)Dp(t.alternate,t),t=t.return;we=null}}function Sa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,aT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),qi=0,If(),Je=t,we=s=Ii(t.current,null),Ne=n,Ge=0,yn=null,_s=!1,va=Ln(t,n),Af=!1,Ea=_n=bf=Rr=vs=lt=0,ln=Xo=null,wf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ut(o),f=1<<h;n|=t[h],o&=~f}return Bi=n,hu(),s}function ey(t,n){Se=null,G.H=Bo,n===ha||n===vu?(n=pg(),Ge=3):n===Mh?(n=pg(),Ge=4):Ge=n===of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,we===null&&(lt=1,xu(t,Cn(n,t.current)))}function ty(){var t=gn.current;return t===null?!0:(Ne&4194048)===Ne?On===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?t===On:!1}function ny(){var t=G.H;return G.H=Bo,t===null?Bo:t}function iy(){var t=G.A;return G.A=P1,t}function Gu(){lt=4,_s||(Ne&4194048)!==Ne&&gn.current!==null||(va=!0),(vs&134217727)===0&&(Rr&134217727)===0||Je===null||Ss(Je,Ne,_n,!1)}function Df(t,n,s){var o=qe;qe|=2;var h=ny(),f=iy();(Je!==t||Ne!==n)&&(Hu=null,Sa(t,n)),n=!1;var p=lt;e:do try{if(Ge!==0&&we!==null){var E=we,N=yn;switch(Ge){case 8:If(),p=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var j=Ge;if(Ge=0,yn=null,Aa(t,E,N,j),s&&va){p=0;break e}break;default:j=Ge,Ge=0,yn=null,Aa(t,E,N,j)}}B1(),p=lt;break}catch(F){ey(t,F)}while(!0);return n&&t.shellSuspendCounter++,Oi=yr=null,qe=o,G.H=h,G.A=f,we===null&&(Je=null,Ne=0,hu()),p}function B1(){for(;we!==null;)sy(we)}function q1(t,n){var s=qe;qe|=2;var o=ny(),h=iy();Je!==t||Ne!==n?(Hu=null,qu=Zt()+500,Sa(t,n)):va=Ln(t,n);e:do try{if(Ge!==0&&we!==null){n=we;var f=yn;t:switch(Ge){case 1:Ge=0,yn=null,Aa(t,n,f,1);break;case 2:case 9:if(mg(f)){Ge=0,yn=null,ry(n);break}n=function(){Ge!==2&&Ge!==9||Je!==t||(Ge=7),gi(t)},f.then(n,n);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:mg(f)?(Ge=0,yn=null,ry(n)):(Ge=0,yn=null,Aa(t,n,f,7));break;case 5:var p=null;switch(we.tag){case 26:p=we.memoizedState;case 5:case 27:var E=we;if(p?Fy(p):E.stateNode.complete){Ge=0,yn=null;var N=E.sibling;if(N!==null)we=N;else{var j=E.return;j!==null?(we=j,Qu(j)):we=null}break t}}Ge=0,yn=null,Aa(t,n,f,5);break;case 6:Ge=0,yn=null,Aa(t,n,f,6);break;case 8:If(),lt=6;break e;default:throw Error(r(462))}}H1();break}catch(F){ey(t,F)}while(!0);return Oi=yr=null,G.H=o,G.A=h,qe=s,we!==null?0:(Je=null,Ne=0,hu(),lt)}function H1(){for(;we!==null&&!rh();)sy(we)}function sy(t){var n=Np(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,n===null?Qu(t):we=n}function ry(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Sp(s,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=Sp(s,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:Fh(n);default:Dp(s,n),n=we=ig(n,Bi),n=Np(s,n,Bi)}t.memoizedProps=t.pendingProps,n===null?Qu(t):we=n}function Aa(t,n,s,o){Oi=yr=null,Fh(n),fa=null,xo=0;var h=n.return;try{if(O1(t,h,n,s,Ne)){lt=1,xu(t,Cn(s,t.current)),we=null;return}}catch(f){if(h!==null)throw we=h,f;lt=1,xu(t,Cn(s,t.current)),we=null;return}n.flags&32768?(Oe||o===1?t=!0:va||(Ne&536870912)!==0?t=!1:(_s=t=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ay(n,t)):Qu(n)}function Qu(t){var n=t;do{if((n.flags&32768)!==0){ay(n,_s);return}t=n.return;var s=V1(n.alternate,n,Bi);if(s!==null){we=s;return}if(n=n.sibling,n!==null){we=n;return}we=n=t}while(n!==null);lt===0&&(lt=5)}function ay(t,n){do{var s=L1(t.alternate,t);if(s!==null){s.flags&=32767,we=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){we=t;return}we=t=s}while(t!==null);lt=6,we=null}function oy(t,n,s,o,h,f,p,E,N){t.cancelPendingCommit=null;do Yu();while(Ot!==0);if((qe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=yh,lh(t,s,f,p,E,N),t===Je&&(we=Je=null,Ne=0),Ta=n,Ts=t,qi=s,Rf=f,Cf=h,$p=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Y1(Ji,function(){return fy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ee.p,ee.p=2,p=qe,qe|=4;try{k1(t,n,s)}finally{qe=p,ee.p=h,G.T=o}}Ot=1,ly(),uy(),cy()}}function ly(){if(Ot===1){Ot=0;var t=Ts,n=Ta,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=ee.p;ee.p=2;var h=qe;qe|=4;try{qp(n,t);var f=qf,p=Km(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ym(E.ownerDocument.documentElement,E)){if(N!==null&&fh(E)){var j=N.start,F=N.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var H=z.getSelection(),re=E.textContent.length,me=Math.min(N.start,re),$e=N.end===void 0?me:Math.min(N.end,re);!H.extend&&me>$e&&(p=$e,$e=me,me=p);var L=Qm(E,me),O=Qm(E,$e);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(L.node,L.offset),H.removeAllRanges(),me>$e?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}rc=!!Bf,qf=Bf=null}finally{qe=h,ee.p=o,G.T=s}}t.current=n,Ot=2}}function uy(){if(Ot===2){Ot=0;var t=Ts,n=Ta,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=ee.p;ee.p=2;var h=qe;qe|=4;try{Up(t,n.alternate,n)}finally{qe=h,ee.p=o,G.T=s}}Ot=3}}function cy(){if(Ot===4||Ot===3){Ot=0,Ul();var t=Ts,n=Ta,s=qi,o=$p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ot=5:(Ot=0,Ta=Ts=null,hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Es=null),wi(s),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Vn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ee.p,ee.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ee.p=h}}(qi&3)!==0&&Yu(),gi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Nf?$o++:($o=0,Nf=t):$o=0,Zo(0)}}function hy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Oo(n)))}function Yu(){return ly(),uy(),cy(),fy()}function fy(){if(Ot!==5)return!1;var t=Ts,n=Rf;Rf=0;var s=wi(qi),o=G.T,h=ee.p;try{ee.p=32>s?32:s,G.T=null,s=Cf,Cf=null;var f=Ts,p=qi;if(Ot=0,Ta=Ts=null,qi=0,(qe&6)!==0)throw Error(r(331));var E=qe;if(qe|=4,Yp(f.current),Fp(f,f.current,p,s),qe=E,Zo(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Vn,f)}catch{}return!0}finally{ee.p=h,G.T=o,hy(t,n)}}function dy(t,n,s){n=Cn(s,n),n=af(t.stateNode,n,2),t=ms(t,n,2),t!==null&&(er(t,2),gi(t))}function Qe(t,n,s){if(t.tag===3)dy(t,t,s);else for(;n!==null;){if(n.tag===3){dy(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Es===null||!Es.has(o))){t=Cn(s,t),s=mp(2),o=ms(n,s,2),o!==null&&(gp(s,o,n,t),er(o,2),gi(o));break}}n=n.return}}function Of(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new j1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Af=!0,h.add(s),t=F1.bind(null,t,n,s),n.then(t,t))}function F1(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Je===t&&(Ne&s)===s&&(lt===4||lt===3&&(Ne&62914560)===Ne&&300>Zt()-Bu?(qe&2)===0&&Sa(t,0):bf|=s,Ea===Ne&&(Ea=0)),gi(t)}function my(t,n){n===0&&(n=Hl()),t=mr(t,n),t!==null&&(er(t,n),gi(t))}function G1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),my(t,s)}function Q1(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),my(t,s)}function Y1(t,n){return Dt(t,n)}var Ku=null,ba=null,Mf=!1,Xu=!1,xf=!1,As=0;function gi(t){t!==ba&&t.next===null&&(ba===null?Ku=ba=t:ba=ba.next=t),Xu=!0,Mf||(Mf=!0,X1())}function Zo(t,n){if(!xf&&Xu){xf=!0;do for(var s=!1,o=Ku;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ut(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,_y(o,f))}else f=Ne,f=Zn(o,o===Je?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,_y(o,f));o=o.next}while(s);xf=!1}}function K1(){gy()}function gy(){Xu=Mf=!1;var t=0;As!==0&&rT()&&(t=As);for(var n=Zt(),s=null,o=Ku;o!==null;){var h=o.next,f=py(o,n);f===0?(o.next=null,s===null?Ku=h:s.next=h,h===null&&(ba=s)):(s=o,(t!==0||(f&3)!==0)&&(Xu=!0)),o=h}Ot!==0&&Ot!==5||Zo(t),As!==0&&(As=0)}function py(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-ut(f),E=1<<p,N=h[p];N===-1?((E&s)===0||(E&o)!==0)&&(h[p]=oh(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=Je,s=Ne,s=Zn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Zi(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ln(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Zi(o),wi(s)){case 2:case 8:s=ao;break;case 32:s=Ji;break;case 268435456:s=Pl;break;default:s=Ji}return o=yy.bind(null,t),s=Dt(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Zi(o),t.callbackPriority=2,t.callbackNode=null,2}function yy(t,n){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Yu()&&t.callbackNode!==s)return null;var o=Ne;return o=Zn(t,t===Je?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Jp(t,o,n),py(t,Zt()),t.callbackNode!=null&&t.callbackNode===s?yy.bind(null,t):null)}function _y(t,n){if(Yu())return null;Jp(t,n,!0)}function X1(){oT(function(){(qe&6)!==0?Dt(ro,K1):gy()})}function Vf(){if(As===0){var t=ua;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),As=t}return As}function vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Kr(""+t)}function Ey(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function $1(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=vy((h[Vt]||null).action),p=o.submitter;p&&(n=(n=p[Vt]||null)?vy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new li("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(As!==0){var N=p?Ey(h,p):new FormData(h);Wh(s,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=p?Ey(h,p):new FormData(h),Wh(s,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var Lf=0;Lf<ph.length;Lf++){var kf=ph[Lf],Z1=kf.toLowerCase(),J1=kf[0].toUpperCase()+kf.slice(1);Hn(Z1,"on"+J1)}Hn(Zm,"onAnimationEnd"),Hn(Jm,"onAnimationIteration"),Hn(Wm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(m1,"onTransitionRun"),Hn(g1,"onTransitionStart"),Hn(p1,"onTransitionCancel"),Hn(eg,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Ty(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],N=E.instance,j=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){cu(F)}h.currentTarget=null,f=N}else for(p=0;p<o.length;p++){if(E=o[p],N=E.instance,j=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){cu(F)}h.currentTarget=null,f=N}}}}function Re(t,n){var s=n[Hr];s===void 0&&(s=n[Hr]=new Set);var o=t+"__bubble";s.has(o)||(Sy(n,t,2,!1),s.add(o))}function Uf(t,n,s){var o=0;n&&(o|=4),Sy(s,t,o,n)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Pf(t){if(!t[$u]){t[$u]=!0,uo.forEach(function(s){s!=="selectionchange"&&(W1.has(s)||Uf(s,!1,t),Uf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[$u]||(n[$u]=!0,Uf("selectionchange",!1,n))}}function Sy(t,n,s,o){switch(Zy(n)){case 2:var h=CT;break;case 8:h=NT;break;default:h=Wf}s=h.bind(null,n,s,t),h=void 0,!ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function jf(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ti(E),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){o=f=p;continue e}E=E.parentNode}}o=o.return}ss(function(){var j=f,F=An(s),Y=[];e:{var z=tg.get(t);if(z!==void 0){var H=li,re=t;switch(t){case"keypress":if(lr(s)===0)break e;case"keydown":case"keyup":H=ou;break;case"focusin":re="focus",H=cr;break;case"focusout":re="blur",H=cr;break;case"beforeblur":case"afterblur":H=cr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Zm:case Jm:case Wm:H=eu;break;case eg:H=A;break;case"scroll":case"scrollend":H=So;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ni;break;case"toggle":case"beforetoggle":H=Te}var me=(n&4)!==0,$e=!me&&(t==="scroll"||t==="scrollend"),L=me?z!==null?z+"Capture":null:z;me=[];for(var O=j,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||L===null||(Q=jn(O,L),Q!=null&&me.push(Wo(O,Q,P))),$e)break;O=O.return}0<me.length&&(z=new H(z,re,null,s,F),Y.push({event:z,listeners:me}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&s!==vo&&(re=s.relatedTarget||s.fromElement)&&(ti(re)||re[Wn]))break e;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(re=s.relatedTarget||s.toElement,H=j,re=re?ti(re):null,re!==null&&($e=c(re),me=re.tag,re!==$e||me!==5&&me!==27&&me!==6)&&(re=null)):(H=null,re=j),H!==re)){if(me=Ao,Q="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(me=Ni,Q="onPointerLeave",L="onPointerEnter",O="pointer"),$e=H==null?z:hn(H),P=re==null?z:hn(re),z=new me(Q,O+"leave",H,s,F),z.target=$e,z.relatedTarget=P,Q=null,ti(F)===j&&(me=new me(L,O+"enter",re,s,F),me.target=P,me.relatedTarget=$e,Q=me),$e=Q,H&&re)t:{for(me=eT,L=H,O=re,P=0,Q=L;Q;Q=me(Q))P++;Q=0;for(var ce=O;ce;ce=me(ce))Q++;for(;0<P-Q;)L=me(L),P--;for(;0<Q-P;)O=me(O),Q--;for(;P--;){if(L===O||O!==null&&L===O.alternate){me=L;break t}L=me(L),O=me(O)}me=null}else me=null;H!==null&&Ay(Y,z,H,me,!1),re!==null&&$e!==null&&Ay(Y,$e,re,me,!0)}}e:{if(z=j?hn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var je=zm;else if(Pm(z))if(Bm)je=h1;else{je=u1;var ae=l1}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Yr(j.elementType)&&(je=zm):je=c1;if(je&&(je=je(t,j))){jm(Y,je,s,F);break e}ae&&ae(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&po(z,"number",z.value)}switch(ae=j?hn(j):window,t){case"focusin":(Pm(ae)||ae.contentEditable==="true")&&(ta=ae,dh=j,No=null);break;case"focusout":No=dh=ta=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Xm(Y,s,F);break;case"selectionchange":if(d1)break;case"keydown":case"keyup":Xm(Y,s,F)}var be;if(Be)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ea?hr(t,s)&&(Ie="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ie="onCompositionStart");Ie&&(hi&&s.locale!=="ko"&&(ea||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ea&&(be=To()):(oi=F,Eo="value"in oi?oi.value:oi.textContent,ea=!0)),ae=Zu(j,Ie),0<ae.length&&(Ie=new ci(Ie,t,null,s,F),Y.push({event:Ie,listeners:ae}),be?Ie.data=be:(be=Wr(s),be!==null&&(Ie.data=be)))),(be=wn?s1(t,s):r1(t,s))&&(Ie=Zu(j,"onBeforeInput"),0<Ie.length&&(ae=new ci("onBeforeInput","beforeinput",null,s,F),Y.push({event:ae,listeners:Ie}),ae.data=be)),$1(Y,t,j,s,F)}Ty(Y,n)})}function Wo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Zu(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(t,s),h!=null&&o.unshift(Wo(t,h,f)),h=jn(t,n),h!=null&&o.push(Wo(t,h,f))),t.tag===3)return o;t=t.return}return[]}function eT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ay(t,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,N=E.alternate,j=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||j===null||(N=j,h?(j=jn(s,f),j!=null&&p.unshift(Wo(s,j,N))):h||(j=jn(s,f),j!=null&&p.push(Wo(s,j,N)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var tT=/\r\n?/g,nT=/\u0000|\uFFFD/g;function by(t){return(typeof t=="string"?t:""+t).replace(tT,`
`).replace(nT,"")}function wy(t,n){return n=by(n),by(t)===n}function Xe(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(t,""+o);break;case"className":fn(t,"class",o);break;case"tabIndex":fn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,s,o);break;case"style":_o(t,o,f);break;case"data":if(n!=="object"){fn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Kr(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xe(t,n,"name",h.name,h,null),Xe(t,n,"formEncType",h.formEncType,h,null),Xe(t,n,"formMethod",h.formMethod,h,null),Xe(t,n,"formTarget",h.formTarget,h,null)):(Xe(t,n,"encType",h.encType,h,null),Xe(t,n,"method",h.method,h,null),Xe(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Kr(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Pn);break;case"onScroll":o!=null&&Re("scroll",t);break;case"onScrollEnd":o!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Kr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Re("beforetoggle",t),Re("toggle",t),Gr(t,"popover",o);break;case"xlinkActuate":vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":vt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":vt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":vt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":vt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Gr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Zl.get(s)||s,Gr(t,s,o))}}function zf(t,n,s,o,h,f){switch(s){case"style":_o(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof o=="string"?sn(t,o):(typeof o=="number"||typeof o=="bigint")&&sn(t,""+o);break;case"onScroll":o!=null&&Re("scroll",t);break;case"onScrollEnd":o!=null&&Re("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!co.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Vt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Gr(t,s,o)}}}function Ht(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xe(t,n,f,p,s,null)}}h&&Xe(t,n,"srcSet",s.srcSet,s,null),o&&Xe(t,n,"src",s.src,s,null);return;case"input":Re("invalid",t);var E=f=p=h=null,N=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":N=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Xe(t,n,o,F,s,null)}}Kl(t,f,E,N,j,p,h,!1);return;case"select":Re("invalid",t),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Xe(t,n,h,E,s,null)}n=f,s=p,t.multiple=!!o,n!=null?es(t,!!o,n,!1):s!=null&&es(t,!!o,s,!0);return;case"textarea":Re("invalid",t),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xe(t,n,p,E,s,null)}ts(t,o,h,f);return;case"option":for(N in s)s.hasOwnProperty(N)&&(o=s[N],o!=null)&&(N==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Xe(t,n,N,o,s,null));return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Re(Jo[o],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xe(t,n,j,o,s,null)}return;default:if(Yr(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&zf(t,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Xe(t,n,E,o,s,null))}function iT(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,N=null,j=null,F=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=Y;default:o.hasOwnProperty(H)||Xe(t,n,H,null,o,Y)}}for(var z in o){var H=o[z];if(Y=s[z],o.hasOwnProperty(z)&&(H!=null||Y!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Y&&Xe(t,n,z,H,o,Y)}}Qr(t,p,E,N,j,F,f,h);return;case"select":H=p=E=z=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:o.hasOwnProperty(f)||Xe(t,n,f,null,o,N)}for(h in o)if(f=o[h],N=s[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==N&&Xe(t,n,h,f,o,N)}n=E,s=p,o=H,z!=null?es(t,!!s,z,!1):!!o!=!!s&&(n!=null?es(t,!!s,n,!0):es(t,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xe(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Xe(t,n,p,h,o,f)}Xl(t,z,H);return;case"option":for(var re in s)z=s[re],s.hasOwnProperty(re)&&z!=null&&!o.hasOwnProperty(re)&&(re==="selected"?t.selected=!1:Xe(t,n,re,null,o,z));for(N in o)z=o[N],H=s[N],o.hasOwnProperty(N)&&z!==H&&(z!=null||H!=null)&&(N==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":Xe(t,n,N,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in s)z=s[me],s.hasOwnProperty(me)&&z!=null&&!o.hasOwnProperty(me)&&Xe(t,n,me,null,o,z);for(j in o)if(z=o[j],H=s[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Xe(t,n,j,z,o,H)}return;default:if(Yr(n)){for(var $e in s)z=s[$e],s.hasOwnProperty($e)&&z!==void 0&&!o.hasOwnProperty($e)&&zf(t,n,$e,void 0,o,z);for(F in o)z=o[F],H=s[F],!o.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||zf(t,n,F,z,o,H);return}}for(var L in s)z=s[L],s.hasOwnProperty(L)&&z!=null&&!o.hasOwnProperty(L)&&Xe(t,n,L,null,o,z);for(Y in o)z=o[Y],H=s[Y],!o.hasOwnProperty(Y)||z===H||z==null&&H==null||Xe(t,n,Y,z,o,H)}function Ry(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Ry(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var N=s[o],j=N.startTime;if(j>E)break;var F=N.transferSize,Y=N.initiatorType;F&&Ry(Y)&&(N=N.responseEnd,p+=F*(N<E?1:(E-j)/(N-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bf=null,qf=null;function Ju(t){return t.nodeType===9?t:t.ownerDocument}function Cy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ff=null;function rT(){var t=window.event;return t&&t.type==="popstate"?t===Ff?!1:(Ff=t,!0):(Ff=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,aT=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,oT=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(t){return Dy.resolve(null).then(t).catch(lT)}:Iy;function lT(t){setTimeout(function(){throw t})}function bs(t){return t==="head"}function Oy(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Na(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")el(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,el(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&el(t.ownerDocument.body);s=h}while(s);Na(n)}function My(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function Gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Gf(s),Fr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function uT(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function cT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Mn(t.nextSibling),t===null))return null;return t}function xy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function Qf(t){return t.data==="$?"||t.data==="$~"}function Yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hT(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Kf=null;function Vy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Mn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Ly(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function ky(t,n,s){switch(n=Ju(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function el(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Fr(t)}var xn=new Map,Uy=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=ee.d;ee.d={f:fT,r:dT,D:mT,C:gT,L:pT,m:yT,X:vT,S:_T,M:ET};function fT(){var t=Hi.f(),n=Fu();return t||n}function dT(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?ep(n):Hi.r(t)}var wa=typeof document>"u"?null:document;function Py(t,n,s){var o=wa;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Uy.has(h)||(Uy.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ht(n,"link",t),_t(n),o.head.appendChild(n)))}}function mT(t){Hi.D(t),Py("dns-prefetch",t,null)}function gT(t,n){Hi.C(t,n),Py("preconnect",t,n)}function pT(t,n,s){Hi.L(t,n,s);var o=wa;if(o&&t&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var f=h;switch(n){case"style":f=Ra(t);break;case"script":f=Ca(t)}xn.has(f)||(t=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),xn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(tl(f))||n==="script"&&o.querySelector(nl(f))||(n=o.createElement("link"),Ht(n,"link",t),_t(n),o.head.appendChild(n)))}}function yT(t,n){Hi.m(t,n);var s=wa;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ca(t)}if(!xn.has(f)&&(t=b({rel:"modulepreload",href:t},n),xn.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(nl(f)))return}o=s.createElement("link"),Ht(o,"link",t),_t(o),s.head.appendChild(o)}}}function _T(t,n,s){Hi.S(t,n,s);var o=wa;if(o&&t){var h=ni(o).hoistableStyles,f=Ra(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(tl(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},s),(s=xn.get(f))&&Xf(t,s);var N=p=o.createElement("link");_t(N),Ht(N,"link",t),N._p=new Promise(function(j,F){N.onload=j,N.onerror=F}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ec(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function vT(t,n){Hi.X(t,n);var s=wa;if(s&&t){var o=ni(s).hoistableScripts,h=Ca(t),f=o.get(h);f||(f=s.querySelector(nl(h)),f||(t=b({src:t,async:!0},n),(n=xn.get(h))&&$f(t,n),f=s.createElement("script"),_t(f),Ht(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function ET(t,n){Hi.M(t,n);var s=wa;if(s&&t){var o=ni(s).hoistableScripts,h=Ca(t),f=o.get(h);f||(f=s.querySelector(nl(h)),f||(t=b({src:t,async:!0,type:"module"},n),(n=xn.get(h))&&$f(t,n),f=s.createElement("script"),_t(f),Ht(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function jy(t,n,s,o){var h=(h=Ae.current)?Wu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ra(s.href),s=ni(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ra(s.href);var f=ni(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(tl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),xn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xn.set(t,s),f||TT(h,t,s,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ca(s),s=ni(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ra(t){return'href="'+nn(t)+'"'}function tl(t){return'link[rel="stylesheet"]['+t+"]"}function zy(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function TT(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ht(n,"link",s),_t(n),t.head.appendChild(n))}function Ca(t){return'[src="'+nn(t)+'"]'}function nl(t){return"script[async]"+t}function By(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,_t(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),_t(o),Ht(o,"style",h),ec(o,s.precedence,t),n.instance=o;case"stylesheet":h=Ra(s.href);var f=t.querySelector(tl(h));if(f)return n.state.loading|=4,n.instance=f,_t(f),f;o=zy(s),(h=xn.get(h))&&Xf(o,h),f=(t.ownerDocument||t).createElement("link"),_t(f);var p=f;return p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),Ht(f,"link",o),n.state.loading|=4,ec(f,s.precedence,t),n.instance=f;case"script":return f=Ca(s.src),(h=t.querySelector(nl(f)))?(n.instance=h,_t(h),h):(o=s,(h=xn.get(f))&&(o=b({},s),$f(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),_t(h),Ht(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ec(o,s.precedence,t));return n.instance}function ec(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var tc=null;function qy(t,n,s){if(tc===null){var o=new Map,h=tc=new Map;h.set(s,o)}else h=tc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[ei]||f[yt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function Hy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function ST(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function AT(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ra(o.href),f=n.querySelector(tl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=nc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,_t(f);return}f=n.ownerDocument||n,o=zy(o),(h=xn.get(h))&&Xf(o,h),f=f.createElement("link"),_t(f);var p=f;p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),Ht(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=nc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Zf=0;function bT(t,n){return t.stylesheets&&t.count===0&&sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&sc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Zf===0&&(Zf=62500*sT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&sc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Zf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ic=null;function sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ic=new Map,n.forEach(wT,t),ic=null,nc.call(t))}function wT(t,n){if(!(n.state.loading&4)){var s=ic.get(t);if(s)var o=s.get(null);else{s=new Map,ic.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var il={$$typeof:ue,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function RT(t,n,s,o,h,f,p,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Gy(t,n,s,o,h,f,p,E,N,j,F,Y){return t=new RT(t,n,s,p,N,j,F,Y,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),t.current=f,f.stateNode=t,n=Ih(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},xh(f),t}function Qy(t){return t?(t=sa,t):sa}function Yy(t,n,s,o,h,f){h=Qy(h),o.context===null?o.context=h:o.pendingContext=h,o=ds(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ms(t,o,n),s!==null&&(un(s,t,n),Lo(s,t,n))}function Ky(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Jf(t,n){Ky(t,n),(t=t.alternate)&&Ky(t,n)}function Xy(t){if(t.tag===13||t.tag===31){var n=mr(t,67108864);n!==null&&un(n,t,67108864),Jf(t,67108864)}}function $y(t){if(t.tag===13||t.tag===31){var n=vn();n=nr(n);var s=mr(t,n);s!==null&&un(s,t,n),Jf(t,n)}}var rc=!0;function CT(t,n,s,o){var h=G.T;G.T=null;var f=ee.p;try{ee.p=2,Wf(t,n,s,o)}finally{ee.p=f,G.T=h}}function NT(t,n,s,o){var h=G.T;G.T=null;var f=ee.p;try{ee.p=8,Wf(t,n,s,o)}finally{ee.p=f,G.T=h}}function Wf(t,n,s,o){if(rc){var h=ed(o);if(h===null)jf(t,n,o,ac,s),Jy(t,o);else if(DT(h,t,n,s,o))o.stopPropagation();else if(Jy(t,o),n&4&&-1<IT.indexOf(t)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=$n(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var N=1<<31-ut(p);E.entanglements[1]|=N,p&=~N}gi(f),(qe&6)===0&&(qu=Zt()+500,Zo(0))}}break;case 31:case 13:E=mr(f,2),E!==null&&un(E,f,2),Fu(),Jf(f,2)}if(f=ed(o),f===null&&jf(t,n,o,ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else jf(t,n,o,null,s)}}function ed(t){return t=An(t),td(t)}var ac=null;function td(t){if(ac=null,t=ti(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ac=t,null}function Zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Js()){case ro:return 2;case ao:return 8;case Ji:case ah:return 32;case Pl:return 268435456;default:return 32}default:return 32}}var nd=!1,ws=null,Rs=null,Cs=null,sl=new Map,rl=new Map,Ns=[],IT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(t,n){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(n.pointerId)}}function al(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&Xy(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function DT(t,n,s,o,h){switch(n){case"focusin":return ws=al(ws,t,n,s,o,h),!0;case"dragenter":return Rs=al(Rs,t,n,s,o,h),!0;case"mouseover":return Cs=al(Cs,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return sl.set(f,al(sl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,rl.set(f,al(rl.get(f)||null,t,n,s,o,h)),!0}return!1}function Wy(t){var n=ti(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,kn(t.priority,function(){$y(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,kn(t.priority,function(){$y(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=ed(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);vo=o,s.target.dispatchEvent(o),vo=null}else return n=Sn(s),n!==null&&Xy(n),t.blockedOn=s,!1;n.shift()}return!0}function e_(t,n,s){oc(t)&&s.delete(n)}function OT(){nd=!1,ws!==null&&oc(ws)&&(ws=null),Rs!==null&&oc(Rs)&&(Rs=null),Cs!==null&&oc(Cs)&&(Cs=null),sl.forEach(e_),rl.forEach(e_)}function lc(t,n){t.blockedOn===n&&(t.blockedOn=null,nd||(nd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,OT)))}var uc=null;function t_(t){uc!==t&&(uc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){uc===t&&(uc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(td(o||s)===null)continue;break}var f=Sn(s);f!==null&&(t.splice(n,3),n-=3,Wh(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Na(t){function n(N){return lc(N,t)}ws!==null&&lc(ws,t),Rs!==null&&lc(Rs,t),Cs!==null&&lc(Cs,t),sl.forEach(n),rl.forEach(n);for(var s=0;s<Ns.length;s++){var o=Ns[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ns.length&&(s=Ns[0],s.blockedOn===null);)Wy(s),s.blockedOn===null&&Ns.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Vt]||null;if(typeof f=="function")p||t_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Vt]||null)E=p.formAction;else if(td(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),t_(s)}}}function n_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function id(t){this._internalRoot=t}cc.prototype.render=id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=vn();Yy(s,o,t,n,null,null)},cc.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Yy(t.current,2,null,t,null,null),Fu(),n[Wn]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Fl();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ns.length&&n!==0&&n<Ns[s].priority;s++);Ns.splice(s,0,t),s===0&&Wy(t)}};var i_=e.version;if(i_!=="19.2.3")throw Error(r(527,i_,"19.2.3"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var MT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Vn=hc.inject(MT),Pt=hc}catch{}}return ll.createRoot=function(t,n){if(!l(t))throw Error(r(299));var s=!1,o="",h=cp,f=hp,p=fp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Gy(t,1,!1,null,null,s,o,null,h,f,p,n_),t[Wn]=n.current,Pf(t),new id(n)},ll.hydrateRoot=function(t,n,s){if(!l(t))throw Error(r(299));var o=!1,h="",f=cp,p=hp,E=fp,N=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=Gy(t,1,!0,n,s??null,o,h,N,f,p,E,n_),n.context=Qy(null),s=n.current,o=vn(),o=nr(o),h=ds(o),h.callback=null,ms(s,h,o),s=o,n.current.lanes=s,er(n,s),gi(n),t[Wn]=n.current,Pf(t),new cc(n)},ll.version="19.2.3",ll}var d_;function qT(){if(d_)return ad.exports;d_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),ad.exports=BT(),ad.exports}var HT=qT();const m_=a=>{let e;const i=new Set,r=(v,T)=>{const b=typeof v=="function"?v(e):v;if(!Object.is(b,e)){const R=e;e=T??(typeof b!="object"||b===null)?b:Object.assign({},e,b),i.forEach(q=>q(e,R))}},l=()=>e,y={setState:r,getState:l,getInitialState:()=>g,subscribe:v=>(i.add(v),()=>i.delete(v))},g=e=a(r,l,y);return y},FT=(a=>a?m_(a):m_),GT=a=>a;function QT(a,e=GT){const i=ul.useSyncExternalStore(a.subscribe,ul.useCallback(()=>e(a.getState()),[a,e]),ul.useCallback(()=>e(a.getInitialState()),[a,e]));return ul.useDebugValue(i),i}const YT=a=>{const e=FT(a),i=r=>QT(e,r);return Object.assign(i,e),i},KT=(a=>YT);function XT(a,e){let i;try{i=a()}catch{return}return{getItem:l=>{var c;const d=g=>g===null?null:JSON.parse(g,void 0),y=(c=i.getItem(l))!=null?c:null;return y instanceof Promise?y.then(d):d(y)},setItem:(l,c)=>i.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>i.removeItem(l)}}const Ad=a=>e=>{try{const i=a(e);return i instanceof Promise?i:{then(r){return Ad(r)(i)},catch(r){return this}}}catch(i){return{then(r){return this},catch(r){return Ad(r)(i)}}}},$T=(a,e)=>(i,r,l)=>{let c={storage:XT(()=>localStorage),partialize:$=>$,version:0,merge:($,W)=>({...W,...$}),...e},d=!1;const y=new Set,g=new Set;let v=c.storage;if(!v)return a((...$)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...$)},r,l);const T=()=>{const $=c.partialize({...r()});return v.setItem(c.name,{state:$,version:c.version})},b=l.setState;l.setState=($,W)=>(b($,W),T());const R=a((...$)=>(i(...$),T()),r,l);l.getInitialState=()=>R;let q;const ne=()=>{var $,W;if(!v)return;d=!1,y.forEach(le=>{var ue;return le((ue=r())!=null?ue:R)});const de=((W=c.onRehydrateStorage)==null?void 0:W.call(c,($=r())!=null?$:R))||void 0;return Ad(v.getItem.bind(v))(c.name).then(le=>{if(le)if(typeof le.version=="number"&&le.version!==c.version){if(c.migrate){const ue=c.migrate(le.state,le.version);return ue instanceof Promise?ue.then(Ce=>[!0,Ce]):[!0,ue]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,le.state];return[!1,void 0]}).then(le=>{var ue;const[Ce,Ze]=le;if(q=c.merge(Ze,(ue=r())!=null?ue:R),i(q,!0),Ce)return T()}).then(()=>{de?.(q,void 0),q=r(),d=!0,g.forEach(le=>le(q))}).catch(le=>{de?.(void 0,le)})};return l.persist={setOptions:$=>{c={...c,...$},$.storage&&(v=$.storage)},clearStorage:()=>{v?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>ne(),hasHydrated:()=>d,onHydrate:$=>(y.add($),()=>{y.delete($)}),onFinishHydration:$=>(g.add($),()=>{g.delete($)})},c.skipHydration||ne(),q||R},ZT=$T,Qn=(a,e)=>a.length?a.filter(i=>{if(e.searchQuery){const r=e.searchQuery.toLowerCase(),l=(i.referencia||"").toLowerCase().includes(r),c=(i.ref||[]).some(g=>(g||"").toLowerCase().includes(r)),d=(i.oem||[]).some(g=>(g||"").toLowerCase().includes(r)),y=(i.fmsi||[]).some(g=>(g||"").toLowerCase().includes(r));if(!l&&!c&&!d&&!y)return!1}if(e.selectedPosition){const r=e.selectedPosition.toUpperCase();if(i.posicion!==r&&i.posicion!=="AMBAS")return!1}if(e.selectedBrand&&(!i.aplicaciones.some(l=>l.marca.toLowerCase()===e.selectedBrand.toLowerCase())||e.selectedModel&&(!i.aplicaciones.some(c=>c.marca.toLowerCase()===e.selectedBrand.toLowerCase()&&c.modelo.toLowerCase()===e.selectedModel.toLowerCase())||e.selectedYear&&!i.aplicaciones.some(d=>d.marca.toLowerCase()===e.selectedBrand.toLowerCase()&&d.modelo.toLowerCase()===e.selectedModel.toLowerCase()&&d.ao===e.selectedYear)))||e.selectedBrandTags.length>0&&!i.aplicaciones.some(l=>e.selectedBrandTags.some(c=>c.toLowerCase()===l.marca.toLowerCase()))||e.oemReference&&!(i.oem||[]).some(l=>(l||"").toLowerCase().includes(e.oemReference.toLowerCase()))||e.fmsiReference&&!(i.fmsi||[]).some(l=>(l||"").toLowerCase().includes(e.fmsiReference.toLowerCase())))return!1;if(e.width){const r=parseFloat(e.width);if(i.medidas.ancho!==r)return!1}if(e.height){const r=parseFloat(e.height);if(i.medidas.alto!==r)return!1}return!0}):[],g_={searchQuery:"",selectedBrand:"",selectedModel:"",selectedYear:"",selectedPosition:null,selectedBrandTags:[],oemReference:"",fmsiReference:"",width:"",height:""},JT={currentPage:1,itemsPerPage:24,isCompareModalOpen:!1,isFavoritesModalOpen:!1,isHistoryModalOpen:!1,isProductDetailModalOpen:!1,selectedProductId:null,notifications:[]},oe=KT()(ZT((a,e)=>({products:[],filteredProducts:[],filters:g_,favorites:[],comparisons:[],searchHistory:[],theme:"dark",ui:JT,isNotificationPanelOpen:!1,toggleNotificationPanel:()=>a(i=>({isNotificationPanelOpen:!i.isNotificationPanelOpen})),closeNotificationPanel:()=>a({isNotificationPanelOpen:!1}),notificationMessage:null,pwaUpdateAvailable:!1,setProducts:i=>a({products:i,filteredProducts:Qn(i,e().filters)}),setFilteredProducts:i=>a({filteredProducts:i}),setNotificationMessage:i=>a({notificationMessage:i}),setPwaUpdateAvailable:i=>a({pwaUpdateAvailable:i}),setSearchQuery:i=>a(r=>{const l={...r.filters,searchQuery:i};return{filters:l,filteredProducts:Qn(r.products,l),ui:{...r.ui,currentPage:1}}}),setSelectedBrand:i=>a(r=>{const l={...r.filters,selectedBrand:i,selectedModel:"",selectedYear:""};return{filters:l,filteredProducts:Qn(r.products,l),ui:{...r.ui,currentPage:1}}}),setSelectedModel:i=>a(r=>{const l={...r.filters,selectedModel:i,selectedYear:""};return{filters:l,filteredProducts:Qn(r.products,l),ui:{...r.ui,currentPage:1}}}),setSelectedYear:i=>a(r=>{const l={...r.filters,selectedYear:i};return{filters:l,filteredProducts:Qn(r.products,l),ui:{...r.ui,currentPage:1}}}),setSelectedPosition:i=>a(r=>{const l={...r.filters,selectedPosition:i};return{filters:l,filteredProducts:Qn(r.products,l),ui:{...r.ui,currentPage:1}}}),toggleBrandTag:i=>a(r=>{const l=r.filters.selectedBrandTags,c=l.includes(i)?l.filter(y=>y!==i):[...l,i],d={...r.filters,selectedBrandTags:c};return{filters:d,filteredProducts:Qn(r.products,d),ui:{...r.ui,currentPage:1}}}),setOemReference:i=>a(r=>{const l={...r.filters,oemReference:i};return{filters:l,filteredProducts:Qn(r.products,l),ui:{...r.ui,currentPage:1}}}),setFmsiReference:i=>a(r=>{const l={...r.filters,fmsiReference:i};return{filters:l,filteredProducts:Qn(r.products,l),ui:{...r.ui,currentPage:1}}}),setWidth:i=>a(r=>{const l={...r.filters,width:i};return{filters:l,filteredProducts:Qn(r.products,l),ui:{...r.ui,currentPage:1}}}),setHeight:i=>a(r=>{const l={...r.filters,height:i};return{filters:l,filteredProducts:Qn(r.products,l),ui:{...r.ui,currentPage:1}}}),clearFilters:()=>a(i=>({filters:g_,filteredProducts:i.products,ui:{...i.ui,currentPage:1}})),toggleFavorite:i=>a(r=>({favorites:r.favorites.includes(i)?r.favorites.filter(c=>c!==i):[...r.favorites,i]})),toggleComparison:i=>a(r=>{const l=r.comparisons.includes(i)?r.comparisons.filter(c=>c!==i):r.comparisons.length<4?[...r.comparisons,i]:r.comparisons;if(r.comparisons.length>=4&&!r.comparisons.includes(i)){const c={type:"system",title:"Lmite de comparacin",message:"Mximo 4 productos para comparar"};e().addNotification(c)}return{comparisons:l}}),addToSearchHistory:i=>a(r=>({searchHistory:[{...i,id:Date.now().toString()},...r.searchHistory].slice(0,10)})),clearSearchHistory:()=>a({searchHistory:[]}),setTheme:i=>{a({theme:i}),document.documentElement.setAttribute("data-theme",i)},setCurrentPage:i=>a(r=>({ui:{...r.ui,currentPage:i}})),openCompareModal:()=>a(i=>({ui:{...i.ui,isCompareModalOpen:!0}})),closeCompareModal:()=>a(i=>({ui:{...i.ui,isCompareModalOpen:!1}})),openFavoritesModal:()=>a(i=>({ui:{...i.ui,isFavoritesModalOpen:!0}})),closeFavoritesModal:()=>a(i=>({ui:{...i.ui,isFavoritesModalOpen:!1}})),openHistoryModal:()=>a(i=>({ui:{...i.ui,isHistoryModalOpen:!0}})),closeHistoryModal:()=>a(i=>({ui:{...i.ui,isHistoryModalOpen:!1}})),openProductDetailModal:i=>a(r=>({ui:{...r.ui,isProductDetailModalOpen:!0,selectedProductId:i}})),closeProductDetailModal:()=>a(i=>({ui:{...i.ui,isProductDetailModalOpen:!1,selectedProductId:null}})),addNotification:i=>a(r=>{const c=[{...i,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:Date.now(),read:!1},...r.ui.notifications].slice(0,50);return{ui:{...r.ui,notifications:c}}}),removeNotification:i=>a(r=>({ui:{...r.ui,notifications:r.ui.notifications.filter(l=>l.id!==i)}})),markAsRead:i=>a(r=>({ui:{...r.ui,notifications:r.ui.notifications.map(l=>l.id===i?{...l,read:!0}:l)}})),clearAllNotifications:()=>a(i=>({ui:{...i.ui,notifications:[]}}))}),{name:"brake-x-storage",partialize:a=>({favorites:a.favorites,comparisons:a.comparisons,searchHistory:a.searchHistory,theme:a.theme})})),WT=()=>{};var p_={};const Yv=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},eS=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],y=a[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=a[i++],d=a[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,y=d?a[l+1]:0,g=l+2<a.length,v=g?a[l+2]:0,T=c>>2,b=(c&3)<<4|y>>4;let R=(y&15)<<2|v>>6,q=v&63;g||(q=64,d||(R=64)),r.push(i[T],i[b],i[R],i[q])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Yv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):eS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],y=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const b=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||y==null||v==null||b==null)throw new tS;const R=c<<2|y>>4;if(r.push(R),v!==64){const q=y<<4&240|v>>2;if(r.push(q),b!==64){const ne=v<<6&192|b;r.push(ne)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class tS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nS=function(a){const e=Yv(a);return Kv.encodeByteArray(e,!0)},Nc=function(a){return nS(a).replace(/\./g,"")},Xv=function(a){try{return Kv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sS=()=>iS().__FIREBASE_DEFAULTS__,rS=()=>{if(typeof process>"u"||typeof p_>"u")return;const a=p_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},aS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Xv(a[1]);return e&&JSON.parse(e)},Fc=()=>{try{return WT()||sS()||rS()||aS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},$v=a=>Fc()?.emulatorHosts?.[a],oS=a=>{const e=$v(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Zv=()=>Fc()?.config,Jv=a=>Fc()?.[`_${a}`];class lS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function $a(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(a){return(await fetch(a,{credentials:"include"})).ok}function uS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Nc(JSON.stringify(i)),Nc(JSON.stringify(d)),""].join(".")}const ml={};function cS(){const a={prod:[],emulator:[]};for(const e of Object.keys(ml))ml[e]?a.emulator.push(e):a.prod.push(e);return a}function hS(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let y_=!1;function e0(a,e){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||ml[a]===e||ml[a]||y_)return;ml[a]=e;function i(R){return`__firebase__banner__${R}`}const r="__firebase__banner",c=cS().prod.length>0;function d(){const R=document.getElementById(r);R&&R.remove()}function y(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,q){R.setAttribute("width","24"),R.setAttribute("id",q),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function v(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{y_=!0,d()},R}function T(R,q){R.setAttribute("id",q),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=hS(r),q=i("text"),ne=document.getElementById(q)||document.createElement("span"),$=i("learnmore"),W=document.getElementById($)||document.createElement("a"),de=i("preprendIcon"),le=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ue=R.element;y(ue),T(W,$);const Ce=v();g(le,de),ue.append(le,ne,W,Ce),document.body.appendChild(ue)}c?(ne.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ne.innerText="Preview backend running in this workspace."),ne.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function dS(){const a=Fc()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function pS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yS(){const a=$t();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function _S(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function ES(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const TS="FirebaseError";class $i extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=TS,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?SS(c,r):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new $i(l,y,r)}}function SS(a,e){return a.replace(AS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const AS=/\{\$([^}]+)}/g;function bS(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function Vr(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=e[l];if(__(c)&&__(d)){if(!Vr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function __(a){return a!==null&&typeof a=="object"}function Cl(a){const e=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wS(a,e){const i=new RS(a,e);return i.subscribe.bind(i)}class RS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");CS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=cd),l.error===void 0&&(l.error=cd),l.complete===void 0&&(l.complete=cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CS(a,e){if(typeof a!="object"||a===null)return!1;for(const i of e)if(i in a&&typeof a[i]=="function")return!0;return!1}function cd(){}function Xs(a){return a&&a._delegate?a._delegate:a}class Lr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Cr="[DEFAULT]";class NS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new lS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DS(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cr){return this.instances.has(e)}getOptions(e=Cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);r===y&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cr){return this.component?this.component.multipleInstances?e:Cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IS(a){return a===Cr?void 0:a}function DS(a){return a.instantiationMode==="EAGER"}class OS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new NS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var De;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(De||(De={}));const MS={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},xS=De.INFO,VS={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},LS=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),l=VS[e];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wd{constructor(e){this.name=e,this._logLevel=xS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const kS=(a,e)=>e.some(i=>a instanceof i);let v_,E_;function US(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t0=new WeakMap,bd=new WeakMap,n0=new WeakMap,hd=new WeakMap,em=new WeakMap;function jS(a){const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Us(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&t0.set(i,a)}).catch(()=>{}),em.set(e,a),e}function zS(a){if(bd.has(a))return;const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});bd.set(a,e)}let wd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return bd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||n0.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Us(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function BS(a){wd=a(wd)}function qS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(fd(this),e,...i);return n0.set(r,e.sort?e.sort():[e]),Us(r)}:PS().includes(a)?function(...e){return a.apply(fd(this),e),Us(t0.get(this))}:function(...e){return Us(a.apply(fd(this),e))}}function HS(a){return typeof a=="function"?qS(a):(a instanceof IDBTransaction&&zS(a),kS(a,US())?new Proxy(a,wd):a)}function Us(a){if(a instanceof IDBRequest)return jS(a);if(hd.has(a))return hd.get(a);const e=HS(a);return e!==a&&(hd.set(a,e),em.set(e,a)),e}const fd=a=>em.get(a);function FS(a,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,e),y=Us(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Us(d.result),g.oldVersion,g.newVersion,Us(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const GS=["get","getKey","getAll","getAllKeys","count"],QS=["put","add","delete","clear"],dd=new Map;function T_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(dd.get(e))return dd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=QS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||GS.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),l&&g.done]))[0]};return dd.set(e,c),c}BS(a=>({...a,get:(e,i,r)=>T_(e,i)||a.get(e,i,r),has:(e,i)=>!!T_(e,i)||a.has(e,i)}));class YS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function KS(a){return a.getComponent()?.type==="VERSION"}const Rd="@firebase/app",S_="0.14.6";const Qi=new Wd("@firebase/app"),XS="@firebase/app-compat",$S="@firebase/analytics-compat",ZS="@firebase/analytics",JS="@firebase/app-check-compat",WS="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",iA="@firebase/data-connect",sA="@firebase/database-compat",rA="@firebase/functions",aA="@firebase/functions-compat",oA="@firebase/installations",lA="@firebase/installations-compat",uA="@firebase/messaging",cA="@firebase/messaging-compat",hA="@firebase/performance",fA="@firebase/performance-compat",dA="@firebase/remote-config",mA="@firebase/remote-config-compat",gA="@firebase/storage",pA="@firebase/storage-compat",yA="@firebase/firestore",_A="@firebase/ai",vA="@firebase/firestore-compat",EA="firebase",TA="12.6.0";const Cd="[DEFAULT]",SA={[Rd]:"fire-core",[XS]:"fire-core-compat",[ZS]:"fire-analytics",[$S]:"fire-analytics-compat",[WS]:"fire-app-check",[JS]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[iA]:"fire-data-connect",[sA]:"fire-rtdb-compat",[rA]:"fire-fn",[aA]:"fire-fn-compat",[oA]:"fire-iid",[lA]:"fire-iid-compat",[uA]:"fire-fcm",[cA]:"fire-fcm-compat",[hA]:"fire-perf",[fA]:"fire-perf-compat",[dA]:"fire-rc",[mA]:"fire-rc-compat",[gA]:"fire-gcs",[pA]:"fire-gcs-compat",[yA]:"fire-fst",[vA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[EA]:"fire-js-all"};const Ic=new Map,AA=new Map,Nd=new Map;function A_(a,e){try{a.container.addComponent(e)}catch(i){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ba(a){const e=a.name;if(Nd.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;Nd.set(e,a);for(const i of Ic.values())A_(i,a);for(const i of AA.values())A_(i,a);return!0}function tm(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function yi(a){return a==null?!1:a.settings!==void 0}const bA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new Rl("app","Firebase",bA);class wA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}const Za=TA;function i0(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Cd,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Ps.create("bad-app-name",{appName:String(l)});if(i||(i=Zv()),!i)throw Ps.create("no-options");const c=Ic.get(l);if(c){if(Vr(i,c.options)&&Vr(r,c.config))return c;throw Ps.create("duplicate-app",{appName:l})}const d=new OS(l);for(const g of Nd.values())d.addComponent(g);const y=new wA(i,r,d);return Ic.set(l,y),y}function s0(a=Cd){const e=Ic.get(a);if(!e&&a===Cd&&Zv())return i0();if(!e)throw Ps.create("no-app",{appName:a});return e}function js(a,e,i){let r=SA[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}Ba(new Lr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const RA="firebase-heartbeat-database",CA=1,El="firebase-heartbeat-store";let md=null;function r0(){return md||(md=FS(RA,CA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(El)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ps.create("idb-open",{originalErrorMessage:a.message})})),md}async function NA(a){try{const i=(await r0()).transaction(El),r=await i.objectStore(El).get(a0(a));return await i.done,r}catch(e){if(e instanceof $i)Qi.warn(e.message);else{const i=Ps.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(i.message)}}}async function b_(a,e){try{const r=(await r0()).transaction(El,"readwrite");await r.objectStore(El).put(e,a0(a)),await r.done}catch(i){if(i instanceof $i)Qi.warn(i.message);else{const r=Ps.create("idb-set",{originalErrorMessage:i?.message});Qi.warn(r.message)}}}function a0(a){return`${a.name}!${a.options.appId}`}const IA=1024,DA=30;class OA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>DA){const l=VA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w_(),{heartbeatsToSend:i,unsentEntries:r}=MA(this._heartbeatsCache.heartbeats),l=Nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Qi.warn(e),""}}}function w_(){return new Date().toISOString().substring(0,10)}function MA(a,e=IA){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),R_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),R_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class xA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?ES().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await NA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function R_(a){return Nc(JSON.stringify({version:2,heartbeats:a})).length}function VA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}function LA(a){Ba(new Lr("platform-logger",e=>new YS(e),"PRIVATE")),Ba(new Lr("heartbeat",e=>new OA(e),"PRIVATE")),js(Rd,S_,a),js(Rd,S_,"esm2020"),js("fire-js","")}LA("");var kA="firebase",UA="12.7.0";js(kA,UA,"app");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zs,o0;(function(){var a;function e(D,w){function I(){}I.prototype=w.prototype,D.F=w.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(V,M,k){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return w.prototype[M].apply(V,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;M<16;++M)V[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=D.g[0],I=D.g[1],M=D.g[2];let k=D.g[3],C;C=w+(k^I&(M^k))+V[0]+3614090360&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(M^w&(I^M))+V[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(I^k&(w^I))+V[2]+606105819&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(w^M&(k^w))+V[3]+3250441966&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(k^I&(M^k))+V[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(M^w&(I^M))+V[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(I^k&(w^I))+V[6]+2821735955&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(w^M&(k^w))+V[7]+4249261313&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(k^I&(M^k))+V[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(M^w&(I^M))+V[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(I^k&(w^I))+V[10]+4294925233&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(w^M&(k^w))+V[11]+2304563134&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(k^I&(M^k))+V[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(M^w&(I^M))+V[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(I^k&(w^I))+V[14]+2792965006&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(w^M&(k^w))+V[15]+1236535329&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(M^k&(I^M))+V[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(w^I))+V[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(k^w))+V[11]+643717713&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(M^k))+V[0]+3921069994&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(I^M))+V[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(w^I))+V[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(k^w))+V[15]+3634488961&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(M^k))+V[4]+3889429448&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(I^M))+V[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(w^I))+V[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(k^w))+V[3]+4107603335&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(M^k))+V[8]+1163531501&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(I^M))+V[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(w^I))+V[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(k^w))+V[7]+1735328473&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(M^k))+V[12]+2368359562&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(I^M^k)+V[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^M)+V[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^I)+V[11]+1839030562&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^w)+V[14]+4259657740&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^k)+V[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^M)+V[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^I)+V[7]+4139469664&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^w)+V[10]+3200236656&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^k)+V[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^M)+V[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^I)+V[3]+3572445317&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^w)+V[6]+76029189&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^k)+V[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^M)+V[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^I)+V[15]+530742520&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^w)+V[2]+3299628645&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(M^(I|~k))+V[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~M))+V[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~I))+V[14]+2878612391&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~w))+V[5]+4237533241&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~k))+V[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~M))+V[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~I))+V[10]+4293915773&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~w))+V[1]+2240044497&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~k))+V[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~M))+V[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~I))+V[6]+2734768916&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~w))+V[13]+1309151649&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~k))+V[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~M))+V[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~I))+V[2]+718787259&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.v=function(D,w){w===void 0&&(w=D.length);const I=w-this.blockSize,V=this.C;let M=this.h,k=0;for(;k<w;){if(M==0)for(;k<=I;)l(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<w;)if(V[M++]=D.charCodeAt(k++),M==this.blockSize){l(this,V),M=0;break}}else for(;k<w;)if(V[M++]=D[k++],M==this.blockSize){l(this,V),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)D[w++]=this.g[I]>>>V&255;return D};function c(D,w){var I=y;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=w(D)}function d(D,w){this.h=w;const I=[];let V=!0;for(let M=D.length-1;M>=0;M--){const k=D[M]|0;V&&k==w||(I[M]=k,V=!1)}this.g=I}var y={};function g(D){return-128<=D&&D<128?c(D,function(w){return new d([w|0],w<0?-1:0)}):new d([D|0],D<0?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return W(v(-D));const w=[];let I=1;for(let V=0;D>=I;V++)w[V]=D/I|0,I*=4294967296;return new d(w,0)}function T(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return W(T(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(w,8));let V=b;for(let k=0;k<D.length;k+=8){var M=Math.min(8,D.length-k);const C=parseInt(D.substring(k,k+M),w);M<8?(M=v(Math.pow(w,M)),V=V.j(M).add(v(C))):(V=V.j(I),V=V.add(v(C)))}return V}var b=g(0),R=g(1),q=g(16777216);a=d.prototype,a.m=function(){if($(this))return-W(this).m();let D=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},a.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(ne(this))return"0";if($(this))return"-"+W(this).toString(D);const w=v(Math.pow(D,6));var I=this;let V="";for(;;){const M=Ce(I,w).g;I=de(I,M.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=M,ne(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},a.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function ne(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function $(D){return D.h==-1}a.l=function(D){return D=de(this,D),$(D)?-1:ne(D)?0:1};function W(D){const w=D.g.length,I=[];for(let V=0;V<w;V++)I[V]=~D.g[V];return new d(I,~D.h).add(R)}a.abs=function(){return $(this)?W(this):this},a.add=function(D){const w=Math.max(this.g.length,D.g.length),I=[];let V=0;for(let M=0;M<=w;M++){let k=V+(this.i(M)&65535)+(D.i(M)&65535),C=(k>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);V=C>>>16,k&=65535,C&=65535,I[M]=C<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function de(D,w){return D.add(W(w))}a.j=function(D){if(ne(this)||ne(D))return b;if($(this))return $(D)?W(this).j(W(D)):W(W(this).j(D));if($(D))return W(this.j(W(D)));if(this.l(q)<0&&D.l(q)<0)return v(this.m()*D.m());const w=this.g.length+D.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<D.g.length;M++){const k=this.i(V)>>>16,C=this.i(V)&65535,tt=D.i(M)>>>16,Nt=D.i(M)&65535;I[2*V+2*M]+=C*Nt,le(I,2*V+2*M),I[2*V+2*M+1]+=k*Nt,le(I,2*V+2*M+1),I[2*V+2*M+1]+=C*tt,le(I,2*V+2*M+1),I[2*V+2*M+2]+=k*tt,le(I,2*V+2*M+2)}for(D=0;D<w;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=w;D<2*w;D++)I[D]=0;return new d(I,0)};function le(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ue(D,w){this.g=D,this.h=w}function Ce(D,w){if(ne(w))throw Error("division by zero");if(ne(D))return new ue(b,b);if($(D))return w=Ce(W(D),w),new ue(W(w.g),W(w.h));if($(w))return w=Ce(D,W(w)),new ue(W(w.g),w.h);if(D.g.length>30){if($(D)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var I=R,V=w;V.l(D)<=0;)I=Ze(I),V=Ze(V);var M=ke(I,1),k=ke(V,1);for(V=ke(V,2),I=ke(I,2);!ne(V);){var C=k.add(V);C.l(D)<=0&&(M=M.add(I),k=C),V=ke(V,1),I=ke(I,1)}return w=de(D,M.j(w)),new ue(M,w)}for(M=b;D.l(w)>=0;){for(I=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=v(I),C=k.j(w);$(C)||C.l(D)>0;)I-=V,k=v(I),C=k.j(w);ne(k)&&(k=R),M=M.add(k),D=de(D,C)}return new ue(M,D)}a.B=function(D){return Ce(this,D).h},a.and=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&D.i(V);return new d(I,this.h&D.h)},a.or=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|D.i(V);return new d(I,this.h|D.h)},a.xor=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^D.i(V);return new d(I,this.h^D.h)};function Ze(D){const w=D.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=D.i(V)<<1|D.i(V-1)>>>31;return new d(I,D.h)}function ke(D,w){const I=w>>5;w%=32;const V=D.g.length-I,M=[];for(let k=0;k<V;k++)M[k]=w>0?D.i(k+I)>>>w|D.i(k+I+1)<<32-w:D.i(k+I);return new d(M,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,zs=d}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var l0,cl,u0,_c,Id,c0,h0,f0;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var _=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in _))break e;_=_[U]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&_.push([A,m[A]]);return _}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=g,v.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(A,U,B){for(var Z=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)Z[Te-2]=arguments[Te];return m.prototype[U].apply(A,Z)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function ne(u,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const B=U.length||0;u.length=_+B;for(let Z=0;Z<B;Z++)u[_+Z]=U[Z]}else u.push(U)}}class ${constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function de(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class le{constructor(){this.h=this.g=null}add(m,_){const A=ue.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ue=new $(()=>new Ce,u=>u.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ze,ke=!1,D=new le,w=()=>{const u=Promise.resolve(void 0);Ze=()=>{u.then(I)}};function I(){for(var u;u=de();){try{u.h.call(u.g)}catch(_){W(_)}var m=ue;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ke=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function tt(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(tt,M),tt.prototype.init=function(u,m){const _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Nt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ee(u,m,_,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++G,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function He(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function x(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)u[_]=A[_];for(let B=0;B<K.length;B++)_=K[B],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,m,_,A,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=Ae(u,m,A,U);return Z>-1?(m=u[Z],_||(m.fa=!1)):(m=new ee(m,this.src,B,!!A,U),m.fa=_,u.push(m)),m};function ye(u,m){const _=m.type;if(_ in u.g){var A=u.g[_],U=Array.prototype.indexOf.call(A,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(A,U,1),B&&(fe(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ae(u,m,_,A){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==A)return U}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),It={};function nt(u,m,_,A,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)nt(u,m[B],_,A,U);return null}return _=so(_),u&&u[Nt]?u.J(m,_,y(A)?!!A.capture:!1,U):$s(u,m,_,!1,A,U)}function $s(u,m,_,A,U,B){if(!m)throw Error("Invalid event type");const Z=y(U)?!!U.capture:!!U;let Te=Zs(u);if(Te||(u[xe]=Te=new ie(u)),_=Te.add(m,_,A,Z,B),_.proxy)return _;if(A=jr(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)k||(U=Z),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Kn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jr(){function u(_){return m.call(u.src,u.listener,_)}const m=no;return u}function zr(u,m,_,A,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)zr(u,m[B],_,A,U);else A=y(A)?!!A.capture:!!A,_=so(_),u&&u[Nt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=Ae(m,_,A,U),_>-1&&(fe(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Zs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,_,A,U)),(_=u>-1?m[u]:null)&&Br(_))}function Br(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Nt])ye(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Kn(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Zs(m))?(ye(_,u),_.h==0&&(_.src=null,m[xe]=null)):fe(u)}}}function Kn(u){return u in It?It[u]:It[u]="on"+u}function no(u,m){if(u.da)u=!0;else{m=new tt(m,this);const _=u.listener,A=u.ha||u.src;u.fa&&Br(u),u=_.call(A,m)}return u}function Zs(u){return u=u[xe],u instanceof ie?u:null}var io="__closure_events_fn_"+(Math.random()*1e9>>>0);function so(u){return typeof u=="function"?u:(u[io]||(u[io]=function(m){return u.handleEvent(m)}),u[io])}function gt(){V.call(this),this.i=new ie(this),this.M=this,this.G=null}b(gt,V),gt.prototype[Nt]=!0,gt.prototype.removeEventListener=function(u,m,_,A){zr(this,u,m,_,A)};function Dt(u,m){var _,A=u.G;if(A)for(_=[];A;A=A.G)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var U=m;m=new M(A,u),te(m,U)}U=!0;let B,Z;if(_)for(Z=_.length-1;Z>=0;Z--)B=m.g=_[Z],U=Zi(B,A,!0,m)&&U;if(B=m.g=u,U=Zi(B,A,!0,m)&&U,U=Zi(B,A,!1,m)&&U,_)for(Z=0;Z<_.length;Z++)B=m.g=_[Z],U=Zi(B,A,!1,m)&&U}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let A=0;A<_.length;A++)fe(_[A]);delete u.g[m],u.h--}}this.G=null},gt.prototype.J=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},gt.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function Zi(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==_){const Te=Z.listener,ct=Z.ha||Z.src;Z.fa&&ye(u.i,Z),U=Te.call(ct,A)!==!1&&U}}return U&&!A.defaultPrevented}function rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ul(u){u.g=rh(()=>{u.g=null,u.i&&(u.i=!1,Ul(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zt extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ul(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Js(u){V.call(this),this.h=u,this.g={}}b(Js,V);var ro=[];function ao(u){Ue(u.g,function(m,_){this.g.hasOwnProperty(_)&&Br(m)},u),u.g={}}Js.prototype.N=function(){Js.Z.N.call(this),ao(this)},Js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=d.JSON.stringify,ah=d.JSON.parse,Pl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function jl(){}function zl(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){M.call(this,"d")}b(Pt,M);function Tn(){M.call(this,"c")}b(Tn,M);var ut={},Bl=null;function qr(){return Bl=Bl||new gt}ut.Ia="serverreachability";function ql(u){M.call(this,ut.Ia,u)}b(ql,M);function Xn(u){const m=qr();Dt(m,new ql(m))}ut.STAT_EVENT="statevent";function Ws(u,m){M.call(this,ut.STAT_EVENT,u),this.stat=m}b(Ws,M);function pt(u){const m=qr();Dt(m,new Ws(m,u))}ut.Ja="timingevent";function $n(u,m){M.call(this,ut.Ja,u),this.size=m}b($n,M);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function oh(u,m,_,A,U,B){u.info(function(){if(u.g)if(B){var Z="",Te=B.split("&");for(let Be=0;Be<Te.length;Be++){var ct=Te[Be].split("=");if(ct.length>1){const it=ct[0];ct=ct[1];const wn=it.split("_");Z=wn.length>=2&&wn[1]=="type"?Z+(it+"="+ct+"&"):Z+(it+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+Z})}function Hl(u,m,_,A,U,B,Z){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+B+" "+Z})}function Jn(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+lh(u,_)+(A?" "+A:"")})}function er(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<A.length;Z++)A[Z]=""}}}}return Ji(B)}catch{return m}}var tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},lo;function nr(){}b(nr,jl),nr.prototype.g=function(){return new XMLHttpRequest},lo=new nr;function wi(u){return encodeURIComponent(String(u))}function Fl(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function kn(u,m,_,A){this.j=u,this.i=m,this.l=_,this.S=A||1,this.V=new Js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var yt={},Vt={};function Wn(u,m,_){u.M=1,u.A=ir(vt(m)),u.u=_,u.R=!0,Hr(u,null)}function Hr(u,m){u.F=Date.now(),ei(u),u.B=vt(u.A);var _=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Yr(_.i,"t",A),u.C=0,_=u.j.L,u.h=new Un,u.g=ru(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Zt(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ro[0]=U.toString()),U=ro);for(let B=0;B<U.length;B++){const Z=nt(_,U[B],A||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Xn(),oh(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&zn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)e:{const Te=zn(this.g),ct=this.g.ya(),Be=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||jt(this.g)))){this.K||Te!=4||ct==7||(ct==8||Be<=0?Xn(3):Xn(2)),ti(this);var m=this.g.ca();this.X=m;var _=uh(this);if(this.o=m==200,Hl(this.i,this.v,this.B,this.l,this.S,Te,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var B=A;break t}}B=null}if(u=B)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,u);else{this.o=!1,this.m=3,pt(12),hn(this),Sn(this);break e}}if(this.R){u=!0;let it;for(;!this.K&&this.C<_.length;)if(it=Ql(this,_),it==Vt){Te==4&&(this.m=4,pt(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(it==yt){this.m=4,pt(15),Jn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,it,null),ni(this,it);if(Gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||_.length!=0||this.h.h||(this.m=1,pt(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,_,"[Invalid Chunked Response]"),hn(this),Sn(this);else if(_.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),bo(Z),Z.P=!0,pt(11))}}else Jn(this.i,this.l,_,null),ni(this,_);Te==4&&hn(this),this.o&&!this.K&&(Te==4?tu(this.j,this):(this.o=!1,ei(this)))}else Ci(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),hn(this),Sn(this)}}}catch{}};function uh(u){if(!Gl(u))return u.g.la();const m=jt(u.g);if(m==="")return"";let _="";const A=m.length,U=zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(U&&B==A-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Gl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ql(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Vt:(_=Number(m.substring(_,A)),isNaN(_)?yt:(A+=1,A+_>m.length?Vt:(m=m.slice(A,A+_),u.C=A+_,m)))}kn.prototype.cancel=function(){this.K=!0,hn(this)};function ei(u){u.T=Date.now()+u.H,Fr(u,u.H)}function Fr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(v(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(er(this.i,this.B),this.M!=2&&(Xn(),pt(17)),hn(this),this.m=2,Sn(this)):Fr(this,this.T-u)};function Sn(u){u.j.I==0||u.K||tu(u.j,u)}function hn(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ao(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ni(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||si(_.h,u))){if(!u.L&&si(_.h,u)&&_.I==3){try{var A=_.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Jr(_),as(_);else break e;cr(_),pt(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Zn(v(_.Va,_),6e3));ii(_.h)<=1&&_.ta&&(_.ta=void 0)}else ci(_,11)}else if((u.L||_.g==u)&&Jr(_),!C(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let Be=U[m];const it=Be[0];if(!(it<=_.K))if(_.K=it,Be=Be[1],_.I==2)if(Be[0]=="c"){_.M=Be[1],_.ba=Be[2];const wn=Be[3];wn!=null&&(_.ka=wn,_.j.info("VER="+_.ka));const hi=Be[4];hi!=null&&(_.za=hi,_.j.info("SVER="+_.za));const Bn=Be[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(A=1.5*Bn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const qn=u.g;if(qn){const hr=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var B=A.h;B.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ho(B,B.h),B.h=null))}if(A.G){const Wr=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wr&&(A.wa=Wr,Fe(A.J,A.G,Wr))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var Z=u;if(A.na=su(A,A.L?A.ba:null,A.W),Z.L){fo(A.h,Z);var Te=Z,ct=A.O;ct&&(Te.H=ct),Te.D&&(ti(Te),ei(Te)),A.g=Z}else Wl(A);_.i.length>0&&ui(_)}else Be[0]!="stop"&&Be[0]!="close"||ci(_,7);else _.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?ci(_,7):So(_):Be[0]!="noop"&&_.l&&_.l.qa(Be),_.A=0)}}Xn(4)}catch{}}var _t=class{constructor(u,m){this.g=u,this.map=m}};function uo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ii(u){return u.h?1:u.g?u.g.size:0}function si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ho(u,m){u.g?u.g.add(m):u.h=m}function fo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}uo.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return q(u.i)}var Yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const A=u[_].indexOf("=");let U,B=null;A>=0?(U=u[_].substring(0,A),B=u[_].substring(A+1)):U=u[_],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.u),this.h=u.h,go(this,Zl(u.i)),this.m=u.m):u&&(m=String(u).match(Yl))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=ri(m[2]||""),this.g=ri(m[3]||"",!0),Wi(this,m[4]),this.h=ri(m[5]||"",!0),go(this,m[6]||"",!0),this.m=ri(m[7]||"")):(this.l=!1,this.i=new ts(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(sr(m,Qr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(sr(m,Qr,!0),"@"),u.push(wi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(sr(_,_.charAt(0)=="/"?po:Kl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",sr(_,Xl)),u.join("")},fn.prototype.resolve=function(u){const m=vt(this);let _=!!u.j;_?Lt(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var A=u.h;if(_)Wi(m,u.u);else if(_=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let Z=0;Z<U.length;){const Te=U[Z++];Te=="."?A&&Z==U.length&&B.push(""):Te==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&Z==U.length&&B.push("")):(B.push(Te),A=!0)}A=B.join("/")}else A=U}return _?m.h=A:_=u.i.toString()!=="",_?go(m,Zl(u.i)):_=!!u.m,_&&(m.m=u.m),m};function vt(u){return new fn(u)}function Lt(u,m,_){u.j=_?ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function go(u,m,_){m instanceof ts?(u.i=m,Kr(u.i,u.l)):(_||(m=sr(m,es)),u.i=new ts(m,u.l))}function Fe(u,m,_){u.i.set(m,_)}function ir(u){return Fe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qr=/[#\/\?@]/g,Kl=/[#\?:]/g,po=/[#\?]/g,es=/[#\?@]/g,Xl=/#/g;function ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Gr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=ts.prototype,a.add=function(u,m){sn(this),this.i=null,u=ns(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function $l(u,m){sn(u),m=ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yo(u,m){return sn(u),m=ns(u,m),u.g.has(m)}a.forEach=function(u,m){sn(this),this.g.forEach(function(_,A){_.forEach(function(U){u.call(m,U,A,this)},this)},this)};function _o(u,m){sn(u);let _=[];if(typeof m=="string")yo(u,m)&&(_=_.concat(u.g.get(ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return sn(this),this.i=null,u=ns(this,u),yo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=_o(this,u),u.length>0?String(u[0]):m):m};function Yr(u,m,_){$l(u,m),_.length>0&&(u.i=null,u.g.set(ns(u,m),q(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var _=m[A];const U=wi(_);_=_o(this,_);for(let B=0;B<_.length;B++){let Z=U;_[B]!==""&&(Z+="="+wi(_[B])),u.push(Z)}}return this.i=u.join("&")};function Zl(u){const m=new ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Kr(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(_,A){const U=A.toLowerCase();A!=U&&($l(this,A),Yr(this,U,_))},u)),u.j=m}function Pn(u,m){const _=new Ln;if(d.Image){const A=new Image;A.onload=T(An,_,"TestLoadImage: loaded",!0,m,A),A.onerror=T(An,_,"TestLoadImage: error",!1,m,A),A.onabort=T(An,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(An,_,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function vo(u,m){const _=new Ln,A=new AbortController,U=setTimeout(()=>{A.abort(),An(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(U),B.ok?An(_,"TestPingServer: ok",!0,m):An(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(_,"TestPingServer: error",!1,m)})}function An(u,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function is(){this.g=new Pl}function ai(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ai,jl),ai.prototype.g=function(){return new rr(this.i,this.h)};function rr(u,m){gt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(rr,gt),a=rr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ss(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ss(this):jn(this),this.readyState==3&&Xr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ss(this))},a.Na=function(u){this.g&&(this.response=u,ss(this))},a.ga=function(){this.g&&ss(this)};function ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Ue(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function ar(u,m,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=bn(_),typeof u=="string"?_!=null&&wi(_):Fe(u,m,_))}function Ye(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ye,gt);var oi=/^https?$/i,Eo=["POST","PUT"];a=Ye.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():lo.g(),this.g.onreadystatechange=R(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){or(this,B);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())_.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Eo,m,void 0)>=0)||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of _)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){or(this,B)}};function or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,To(u),Ri(u)}function To(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Dt(this,"complete"),Dt(this,"abort"),Ri(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Ye.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?lr(this):this.Xa())},a.Xa=function(){lr(this)};function lr(u){if(u.h&&typeof c<"u"){if(u.v&&zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Dt(u,"readystatechange"),zn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var A;if(A=B===0){let Z=String(u.D).match(Yl)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),A=!oi.test(Z?Z.toLowerCase():"")}_=A}if(_)Dt(u,"complete"),Dt(u,"success");else{u.o=6;try{var U=zn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",To(u)}}finally{Ri(u)}}}}function Ri(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Dt(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return zn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ah(m)}};function jt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(u){const m={};u=(u.g&&zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var _=Fl(u[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[U]||[];m[U]=B,B.push(_)}He(m,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function rs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new uo(u&&u.concurrentRequestLimit),this.Ba=new is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=rs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,A){pt(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=su(this,null,this.W),ui(this)};function So(u){if($r(u),u.I==3){var m=u.V++,_=vt(u.J);if(Fe(_,"SID",u.M),Fe(_,"RID",m),Fe(_,"TYPE","terminate"),ur(u,_),m=new kn(u,u.j,m),m.M=2,m.A=ir(vt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ei(m)}iu(u)}function as(u){u.g&&(bo(u),u.g.cancel(),u.g=null)}function $r(u){as(u),u.v&&(d.clearTimeout(u.v),u.v=null),Jr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ui(u){if(!co(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ze||w(),ke||(Ze(),ke=!0),D.add(m,u),u.D=0}}function Zr(u,m){return ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(v(u.Ea,u,m),nu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),te(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Jl(this,U,m),_=vt(this.J),Fe(_,"RID",u),Fe(_,"CVER",22),this.G&&Fe(_,"X-HTTP-Session-Id",this.G),ur(this,_),B&&(this.R?m="headers="+wi(bn(B))+"&"+m:this.u&&ar(_,this.u,B)),ho(this.h,U),this.Ra&&Fe(_,"TYPE","init"),this.S?(Fe(_,"$req",m),Fe(_,"SID","null"),U.U=!0,Wn(U,_,null)):Wn(U,_,m),this.I=2}}else this.I==3&&(u?Ao(this,u):this.i.length==0||co(this.h)||Ao(this))};function Ao(u,m){var _;m?_=m.l:_=u.V++;const A=vt(u.J);Fe(A,"SID",u.M),Fe(A,"RID",_),Fe(A,"AID",u.K),ur(u,A),u.u&&u.o&&ar(A,u.u,u.o),_=new kn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Jl(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ho(u.h,_),Wn(_,A,m)}function ur(u,m){u.H&&Ue(u.H,function(_,A){Fe(m,A,_)}),u.l&&Ue({},function(_,A){Fe(m,A,_)})}function Jl(u,m,_){_=Math.min(u.i.length,_);const A=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Te=-1;for(;;){const ct=["count="+_];Te==-1?_>0?(Te=U[0].g,ct.push("ofs="+Te)):Te=0:ct.push("ofs="+Te);let Be=!0;for(let it=0;it<_;it++){var B=U[it].g;const wn=U[it].map;if(B-=Te,B<0)Te=Math.max(0,U[it].g-100),Be=!1;else try{B="req"+B+"_"||"";try{var Z=wn instanceof Map?wn:Object.entries(wn);for(const[hi,Bn]of Z){let qn=Bn;y(Bn)&&(qn=Ji(Bn)),ct.push(B+hi+"="+encodeURIComponent(qn))}}catch(hi){throw ct.push(B+"type="+encodeURIComponent("_badmap")),hi}}catch{A&&A(wn)}}if(Be){Z=ct.join("&");break e}}Z=void 0}return u=u.i.splice(0,_),m.G=u,Z}function Wl(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ze||w(),ke||(Ze(),ke=!0),D.add(m,u),u.A=0}}function cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(v(u.Da,u),nu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),as(this),eu(this))};function bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function eu(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=vt(u.na);Fe(m,"RID","rpc"),Fe(m,"SID",u.M),Fe(m,"AID",u.K),Fe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Fe(m,"TO",u.ia),Fe(m,"TYPE","xmlhttp"),ur(u,m),u.u&&u.o&&ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ir(vt(m)),_.u=null,_.R=!0,Hr(_,u)}a.Va=function(){this.C!=null&&(this.C=null,as(this),cr(this),pt(19))};function Jr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function tu(u,m){var _=null;if(u.g==m){Jr(u),bo(u),u.g=null;var A=2}else if(si(u.h,m))_=m.G,fo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;A=qr(),Dt(A,new $n(A,_)),ui(u)}else Wl(u);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&Zr(u,m)||A==2&&cr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:ci(u,5);break;case 4:ci(u,10);break;case 3:ci(u,6);break;default:ci(u,2)}}}function nu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function ci(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),A=u.Ua;const U=!A;A=new fn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(A,"https"),ir(A),U?Pn(A.toString(),_):vo(A.toString(),_)}else pt(2);u.I=0,u.l&&u.l.pa(m),iu(u),$r(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function iu(u){if(u.I=0,u.ja=[],u.l){const m=mo(u.h);(m.length!=0||u.i.length!=0)&&(ne(u.ja,m),ne(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function su(u,m,_){var A=_ instanceof fn?vt(_):new fn(_);if(A.g!="")m&&(A.g=m+"."+A.g),Wi(A,A.u);else{var U=d.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new fn(null);A&&Lt(B,A),m&&(B.g=m),U&&Wi(B,U),_&&(B.h=_),A=B}return _=u.G,m=u.wa,_&&m&&Fe(A,_,m),Fe(A,"VER",u.ka),ur(u,A),A}function ru(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ye(new ai({ab:_})):new Ye(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}a=au.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function os(){}os.prototype.g=function(u,m){return new Jt(u,m)};function Jt(u,m){gt.call(this),this.g=new rs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}b(Jt,gt),Jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){So(this.g)},Jt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Ji(u),u=_);m.i.push(new _t(m.Ya++,u)),m.I==3&&ui(m)},Jt.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,Jt.Z.N.call(this)};function ou(u){Pt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(ou,Pt);function lu(){Tn.call(this),this.status=1}b(lu,Tn);function Ni(u){this.g=u}b(Ni,au),Ni.prototype.ra=function(){Dt(this.g,"a")},Ni.prototype.qa=function(u){Dt(this.g,new ou(u))},Ni.prototype.pa=function(u){Dt(this.g,new lu)},Ni.prototype.oa=function(){Dt(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,f0=function(){return new os},h0=function(){return qr()},c0=ut,Id={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,_c=tr,oo.COMPLETE="complete",u0=oo,zl.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",gt.prototype.listen=gt.prototype.J,cl=zl,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,l0=Ye}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore",I_="4.9.3";class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");let Ja="12.7.0";const kr=new Wd("@firebase/firestore");function Ia(){return kr.logLevel}function se(a,...e){if(kr.logLevel<=De.DEBUG){const i=e.map(nm);kr.debug(`Firestore (${Ja}): ${a}`,...i)}}function Yi(a,...e){if(kr.logLevel<=De.ERROR){const i=e.map(nm);kr.error(`Firestore (${Ja}): ${a}`,...i)}}function qa(a,...e){if(kr.logLevel<=De.WARN){const i=e.map(nm);kr.warn(`Firestore (${Ja}): ${a}`,...i)}}function nm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Ee(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,d0(a,r,i)}function d0(a,e,i){let r=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Yi(r),new Error(r)}function at(a,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||d0(e,l,r)}function Le(a,e){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends $i{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class m0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Kt.UNAUTHENTICATED)))}shutdown(){}}class jA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class zA{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){at(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let c=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ir,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ir)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new m0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class BA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new BA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Kt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){at(this.o===void 0,3512);const r=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,se("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(at(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new D_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class g0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=FA(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function Me(a,e){return a<e?-1:a>e?1:0}function Dd(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=e.charAt(r);if(l!==c)return gd(l)===gd(c)?Me(l,c):gd(l)?1:-1}return Me(a.length,e.length)}const GA=55296,QA=57343;function gd(a){const e=a.charCodeAt(0);return e>=GA&&e<=QA}function Ha(a,e,i){return a.length===e.length&&a.every(((r,l)=>i(r,e[l])))}const O_="__name__";class pi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ee(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=pi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Me(e.length,i.length)}static compareSegments(e,i){const r=pi.isNumericId(e),l=pi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?pi.extractNumericId(e).compare(pi.extractNumericId(i)):Dd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class rt extends pi{construct(e,i,r){return new rt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new rt(i)}static emptyPath(){return new rt([])}}const YA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends pi{construct(e,i,r){return new en(e,i,r)}static isValidIdentifier(e){return YA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O_}static keyField(){return new en([O_])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(r+=y,l++):(c(),l++)}if(c(),d)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return rt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}function KA(a,e,i,r){if(e===!0&&r===!0)throw new he(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function M_(a){if(ge.isDocumentKey(a))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function XA(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function $A(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ee(12329,{type:typeof a})}function Va(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=$A(a);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Rt(a,e){const i={typeString:a};return e&&(i.value=e),i}function Nl(a,e){if(!XA(a))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new he(J.INVALID_ARGUMENT,i);return!0}const x_=-62135596800,V_=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*V_);return new wt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<x_)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nl(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Rt("string",wt._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new wt(0,0))}static max(){return new ve(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tl=-1;function ZA(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(r===1e9?new wt(i+1,0):new wt(i,r));return new Hs(l,ge.empty(),e)}function JA(a){return new Hs(a.readTime,a.key,Tl)}class Hs{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Hs(ve.min(),ge.empty(),Tl)}static max(){return new Hs(ve.max(),ge.empty(),Tl)}}function WA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(a.documentKey,e.documentKey),i!==0?i:Me(a.largestBatchId,e.largestBatchId))}const eb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gc(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==eb)throw a;se("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>r(g)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,l)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const v=g;i(e[v]).next((T=>{d[v]=T,++y,y===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new X(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function nb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Wa(a){return a.name==="IndexedDbTransactionError"}class Qc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qc.ce=-1;const ib=-1;function Yc(a){return a==null}function Od(a){return a===0&&1/a==-1/0}const p0="";function sb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=L_(e)),e=rb(a.get(i),e);return L_(e)}function rb(a,e){let i=e;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case p0:i+="";break;default:i+=c}}return i}function L_(a){return a+p0+""}function k_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Il(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function ab(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class mt{constructor(e,i){this.comparator=e,this.root=i||Ft.EMPTY}insert(e,i){return new mt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dc(this.root,e,this.comparator,!0)}}class dc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??Ft.RED,this.left=l??Ft.EMPTY,this.right=c??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new Ft(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Ft.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new Ft(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(e){return new U_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new xt(this.comparator);return i.data=e,i}}class U_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ls{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Ls([])}unionWith(e){let i=new xt(en.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Ls(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new y0("Invalid base64 string: "+c):c}})(e);return new Gt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Gt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const ob=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(a){if(at(!!a,39018),typeof a=="string"){let e=0;const i=ob.exec(a);if(at(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(a.seconds),nanos:dt(a.nanos)}}function dt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Gs(a){return typeof a=="string"?Gt.fromBase64String(a):Gt.fromUint8Array(a)}const _0="server_timestamp",v0="__type__",E0="__previous_value__",T0="__local_write_time__";function im(a){return(a?.mapValue?.fields||{})[v0]?.stringValue===_0}function Kc(a){const e=a.mapValue.fields[E0];return im(e)?Kc(e):e}function Sl(a){const e=Fs(a.mapValue.fields[T0].timestampValue);return new wt(e.seconds,e.nanos)}class lb{constructor(e,i,r,l,c,d,y,g,v,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=T}}const Dc="(default)";class Al{constructor(e,i){this.projectId=e,this.database=i||Dc}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===Dc}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}const ub="__type__",cb="__max__",mc={mapValue:{}},hb="__vector__",Md="value";function Qs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?im(a)?4:db(a)?9007199254740991:fb(a)?10:11:Ee(28295,{value:a})}function Ai(a,e){if(a===e)return!0;const i=Qs(a);if(i!==Qs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Sl(a).isEqual(Sl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Fs(l.timestampValue),y=Fs(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,c){return Gs(l.bytesValue).isEqual(Gs(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,c){return dt(l.geoPointValue.latitude)===dt(c.geoPointValue.latitude)&&dt(l.geoPointValue.longitude)===dt(c.geoPointValue.longitude)})(a,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return dt(l.integerValue)===dt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=dt(l.doubleValue),y=dt(c.doubleValue);return d===y?Od(d)===Od(y):isNaN(d)&&isNaN(y)}return!1})(a,e);case 9:return Ha(a.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(k_(d)!==k_(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Ai(d[g],y[g])))return!1;return!0})(a,e);default:return Ee(52216,{left:a})}}function bl(a,e){return(a.values||[]).find((i=>Ai(i,e)))!==void 0}function Fa(a,e){if(a===e)return 0;const i=Qs(a),r=Qs(e);if(i!==r)return Me(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Me(a.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=dt(c.integerValue||c.doubleValue),g=dt(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(a,e);case 3:return P_(a.timestampValue,e.timestampValue);case 4:return P_(Sl(a),Sl(e));case 5:return Dd(a.stringValue,e.stringValue);case 6:return(function(c,d){const y=Gs(c),g=Gs(d);return y.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let v=0;v<y.length&&v<g.length;v++){const T=Me(y[v],g[v]);if(T!==0)return T}return Me(y.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Me(dt(c.latitude),dt(d.latitude));return y!==0?y:Me(dt(c.longitude),dt(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return j_(a.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},v=y[Md]?.arrayValue,T=g[Md]?.arrayValue,b=Me(v?.values?.length||0,T?.values?.length||0);return b!==0?b:j_(v,T)})(a.mapValue,e.mapValue);case 11:return(function(c,d){if(c===mc.mapValue&&d===mc.mapValue)return 0;if(c===mc.mapValue)return 1;if(d===mc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),v=d.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const R=Dd(g[b],T[b]);if(R!==0)return R;const q=Fa(y[g[b]],v[T[b]]);if(q!==0)return q}return Me(g.length,T.length)})(a.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function P_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Me(a,e);const i=Fs(a),r=Fs(e),l=Me(i.seconds,r.seconds);return l!==0?l:Me(i.nanos,r.nanos)}function j_(a,e){const i=a.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Fa(i[l],r[l]);if(c)return c}return Me(i.length,r.length)}function Ga(a){return xd(a)}function xd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Fs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Gs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ge.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=xd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${xd(i.fields[d])}`;return l+"}"})(a.mapValue):Ee(61005,{value:a})}function vc(a){switch(Qs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kc(a);return e?16+vc(e):16;case 5:return 2*a.stringValue.length;case 6:return Gs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+vc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Il(r.fields,((c,d)=>{l+=c.length+vc(d)})),l})(a.mapValue);default:throw Ee(13486,{value:a})}}function Vd(a){return!!a&&"integerValue"in a}function sm(a){return!!a&&"arrayValue"in a}function z_(a){return!!a&&"nullValue"in a}function B_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function pd(a){return!!a&&"mapValue"in a}function fb(a){return(a?.mapValue?.fields||{})[ub]?.stringValue===hb}function gl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Il(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=gl(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=gl(a.arrayValue.values[i]);return e}return{...a}}function db(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===cb}class _i{constructor(e){this.value=e}static empty(){return new _i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!pd(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(i)}setAll(e){let i=en.emptyPath(),r={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=y.popLast()}d?r[y.lastSegment()]=gl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());pd(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];pd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Il(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new _i(gl(this.value))}}class Xt{constructor(e,i,r,l,c,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Xt(e,0,ve.min(),ve.min(),ve.min(),_i.empty(),0)}static newFoundDocument(e,i,r,l){return new Xt(e,1,i,ve.min(),r,l,0)}static newNoDocument(e,i){return new Xt(e,2,i,ve.min(),ve.min(),_i.empty(),0)}static newUnknownDocument(e,i){return new Xt(e,3,i,ve.min(),ve.min(),_i.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oc{constructor(e,i){this.position=e,this.inclusive=i}}function q_(a,e,i){let r=0;for(let l=0;l<a.position.length;l++){const c=e[l],d=a.position[l];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(d.referenceValue),i.key):r=Fa(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function H_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ai(a.position[i],e.position[i]))return!1;return!0}class Mc{constructor(e,i="asc"){this.field=e,this.dir=i}}function mb(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class S0{}class Mt extends S0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new pb(e,i,r):i==="array-contains"?new vb(e,r):i==="in"?new Eb(e,r):i==="not-in"?new Tb(e,r):i==="array-contains-any"?new Sb(e,r):new Mt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new yb(e,r):new _b(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fa(i,this.value)):i!==null&&Qs(this.value)===Qs(i)&&this.matchesComparison(Fa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends S0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new bi(e,i)}matches(e){return A0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A0(a){return a.op==="and"}function b0(a){return gb(a)&&A0(a)}function gb(a){for(const e of a.filters)if(e instanceof bi)return!1;return!0}function Ld(a){if(a instanceof Mt)return a.field.canonicalString()+a.op.toString()+Ga(a.value);if(b0(a))return a.filters.map((e=>Ld(e))).join(",");{const e=a.filters.map((i=>Ld(i))).join(",");return`${a.op}(${e})`}}function w0(a,e){return a instanceof Mt?(function(r,l){return l instanceof Mt&&r.op===l.op&&r.field.isEqual(l.field)&&Ai(r.value,l.value)})(a,e):a instanceof bi?(function(r,l){return l instanceof bi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,y)=>c&&w0(d,l.filters[y])),!0):!1})(a,e):void Ee(19439)}function R0(a){return a instanceof Mt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ga(i.value)}`})(a):a instanceof bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(R0).join(" ,")+"}"})(a):"Filter"}class pb extends Mt{constructor(e,i,r){super(e,i,r),this.key=ge.fromName(r.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class yb extends Mt{constructor(e,i){super(e,"in",i),this.keys=C0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class _b extends Mt{constructor(e,i){super(e,"not-in",i),this.keys=C0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function C0(a,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class vb extends Mt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return sm(i)&&bl(i.arrayValue,this.value)}}class Eb extends Mt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&bl(this.value.arrayValue,i)}}class Tb extends Mt{constructor(e,i){super(e,"not-in",i)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!bl(this.value.arrayValue,i)}}class Sb extends Mt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>bl(this.value.arrayValue,r)))}}class Ab{constructor(e,i=null,r=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function F_(a,e=null,i=[],r=[],l=null,c=null,d=null){return new Ab(a,e,i,r,l,c,d)}function rm(a){const e=Le(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Ld(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Yc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ga(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ga(r))).join(",")),e.Te=i}return e.Te}function am(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!mb(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!w0(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!H_(a.startAt,e.startAt)&&H_(a.endAt,e.endAt)}function kd(a){return ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Xc{constructor(e,i=null,r=[],l=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bb(a,e,i,r,l,c,d,y){return new Xc(a,e,i,r,l,c,d,y)}function om(a){return new Xc(a)}function G_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function wb(a){return a.collectionGroup!==null}function pl(a){const e=Le(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new xt(en.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Mc(c,r))})),i.has(en.keyField().canonicalString())||e.Ie.push(new Mc(en.keyField(),r))}return e.Ie}function Ei(a){const e=Le(a);return e.Ee||(e.Ee=Rb(e,pl(a))),e.Ee}function Rb(a,e){if(a.limitType==="F")return F_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Mc(l.field,c)}));const i=a.endAt?new Oc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Oc(a.startAt.position,a.startAt.inclusive):null;return F_(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function Ud(a,e,i){return new Xc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function $c(a,e){return am(Ei(a),Ei(e))&&a.limitType===e.limitType}function N0(a){return`${rm(Ei(a))}|lt:${a.limitType}`}function Da(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>R0(l))).join(", ")}]`),Yc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ga(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ga(l))).join(",")),`Target(${r})`})(Ei(a))}; limitType=${a.limitType})`}function Zc(a,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,e)&&(function(r,l){for(const c of pl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,e)&&(function(r,l){return!(r.startAt&&!(function(d,y,g){const v=q_(d,y,g);return d.inclusive?v<=0:v<0})(r.startAt,pl(r),l)||r.endAt&&!(function(d,y,g){const v=q_(d,y,g);return d.inclusive?v>=0:v>0})(r.endAt,pl(r),l))})(a,e)}function Cb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function I0(a){return(e,i)=>{let r=!1;for(const l of pl(a)){const c=Nb(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Nb(a,e,i){const r=a.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),v=y.data.field(c);return g!==null&&v!==null?Fa(g,v):Ee(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:a.dir})}}class Pr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Il(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return ab(this.inner)}size(){return this.innerSize}}const Ib=new mt(ge.comparator);function Ys(){return Ib}const D0=new mt(ge.comparator);function hl(...a){let e=D0;for(const i of a)e=e.insert(i.key,i);return e}function Db(a){let e=D0;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Nr(){return yl()}function O0(){return yl()}function yl(){return new Pr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const Ob=new xt(ge.comparator);function Pe(...a){let e=Ob;for(const i of a)e=e.add(i);return e}const Mb=new xt(Me);function xb(){return Mb}function Vb(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function Lb(a){return{integerValue:""+a}}class Jc{constructor(){this._=void 0}}function kb(a,e,i){return a instanceof Pd?(function(l,c){const d={fields:{[v0]:{stringValue:_0},[T0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&im(c)&&(c=Kc(c)),c&&(d.fields[E0]=c),{mapValue:d}})(i,e):a instanceof xc?M0(a,e):a instanceof Vc?x0(a,e):(function(l,c){const d=Pb(l,c),y=Q_(d)+Q_(l.Ae);return Vd(d)&&Vd(l.Ae)?Lb(y):Vb(l.serializer,y)})(a,e)}function Ub(a,e,i){return a instanceof xc?M0(a,e):a instanceof Vc?x0(a,e):i}function Pb(a,e){return a instanceof jd?(function(r){return Vd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Pd extends Jc{}class xc extends Jc{constructor(e){super(),this.elements=e}}function M0(a,e){const i=V0(e);for(const r of a.elements)i.some((l=>Ai(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Vc extends Jc{constructor(e){super(),this.elements=e}}function x0(a,e){let i=V0(e);for(const r of a.elements)i=i.filter((l=>!Ai(l,r)));return{arrayValue:{values:i}}}class jd extends Jc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Q_(a){return dt(a.integerValue||a.doubleValue)}function V0(a){return sm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function jb(a,e){return a.field.isEqual(e.field)&&(function(r,l){return r instanceof xc&&l instanceof xc||r instanceof Vc&&l instanceof Vc?Ha(r.elements,l.elements,Ai):r instanceof jd&&l instanceof jd?Ai(r.Ae,l.Ae):r instanceof Pd&&l instanceof Pd})(a.transform,e.transform)}class Dr{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class lm{}function L0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Bb(a.key,Dr.none()):new um(a.key,a.data,Dr.none());{const i=a.data,r=_i.empty();let l=new xt(en.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Wc(a.key,r,new Ls(l.toArray()),Dr.none())}}function zb(a,e,i){a instanceof um?(function(l,c,d){const y=l.value.clone(),g=K_(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):a instanceof Wc?(function(l,c,d){if(!Ec(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=K_(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(k0(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function _l(a,e,i,r){return a instanceof um?(function(c,d,y,g){if(!Ec(c.precondition,d))return y;const v=c.value.clone(),T=X_(c.fieldTransforms,g,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,e,i,r):a instanceof Wc?(function(c,d,y,g){if(!Ec(c.precondition,d))return y;const v=X_(c.fieldTransforms,g,d),T=d.data;return T.setAll(k0(c)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(a,e,i,r):(function(c,d,y){return Ec(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(a,e,i)}function Y_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ha(r,l,((c,d)=>jb(c,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class um extends lm{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wc extends lm{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function k0(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function K_(a,e,i){const r=new Map;at(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,y=e.data.field(c.field);r.set(c.field,Ub(d,y,i[l]))}return r}function X_(a,e,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,kb(c,d,e))}return r}class Bb extends lm{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qb{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&zb(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=_l(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=_l(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=O0();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=L0(d,y);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(ve.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,((i,r)=>Y_(i,r)))&&Ha(this.baseMutations,e.baseMutations,((i,r)=>Y_(i,r)))}}class Hb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Fb{constructor(e,i){this.count=e,this.unchangedNames=i}}var bt,Ve;function U0(a){if(a===void 0)return Yi("GRPC error has no .code"),J.UNKNOWN;switch(a){case bt.OK:return J.OK;case bt.CANCELLED:return J.CANCELLED;case bt.UNKNOWN:return J.UNKNOWN;case bt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case bt.INTERNAL:return J.INTERNAL;case bt.UNAVAILABLE:return J.UNAVAILABLE;case bt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case bt.NOT_FOUND:return J.NOT_FOUND;case bt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case bt.ABORTED:return J.ABORTED;case bt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case bt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:a})}}(Ve=bt||(bt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";function Gb(){return new TextEncoder}const Qb=new zs([4294967295,4294967295],0);function $_(a){const e=Gb().encode(a),i=new o0;return i.update(e),new Uint8Array(i.digest())}function Z_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new zs([i,r],0),new zs([l,c],0)]}class cm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new fl(`Invalid padding: ${i}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=zs.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(zs.fromNumber(r)));return l.compare(Qb)===1&&(l=new zs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=$_(e),[r,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new cm(c,l,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=$_(e),[r,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class eh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new eh(ve.min(),l,new mt(Me),Ys(),Pe())}}class Dl{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Dl(r,i,Pe(),Pe(),Pe())}}class Tc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class P0{constructor(e,i){this.targetId=e,this.Ce=i}}class j0{constructor(e,i,r=Gt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class J_{constructor(){this.ve=0,this.Fe=W_(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),r=Pe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ee(38017,{changeType:c})}})),new Dl(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=W_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Yb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ys(),this.Je=gc(),this.He=gc(),this.Ye=new mt(Me)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(kd(c))if(r===0){const d=new ge(c.path);this.et(i,d,Xt.newNoDocument(d,ve.min()))}else at(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=Gs(r).toUint8Array()}catch(g){if(g instanceof y0)return qa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new cm(d,l,c)}catch(g){return qa(g instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&kd(y.target)){const g=new ge(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Xt.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Pe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new eh(e,i,this.Ye,this.je,r);return this.je=Ys(),this.Je=gc(),this.He=gc(),this.Ye=new mt(Me),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new J_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new xt(Me),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new xt(Me),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||se("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function gc(){return new mt(ge.comparator)}function W_(){return new mt(ge.comparator)}const Kb={asc:"ASCENDING",desc:"DESCENDING"},Xb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$b={and:"AND",or:"OR"};class Zb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function zd(a,e){return a.useProto3Json||Yc(e)?e:{value:e}}function Jb(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wb(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function La(a){return at(!!a,49232),ve.fromTimestamp((function(i){const r=Fs(i);return new wt(r.seconds,r.nanos)})(a))}function e2(a,e){return Bd(a,e).canonicalString()}function Bd(a,e){const i=(function(l){return new rt(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?i:i.child(e)}function z0(a){const e=rt.fromString(a);return at(G0(e),10190,{key:e.toString()}),e}function yd(a,e){const i=z0(e);if(i.get(1)!==a.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ge(q0(i))}function B0(a,e){return e2(a.databaseId,e)}function t2(a){const e=z0(a);return e.length===4?rt.emptyPath():q0(e)}function ev(a){return new rt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function q0(a){return at(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function n2(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ee(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(v,T){return v.useProto3Json?(at(T===void 0||typeof T=="string",58123),Gt.fromBase64String(T||"")):(at(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Gt.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(v){const T=v.code===void 0?J.UNKNOWN:U0(v.code);return new he(T,v.message||"")})(d);i=new j0(r,l,c,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=yd(a,r.document.name),c=La(r.document.updateTime),d=r.document.createTime?La(r.document.createTime):ve.min(),y=new _i({mapValue:{fields:r.document.fields}}),g=Xt.newFoundDocument(l,c,d,y),v=r.targetIds||[],T=r.removedTargetIds||[];i=new Tc(v,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=yd(a,r.document),c=r.readTime?La(r.readTime):ve.min(),d=Xt.newNoDocument(l,c),y=r.removedTargetIds||[];i=new Tc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=yd(a,r.document),c=r.removedTargetIds||[];i=new Tc([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Fb(l,c),y=r.targetId;i=new P0(y,d)}}return i}function i2(a,e){return{documents:[B0(a,e.path)]}}function s2(a,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=B0(a,l);const c=(function(v){if(v.length!==0)return F0(bi.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((T=>(function(R){return{field:Oa(R.field),direction:o2(R.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=zd(a,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:l}}function r2(a){let e=t2(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){at(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(b){const R=H0(b);return R instanceof bi&&b0(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((R=>(function(ne){return new Mc(Ma(ne.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ne.direction))})(R)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let R;return R=typeof b=="object"?b.value:b,Yc(R)?null:R})(i.limit));let g=null;i.startAt&&(g=(function(b){const R=!!b.before,q=b.values||[];return new Oc(q,R)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const R=!b.before,q=b.values||[];return new Oc(q,R)})(i.endAt)),bb(e,l,d,c,y,"F",g,v)}function a2(a,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function H0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ma(i.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ma(i.unaryFilter.field);return Mt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ma(i.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ma(i.unaryFilter.field);return Mt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Mt.create(Ma(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return bi.create(i.compositeFilter.filters.map((r=>H0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(a):Ee(30097,{filter:a})}function o2(a){return Kb[a]}function l2(a){return Xb[a]}function u2(a){return $b[a]}function Oa(a){return{fieldPath:a.canonicalString()}}function Ma(a){return en.fromServerFormat(a.fieldPath)}function F0(a){return a instanceof Mt?(function(i){if(i.op==="=="){if(B_(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NAN"}};if(z_(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(B_(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NOT_NAN"}};if(z_(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(i.field),op:l2(i.op),value:i.value}}})(a):a instanceof bi?(function(i){const r=i.getFilters().map((l=>F0(l)));return r.length===1?r[0]:{compositeFilter:{op:u2(i.op),filters:r}}})(a):Ee(54877,{filter:a})}function G0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class ks{constructor(e,i,r,l,c=ve.min(),d=ve.min(),y=Gt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class c2{constructor(e){this.yt=e}}function h2(a){const e=r2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Ud(e,e.limit,"L"):e}class f2{constructor(){this.Cn=new d2}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Hs.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class d2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new xt(rt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new xt(rt.comparator)).toArray()}}const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q0=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(Q0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Qa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qa(0)}static cr(){return new Qa(-1)}}const nv="LruGarbageCollector",m2=1048576;function iv([a,e],[i,r]){const l=Me(a,i);return l===0?Me(e,r):l}class g2{constructor(e){this.Ir=e,this.buffer=new xt(iv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();iv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class p2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Wa(i)?se(nv,"Ignoring IndexedDB error during garbage collection: ",i):await Gc(i)}await this.Vr(3e5)}))}}class y2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Qc.ce);const r=new g2(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(tv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,y,g,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(r=b,y=Date.now(),this.removeTargets(e,r,i)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(v=Date.now(),Ia()<=De.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${b} documents in `+(v-g)+`ms
Total Duration: ${v-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function _2(a,e){return new y2(a,e)}class v2{constructor(){this.changes=new Pr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class E2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class T2{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&_l(r.mutation,l,Ls.empty(),wt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Pe()){const l=Nr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=hl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Nr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Pe())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,l){let c=Ys();const d=yl(),y=(function(){return yl()})();return i.forEach(((g,v)=>{const T=r.get(v.key);l.has(v.key)&&(T===void 0||T.mutation instanceof Wc)?c=c.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),_l(T.mutation,v,T.mutation.getFieldMask(),wt.now())):d.set(v.key,Ls.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((v,T)=>d.set(v,T))),i.forEach(((v,T)=>y.set(v,new E2(T,d.get(v)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=yl();let l=new mt(((d,y)=>d-y)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const v=i.get(g);if(v===null)return;let T=r.get(g)||Ls.empty();T=y.applyToLocalView(v,T),r.set(g,T);const b=(l.get(y.batchId)||Pe()).add(g);l=l.insert(y.batchId,b)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),v=g.key,T=g.value,b=O0();T.forEach((R=>{if(!c.has(R)){const q=L0(i.get(R),r.get(R));q!==null&&b.set(R,q),c=c.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,b))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):wb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):X.resolve(Nr());let y=Tl,g=c;return d.next((v=>X.forEach(v,((T,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(e,T).next((R=>{g=g.insert(T,R)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,g,v,Pe()))).next((T=>({batchId:y,changes:Db(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((r=>{let l=hl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=hl();return this.indexManager.getCollectionParents(e,c).next((y=>X.forEach(y,(g=>{const v=(function(b,R){return new Xc(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,l).next((T=>{T.forEach(((b,R)=>{d=d.insert(b,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((g,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,Xt.newInvalidDocument(T)))}));let y=hl();return d.forEach(((g,v)=>{const T=c.get(g);T!==void 0&&_l(T.mutation,v,Ls.empty(),wt.now()),Zc(i,v)&&(y=y.insert(g,v))})),y}))}}class S2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:La(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:h2(l.bundledQuery),readTime:La(l.readTime)}})(i)),X.resolve()}}class A2{constructor(){this.overlays=new mt(ge.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Nr();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const l=Nr(),c=i.length+1,d=new ge(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,v=g.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new mt(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let T=c.get(v.largestBatchId);T===null&&(T=Nr(),c=c.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const y=Nr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,T)=>y.set(v,T))),!(y.size()>=l)););return X.resolve(y)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Hb(i,r));let c=this.qr.get(i);c===void 0&&(c=Pe(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class b2{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class hm{constructor(){this.Qr=new xt(Ut.$r),this.Ur=new xt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Ut(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Ut(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ge(new rt([])),r=new Ut(i,e),l=new Ut(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new rt([])),r=new Ut(i,e),l=new Ut(i,e+1);let c=Pe();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ut(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||Me(e.Yr,i.Yr)}static Kr(e,i){return Me(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class w2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xt(Ut.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qb(c,i,r,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new Ut(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ib:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ut(i,0),l=new Ut(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new xt(Me);return i.forEach((l=>{const c=new Ut(l,0),d=new Ut(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{r=r.add(y.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const d=new Ut(new ge(c),0);let y=new xt(Me);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(y=y.add(g.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){at(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Ut(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Ut(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class R2{constructor(e){this.ri=e,this.docs=(function(){return new mt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(i))}getEntries(e,i){let r=Ys();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Xt.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=Ys();const d=i.path,y=new ge(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||WA(JA(T),r)<=0||(l.has(T.key)||Zc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Ee(9500)}ii(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new C2(this)}getSize(e){return X.resolve(this.size)}}class C2 extends v2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class N2{constructor(e){this.persistence=e,this.si=new Pr((i=>rm(i)),am),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new hm,this.targetCount=0,this.ai=Qa.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Qa(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class Y0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Qc(0),this.li=!1,this.li=!0,this.hi=new b2,this.referenceDelegate=e(this),this.Pi=new N2(this),this.indexManager=new f2,this.remoteDocumentCache=(function(l){return new R2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new c2(i),this.Ii=new S2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new A2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new w2(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){se("MemoryPersistence","Starting transaction:",e);const l=new I2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class I2 extends tb{constructor(e){super(),this.currentSequenceNumber=e}}class fm{constructor(e){this.persistence=e,this.Ri=new hm,this.Vi=null}static mi(e){return new fm(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=ge.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,ve.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Lc{constructor(e,i){this.persistence=e,this.pi=new Pr((r=>sb(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=_2(this,i)}static mi(e,i){return new Lc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,c.removeEntry(d,ve.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=vc(e.data.value)),i}br(e,i,r){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dm{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Pe(),l=Pe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new dm(e,i.fromCache,r,l)}}class D2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class O2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _S()?8:nb($t())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new D2;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Ia()<=De.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Da(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ia()<=De.DEBUG&&se("QueryEngine","Query:",Da(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ia()<=De.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Da(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(i))):X.resolve())}ys(e,i){if(G_(i))return X.resolve(null);let r=Ei(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Ud(i,null,"F"),r=Ei(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Pe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((g=>{const v=this.Ds(i,y);return this.Cs(i,v,d,g.readTime)?this.ys(e,Ud(i,null,"F")):this.vs(e,v,i,g)}))))})))))}ws(e,i,r,l){return G_(i)||l.isEqual(ve.min())?X.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?X.resolve(null):(Ia()<=De.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Da(i)),this.vs(e,d,i,ZA(l,Tl)).next((y=>y)))}))}Ds(e,i){let r=new xt(I0(e));return i.forEach(((l,c)=>{Zc(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return Ia()<=De.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Da(i)),this.ps.getDocumentsMatchingQuery(e,i,Hs.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const mm="LocalStore",M2=3e8;class x2{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new mt(Me),this.xs=new Pr((c=>rm(c)),am),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function V2(a,e,i,r){return new x2(a,e,i,r)}async function K0(a,e){const i=Le(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],y=[];let g=Pe();for(const v of l){d.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of c){y.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(r,g).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:y})))}))}))}function X0(a){const e=Le(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function L2(a,e){const i=Le(a),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];e.targetChanges.forEach(((T,b)=>{const R=l.get(b);if(!R)return;y.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,b))));let q=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?q=q.withResumeToken(Gt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,r)),l=l.insert(b,q),(function($,W,de){return $.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=M2?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(R,q,T)&&y.push(i.Pi.updateTargetData(c,q))}));let g=Ys(),v=Pe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),y.push(k2(c,d,e.documentUpdates).next((T=>{g=T.ks,v=T.qs}))),!r.isEqual(ve.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));y.push(T)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,v))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function k2(a,e,i){let r=Pe(),l=Pe();return i.forEach((c=>r=r.add(c))),e.getEntries(a,r).next((c=>{let d=Ys();return i.forEach(((y,g)=>{const v=c.get(y);g.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):se(mm,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function U2(a,e){const i=Le(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new ks(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function qd(a,e,i){const r=Le(a),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Wa(d))throw d;se(mm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function sv(a,e,i){const r=Le(a);let l=ve.min(),c=Pe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,v,T){const b=Le(g),R=b.xs.get(T);return R!==void 0?X.resolve(b.Ms.get(R)):b.Pi.getTargetData(v,T)})(r,d,Ei(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:ve.min(),i?c:Pe()))).next((y=>(P2(r,Cb(e),y),{documents:y,Qs:c})))))}function P2(a,e,i){let r=a.Os.get(e)||ve.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(e,r)}class rv{constructor(){this.activeTargetIds=xb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j2{constructor(){this.Mo=new rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class z2{Oo(e){}shutdown(){}}const av="ConnectivityMonitor";class ov{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(av,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(av,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pc=null;function Hd(){return pc===null?pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():pc++,"0x"+pc.toString(16)}const _d="RestConnection",B2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Dc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=Hd(),y=this.zo(e,i.toUriEncodedString());se(_d,`Sending RPC '${e}' ${d}:`,y,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:v}=new URL(y),T=$a(v);return this.Jo(e,y,g,r,T).then((b=>(se(_d,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw qa(_d,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",r),b}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ja})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=B2[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class H2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Yt="WebChannelConnection";class F2 extends q2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=Hd();return new Promise(((y,g)=>{const v=new l0;v.setWithCredentials(!0),v.listenOnce(u0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case _c.NO_ERROR:const b=v.getResponseJson();se(Yt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case _c.TIMEOUT:se(Yt,`RPC '${e}' ${d} timed out`),g(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const R=v.getStatus();if(se(Yt,`RPC '${e}' ${d} failed with status:`,R,"response text:",v.getResponseText()),R>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const ne=q?.error;if(ne&&ne.status&&ne.message){const $=(function(de){const le=de.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(le)>=0?le:J.UNKNOWN})(ne.status);g(new he($,ne.message))}else g(new he(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new he(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{se(Yt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);se(Yt,`RPC '${e}' ${d} sending request:`,l),v.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=Hd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=f0(),y=h0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const T=c.join("");se(Yt,`Creating RPC '${e}' stream ${l}: ${T}`,g);const b=d.createWebChannel(T,g);this.I_(b);let R=!1,q=!1;const ne=new H2({Yo:W=>{q?se(Yt,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(R||(se(Yt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),R=!0),se(Yt,`RPC '${e}' stream ${l} sending:`,W),b.send(W))},Zo:()=>b.close()}),$=(W,de,le)=>{W.listen(de,(ue=>{try{le(ue)}catch(Ce){setTimeout((()=>{throw Ce}),0)}}))};return $(b,cl.EventType.OPEN,(()=>{q||(se(Yt,`RPC '${e}' stream ${l} transport opened.`),ne.o_())})),$(b,cl.EventType.CLOSE,(()=>{q||(q=!0,se(Yt,`RPC '${e}' stream ${l} transport closed`),ne.a_(),this.E_(b))})),$(b,cl.EventType.ERROR,(W=>{q||(q=!0,qa(Yt,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),ne.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))})),$(b,cl.EventType.MESSAGE,(W=>{if(!q){const de=W.data[0];at(!!de,16349);const le=de,ue=le?.error||le[0]?.error;if(ue){se(Yt,`RPC '${e}' stream ${l} received error:`,ue);const Ce=ue.status;let Ze=(function(w){const I=bt[w];if(I!==void 0)return U0(I)})(Ce),ke=ue.message;Ze===void 0&&(Ze=J.INTERNAL,ke="Unknown error status: "+Ce+" with message "+ue.message),q=!0,ne.a_(new he(Ze,ke)),b.close()}else se(Yt,`RPC '${e}' stream ${l} received:`,de),ne.u_(de)}})),$(y,c0.STAT_EVENT,(W=>{W.stat===Id.PROXY?se(Yt,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===Id.NOPROXY&&se(Yt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ne.__()}),0),ne}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function vd(){return typeof document<"u"?document:null}function $0(a){return new Zb(a,!0)}class Z0{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const lv="PersistentStream";class G2{constructor(e,i,r,l,c,d,y,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Yi(i.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new he(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(se(lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Q2 extends G2{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=n2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return ve.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ve.min():d.readTime?La(d.readTime):ve.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=ev(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=kd(g)?{documents:i2(c,g)}:{query:s2(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Wb(c,d.resumeToken);const v=zd(c,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(ve.min())>0){y.readTime=Jb(c,d.snapshotVersion.toTimestamp());const v=zd(c,d.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,e);const r=a2(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=ev(this.serializer),i.removeTarget=e,this.q_(i)}}class Y2{}class K2 extends Y2{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Bd(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(J.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Bd(i,r),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class X2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(i),this.aa=!1):se("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ya="RemoteStore";class $2{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ml(this)&&(se(Ya,"Restarting streams for network reachability change."),await(async function(g){const v=Le(g);v.Ea.add(4),await Ol(v),v.Ra.set("Unknown"),v.Ea.delete(4),await th(v)})(this))}))})),this.Ra=new X2(r,l)}}async function th(a){if(Ml(a))for(const e of a.da)await e(!0)}async function Ol(a){for(const e of a.da)await e(!1)}function J0(a,e){const i=Le(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),_m(i)?ym(i):eo(i).O_()&&pm(i,e))}function gm(a,e){const i=Le(a),r=eo(i);i.Ia.delete(e),r.O_()&&W0(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ml(i)&&i.Ra.set("Unknown"))}function pm(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}eo(a).Y_(e)}function W0(a,e){a.Va.Ue(e),eo(a).Z_(e)}function ym(a){a.Va=new Yb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),eo(a).start(),a.Ra.ua()}function _m(a){return Ml(a)&&!eo(a).x_()&&a.Ia.size>0}function Ml(a){return Le(a).Ea.size===0}function eE(a){a.Va=void 0}async function Z2(a){a.Ra.set("Online")}async function J2(a){a.Ia.forEach(((e,i)=>{pm(a,e)}))}async function W2(a,e){eE(a),_m(a)?(a.Ra.ha(e),ym(a)):a.Ra.set("Unknown")}async function ew(a,e,i){if(a.Ra.set("Online"),e instanceof j0&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(a,e)}catch(r){se(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uv(a,r)}else if(e instanceof Tc?a.Va.Ze(e):e instanceof P0?a.Va.st(e):a.Va.tt(e),!i.isEqual(ve.min()))try{const r=await X0(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(v);T&&c.Ia.set(v,T.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,v)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(Gt.EMPTY_BYTE_STRING,T.snapshotVersion)),W0(c,g);const b=new ks(T.target,g,v,T.sequenceNumber);pm(c,b)})),c.remoteSyncer.applyRemoteEvent(y)})(a,i)}catch(r){se(Ya,"Failed to raise snapshot:",r),await uv(a,r)}}async function uv(a,e,i){if(!Wa(e))throw e;a.Ea.add(1),await Ol(a),a.Ra.set("Offline"),i||(i=()=>X0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{se(Ya,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await th(a)}))}async function cv(a,e){const i=Le(a);i.asyncQueue.verifyOperationInProgress(),se(Ya,"RemoteStore received new credentials");const r=Ml(i);i.Ea.add(3),await Ol(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await th(i)}async function tw(a,e){const i=Le(a);e?(i.Ea.delete(2),await th(i)):e||(i.Ea.add(2),await Ol(i),i.Ra.set("Unknown"))}function eo(a){return a.ma||(a.ma=(function(i,r,l){const c=Le(i);return c.sa(),new Q2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:Z2.bind(null,a),t_:J2.bind(null,a),r_:W2.bind(null,a),H_:ew.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),_m(a)?ym(a):a.Ra.set("Unknown")):(await a.ma.stop(),eE(a))}))),a.ma}class vm{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,y=new vm(e,i,d,l,c);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tE(a,e){if(Yi("AsyncQueue",`${e}: ${a}`),Wa(a))return new he(J.UNAVAILABLE,`${e}: ${a}`);throw a}class ka{static emptySet(e){return new ka(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ge.comparator(i.key,r.key):(i,r)=>ge.comparator(i.key,r.key),this.keyedMap=hl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ka)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class hv{constructor(){this.ga=new mt(ge.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Ka{constructor(e,i,r,l,c,d,y,g,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Ka(e,i,ka.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class nw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iw{constructor(){this.queries=fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Le(i),c=l.queries;l.queries=fv(),c.forEach(((d,y)=>{for(const g of y.Sa)g.onError(r)}))})(this,new he(J.ABORTED,"Firestore shutting down"))}}function fv(){return new Pr((a=>N0(a)),$c)}async function nE(a,e){const i=Le(a);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new nw,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=tE(d,`Initialization of query '${Da(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Em(i)}async function iE(a,e){const i=Le(a),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function sw(a,e){const i=Le(a);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(r=!0);d.wa=l}}r&&Em(i)}function rw(a,e,i){const r=Le(a),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function Em(a){a.Ca.forEach((e=>{e.next()}))}var Fd,dv;(dv=Fd||(Fd={})).Ma="default",dv.Cache="cache";class sE{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fd.Cache}}class rE{constructor(e){this.key=e}}class aE{constructor(e){this.key=e}}class aw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=I0(e),this.tu=new ka(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new hv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,b)=>{const R=l.get(T),q=Zc(this.query,b)?b:null,ne=!!R&&this.mutatedKeys.has(R.key),$=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let W=!1;R&&q?R.data.isEqual(q.data)?ne!==$&&(r.track({type:3,doc:q}),W=!0):this.su(R,q)||(r.track({type:2,doc:q}),W=!0,(g&&this.eu(q,g)>0||v&&this.eu(q,v)<0)&&(y=!0)):!R&&q?(r.track({type:0,doc:q}),W=!0):R&&!q&&(r.track({type:1,doc:R}),W=!0,(g||v)&&(y=!0)),W&&(q?(d=d.add(q),c=$?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,b)=>(function(q,ne){const $=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:W})}};return $(q)-$(ne)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(r),l=l??!1;const y=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,v=g!==this.Za;return this.Za=g,d.length!==0||v?{snapshot:new Ka(this.query,e.tu,c,d,e.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new aE(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new rE(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tm="SyncEngine";class ow{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class lw{constructor(e){this.key=e,this.hu=!1}}class uw{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Pr((y=>N0(y)),$c),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ge.comparator),this.Au=new Map,this.Ru=new hm,this.Vu={},this.mu=new Map,this.fu=Qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cw(a,e,i=!0){const r=hE(a);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await oE(r,e,i,!0),l}async function hw(a,e){const i=hE(a);await oE(i,e,!0,!1)}async function oE(a,e,i,r){const l=await U2(a.localStore,Ei(e)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let y;return r&&(y=await fw(a,e,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&J0(a.remoteStore,l),y}async function fw(a,e,i,r,l){a.pu=(b,R,q)=>(async function($,W,de,le){let ue=W.view.ru(de);ue.Cs&&(ue=await sv($.localStore,W.query,!1).then((({documents:D})=>W.view.ru(D,ue))));const Ce=le&&le.targetChanges.get(W.targetId),Ze=le&&le.targetMismatches.get(W.targetId)!=null,ke=W.view.applyChanges(ue,$.isPrimaryClient,Ce,Ze);return gv($,W.targetId,ke.au),ke.snapshot})(a,b,R,q);const c=await sv(a.localStore,e,!0),d=new aw(e,c.Qs),y=d.ru(c.documents),g=Dl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),v=d.applyChanges(y,a.isPrimaryClient,g);gv(a,i,v.au);const T=new ow(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),v.snapshot}async function dw(a,e,i){const r=Le(a),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!$c(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await qd(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&gm(r.remoteStore,l.targetId),Gd(r,l.targetId)})).catch(Gc)):(Gd(r,l.targetId),await qd(r.localStore,l.targetId,!0))}async function mw(a,e){const i=Le(a),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),gm(i.remoteStore,r.targetId))}async function lE(a,e){const i=Le(a);try{const r=await L2(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(at(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?at(d.hu,14607):l.removedDocuments.size>0&&(at(d.hu,42227),d.hu=!1))})),await cE(i,r,e)}catch(r){await Gc(r)}}function mv(a,e,i){const r=Le(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=Le(d);g.onlineState=y;let v=!1;g.queries.forEach(((T,b)=>{for(const R of b.Sa)R.va(y)&&(v=!0)})),v&&Em(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gw(a,e,i){const r=Le(a);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new mt(ge.comparator);d=d.insert(c,Xt.newNoDocument(c,ve.min()));const y=Pe().add(c),g=new eh(ve.min(),new Map,new mt(Me),d,y);await lE(r,g),r.du=r.du.remove(c),r.Au.delete(e),Sm(r)}else await qd(r.localStore,e,!1).then((()=>Gd(r,e,i))).catch(Gc)}function Gd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||uE(a,r)}))}function uE(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(gm(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Sm(a))}function gv(a,e,i){for(const r of i)r instanceof rE?(a.Ru.addReference(r.key,e),pw(a,r)):r instanceof aE?(se(Tm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||uE(a,r.key)):Ee(19791,{wu:r})}function pw(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(se(Tm,"New document in limbo: "+i),a.Eu.add(r),Sm(a))}function Sm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new ge(rt.fromString(e)),r=a.fu.next();a.Au.set(r,new lw(i)),a.du=a.du.insert(i,r),J0(a.remoteStore,new ks(Ei(om(i.path)),r,"TargetPurposeLimboResolution",Qc.ce))}}async function cE(a,e,i){const r=Le(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,g)=>{d.push(r.pu(g,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const T=v?!v.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(v){l.push(v);const T=dm.As(g.targetId,v);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,v){const T=Le(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(v,(R=>X.forEach(R.Es,(q=>T.persistence.referenceDelegate.addReference(b,R.targetId,q))).next((()=>X.forEach(R.ds,(q=>T.persistence.referenceDelegate.removeReference(b,R.targetId,q)))))))))}catch(b){if(!Wa(b))throw b;se(mm,"Failed to update sequence numbers: "+b)}for(const b of v){const R=b.targetId;if(!b.fromCache){const q=T.Ms.get(R),ne=q.snapshotVersion,$=q.withLastLimboFreeSnapshotVersion(ne);T.Ms=T.Ms.insert(R,$)}}})(r.localStore,c))}async function yw(a,e){const i=Le(a);if(!i.currentUser.isEqual(e)){se(Tm,"User change. New user:",e.toKey());const r=await K0(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new he(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cE(i,r.Ls)}}function _w(a,e){const i=Le(a),r=i.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let l=Pe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function hE(a){const e=Le(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=lE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_w.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gw.bind(null,e),e.Pu.H_=sw.bind(null,e.eventManager),e.Pu.yu=rw.bind(null,e.eventManager),e}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return V2(this.persistence,new O2,e.initialUser,this.serializer)}Cu(e){return new Y0(fm.mi,this.serializer)}Du(e){return new j2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class vw extends kc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){at(this.persistence.referenceDelegate instanceof Lc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new p2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Y0((r=>Lc.mi(r,i)),this.serializer)}}class Qd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yw.bind(null,this.syncEngine),await tw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iw})()}createDatastore(e){const i=$0(e.databaseInfo.databaseId),r=(function(c){return new F2(c)})(e.databaseInfo);return(function(c,d,y,g){return new K2(c,d,y,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,y){return new $2(r,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>mv(this.syncEngine,i,0)),(function(){return ov.v()?new ov:new z2})())}createSyncEngine(e,i){return(function(l,c,d,y,g,v,T){const b=new uw(l,c,d,y,g,v);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Le(i);se(Ya,"RemoteStore shutting down."),r.Ea.add(5),await Ol(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qd.provider={build:()=>new Qd};class fE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ks="FirestoreClient";class Ew{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Kt.UNAUTHENTICATED,this.clientId=g0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{se(Ks,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(se(Ks,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=tE(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ed(a,e){a.asyncQueue.verifyOperationInProgress(),se(Ks,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await K0(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function pv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Tw(a);se(Ks,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>cv(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>cv(e.remoteStore,l))),a._onlineComponents=e}async function Tw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){se(Ks,"Using user provided OfflineComponentProvider");try{await Ed(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;qa("Error using user provided cache. Falling back to memory cache: "+i),await Ed(a,new kc)}}else se(Ks,"Using default OfflineComponentProvider"),await Ed(a,new vw(void 0));return a._offlineComponents}async function Sw(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(se(Ks,"Using user provided OnlineComponentProvider"),await pv(a,a._uninitializedComponentsProvider._online)):(se(Ks,"Using default OnlineComponentProvider"),await pv(a,new Qd))),a._onlineComponents}async function Yd(a){const e=await Sw(a),i=e.eventManager;return i.onListen=cw.bind(null,e.syncEngine),i.onUnlisten=dw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mw.bind(null,e.syncEngine),i}function Aw(a,e,i={}){const r=new Ir;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,v){const T=new fE({next:R=>{T.Nu(),d.enqueueAndForget((()=>iE(c,b))),R.fromCache&&g.source==="server"?v.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(R)},error:R=>v.reject(R)}),b=new sE(y,T,{includeMetadataChanges:!0,qa:!0});return nE(c,b)})(await Yd(a),a.asyncQueue,e,i,r))),r.promise}function dE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const yv=new Map;const mE="firestore.googleapis.com",_v=!0;class vv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mE,this.ssl=_v}else this.host=e.host,this.ssl=e.ssl??_v;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m2)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Am{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new PA;switch(r.type){case"firstParty":return new qA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=yv.get(i);r&&(se("ComponentProvider","Removing Datastore"),yv.delete(i),r.terminate())})(this),Promise.resolve()}}function bw(a,e,i,r={}){a=Va(a,Am);const l=$a(e),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},y=`${e}:${i}`;l&&(Wv(`https://${y}`),e0("Firestore",!0)),c.host!==mE&&c.host!==y&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:r};if(!Vr(g,d)&&(a._setSettings(g),r.mockUserToken)){let v,T;if(typeof r.mockUserToken=="string")v=r.mockUserToken,T=Kt.MOCK_USER;else{v=uS(r.mockUserToken,a._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Kt(b)}a._authCredentials=new jA(new m0(v,T))}}class xl{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xl(this.firestore,e,this._query)}}class En{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}toJSON(){return{type:En._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Nl(i,En._jsonSchema))return new En(e,r||null,new ge(rt.fromString(i.referencePath)))}}En._jsonSchemaVersion="firestore/documentReference/1.0",En._jsonSchema={type:Rt("string",En._jsonSchemaVersion),referencePath:Rt("string")};class Ua extends xl{constructor(e,i,r){super(e,i,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ge(e))}withConverter(e){return new Ua(this.firestore,e,this._path)}}function ww(a,e,...i){if(a=Xs(a),a instanceof Am){const r=rt.fromString(e,...i);return M_(r),new Ua(a,null,r)}{if(!(a instanceof En||a instanceof Ua))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(rt.fromString(e,...i));return M_(r),new Ua(a.firestore,null,r)}}const Ev="AsyncQueue";class Tv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z0(this,"async_queue_retry"),this._c=()=>{const r=vd();r&&se(Ev,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=vd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=vd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wa(e))throw e;se(Ev,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",Sv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=vm.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Sv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function Av(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Uc extends Am{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new Tv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tv(e),this._firestoreClient=void 0,await e}}}function Rw(a,e){const i=typeof a=="object"?a:s0(),r=typeof a=="string"?a:Dc,l=tm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=oS("firestore");c&&bw(l,...c)}return l}function gE(a){if(a._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Cw(a),a._firestoreClient}function Cw(a){const e=a._freezeSettings(),i=(function(l,c,d,y){return new lb(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,dE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new Ew(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(Gt.fromBase64String(e))}catch(i){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new vi(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nl(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:Rt("string",vi._jsonSchemaVersion),bytes:Rt("string")};class pE{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bs{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(e){if(Nl(e,Bs._jsonSchema))return new Bs(e.latitude,e.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:Rt("string",Bs._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};class qs{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nl(e,qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new qs(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qs._jsonSchemaVersion="firestore/vectorValue/1.0",qs._jsonSchema={type:Rt("string",qs._jsonSchemaVersion),vectorValues:Rt("object")};const Nw=new RegExp("[~\\*/\\[\\]]");function Iw(a,e,i){if(e.search(Nw)>=0)throw bv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a);try{return new pE(...e.split("."))._internalPath}catch{throw bv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a)}}function bv(a,e,i,r,l){let c=`Function ${e}() called with invalid data`;c+=". ";let d="";return new he(J.INVALID_ARGUMENT,c+a+d)}class yE{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(_E("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Dw extends yE{data(){return super.data()}}function _E(a,e){return typeof e=="string"?Iw(a,e):e instanceof pE?e._internalPath:e._delegate._internalPath}function vE(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ow{convertValue(e,i="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Il(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Md].arrayValue?.values?.map((r=>dt(r.doubleValue)));return new qs(i)}convertGeoPoint(e){return new Bs(dt(e.latitude),dt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Kc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const i=Fs(e);return new wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=rt.fromString(e);at(G0(r),9688,{name:e});const l=new Al(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return l.isEqual(i)||Yi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class dl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Or extends yE{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(_E("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Or._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Or._jsonSchemaVersion="firestore/documentSnapshot/1.0",Or._jsonSchema={type:Rt("string",Or._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Sc extends Or{data(e={}){return super.data(e)}}class Mr{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new dl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Sc(this._firestore,this._userDataWriter,r.key,r,new dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new Sc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new dl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Sc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new dl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,T=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),T=d.indexOf(y.doc.key)),{type:Mw(y.type),doc:g,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=g0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:a})}}Mr._jsonSchemaVersion="firestore/querySnapshot/1.0",Mr._jsonSchema={type:Rt("string",Mr._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class bm extends Ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,i)}}function xw(a){a=Va(a,xl);const e=Va(a.firestore,Uc),i=gE(e),r=new bm(e);return vE(a._query),Aw(i,a._query).then((l=>new Mr(e,r,a,l)))}function Vw(a,...e){a=Xs(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Av(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Av(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,d,y;if(a instanceof En)d=Va(a.firestore,Uc),y=om(a._key.path),c={next:g=>{e[r]&&e[r](Lw(d,a,g))},error:e[r+1],complete:e[r+2]};else{const g=Va(a,xl);d=Va(g.firestore,Uc),y=g._query;const v=new bm(d);c={next:T=>{e[r]&&e[r](new Mr(d,v,g,T))},error:e[r+1],complete:e[r+2]},vE(a._query)}return(function(v,T,b,R){const q=new fE(R),ne=new sE(T,q,b);return v.asyncQueue.enqueueAndForget((async()=>nE(await Yd(v),ne))),()=>{q.Nu(),v.asyncQueue.enqueueAndForget((async()=>iE(await Yd(v),ne)))}})(gE(d),y,l,c)}function Lw(a,e,i){const r=i.docs.get(e._key),l=new bm(a);return new Or(a,l,e._key,r,new dl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Ja=l})(Za),Ba(new Lr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),y=new Uc(new zA(r.getProvider("auth-internal")),new HA(d,r.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(v.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),js(N_,I_,e),js(N_,I_,"esm2020")})();function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kw=EE,TE=new Rl("auth","Firebase",EE());const Pc=new Wd("@firebase/auth");function Uw(a,...e){Pc.logLevel<=De.WARN&&Pc.warn(`Auth (${Za}): ${a}`,...e)}function Ac(a,...e){Pc.logLevel<=De.ERROR&&Pc.error(`Auth (${Za}): ${a}`,...e)}function Ki(a,...e){throw wm(a,...e)}function Ti(a,...e){return wm(a,...e)}function SE(a,e,i){const r={...kw(),[e]:i};return new Rl("auth","Firebase",r).create(e,{appName:a.name})}function xr(a){return SE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(a,...e){if(typeof a!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return TE.create(a,...e)}function pe(a,e,...i){if(!a)throw wm(e,...i)}function Fi(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Ac(e),new Error(e)}function Xi(a,e){a||Fi(e)}function Kd(){return typeof self<"u"&&self.location?.href||""}function Pw(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}function jw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pw()||gS()||"connection"in navigator)?navigator.onLine:!0}function zw(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Vl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Xi(i>e,"Short delay should be less than long delay!"),this.isMobile=fS()||pS()}get(){return jw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(a,e){Xi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class AE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hw=new Vl(3e4,6e4);function Cm(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function to(a,e,i,r,l={}){return bE(a,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const y=Cl({key:a.config.apiKey,...d}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const v={method:e,headers:g,...c};return mS()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&$a(a.emulatorConfig.host)&&(v.credentials="include"),AE.fetch()(await wE(a,a.config.apiHost,i,y),v)})}async function bE(a,e,i){a._canInitEmulator=!1;const r={...Bw,...e};try{const l=new Gw(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw yc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,v]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(a,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw yc(a,"email-already-in-use",d);if(g==="USER_DISABLED")throw yc(a,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw SE(a,T,v);Ki(a,T)}}catch(l){if(l instanceof $i)throw l;Ki(a,"network-request-failed",{message:String(l)})}}async function Fw(a,e,i,r,l={}){const c=await to(a,e,i,r,l);return"mfaPendingCredential"in c&&Ki(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function wE(a,e,i,r){const l=`${e}${i}?${r}`,c=a,d=c.config.emulator?Rm(a.config,l):`${a.config.apiScheme}://${l}`;return qw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Gw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),Hw.get())})}}function yc(a,e,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ti(a,e,r);return l.customData._tokenResponse=i,l}async function Qw(a,e){return to(a,"POST","/v1/accounts:delete",e)}async function jc(a,e){return to(a,"POST","/v1/accounts:lookup",e)}function vl(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Yw(a,e=!1){const i=Xs(a),r=await i.getIdToken(e),l=Nm(r);pe(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:vl(Td(l.auth_time)),issuedAtTime:vl(Td(l.iat)),expirationTime:vl(Td(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Td(a){return Number(a)*1e3}function Nm(a){const[e,i,r]=a.split(".");if(e===void 0||i===void 0||r===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const l=Xv(i);return l?JSON.parse(l):(Ac("Failed to decode base64 JWT payload"),null)}catch(l){return Ac("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Rv(a){const e=Nm(a);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wl(a,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof $i&&Kw(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function Kw({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class Xw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zc(a){const e=a.auth,i=await a.getIdToken(),r=await wl(a,jc(e,{idToken:i}));pe(r?.users.length,e,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?RE(l.providerUserInfo):[],d=Zw(a.providerData,c),y=a.isAnonymous,g=!(a.email&&l.passwordHash)&&!d?.length,v=y?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(a,T)}async function $w(a){const e=Xs(a);await zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zw(a,e){return[...a.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function RE(a){return a.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Jw(a,e){const i=await bE(a,{},async()=>{const r=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await wE(a,l,"/v1/token",`key=${c}`),y=await a._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:r};return a.emulatorConfig&&$a(a.emulatorConfig.host)&&(g.credentials="include"),AE.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Ww(a,e){return to(a,"POST","/v2/accounts:revokeToken",Cm(a,e))}class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const i=Rv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Jw(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Pa;return r&&(pe(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(pe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(pe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Fi("not implemented")}}function Ds(a,e){pe(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Xw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await wl(this,this.stsTokenManager.getToken(this.auth,e));return pe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Yw(this,e)}reload(){return $w(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await wl(this,Qw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,v=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:b,emailVerified:R,isAnonymous:q,providerData:ne,stsTokenManager:$}=i;pe(b&&$,e,"internal-error");const W=Pa.fromJSON(this.name,$);pe(typeof b=="string",e,"internal-error"),Ds(r,e.name),Ds(l,e.name),pe(typeof R=="boolean",e,"internal-error"),pe(typeof q=="boolean",e,"internal-error"),Ds(c,e.name),Ds(d,e.name),Ds(y,e.name),Ds(g,e.name),Ds(v,e.name),Ds(T,e.name);const de=new Yn({uid:b,auth:e,email:l,emailVerified:R,displayName:r,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:W,createdAt:v,lastLoginAt:T});return ne&&Array.isArray(ne)&&(de.providerData=ne.map(le=>({...le}))),g&&(de._redirectEventId=g),de}static async _fromIdTokenResponse(e,i,r=!1){const l=new Pa;l.updateFromServerResponse(i);const c=new Yn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await zc(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];pe(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?RE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new Pa;y.updateFromIdToken(r);const g=new Yn({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,v),g}}const Cv=new Map;function Gi(a){Xi(a instanceof Function,"Expected a class definition");let e=Cv.get(a);return e?(Xi(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Cv.set(a,e),e)}class CE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}CE.type="NONE";const Nv=CE;function bc(a,e,i){return`firebase:${a}:${e}:${i}`}class ja{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await jc(this.auth,{idToken:e}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new ja(Gi(Nv),e,r);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Gi(Nv);const d=bc(r,e.config.apiKey,e.name);let y=null;for(const v of i)try{const T=await v._get(d);if(T){let b;if(typeof T=="string"){const R=await jc(e,{idToken:T}).catch(()=>{});if(!R)break;b=await Yn._fromGetAccountInfoResponse(e,R,T)}else b=Yn._fromJSON(e,T);v!==c&&(y=b),c=v;break}}catch{}const g=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ja(c,e,r):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new ja(c,e,r))}}function Iv(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xE(e))return"Blackberry";if(VE(e))return"Webos";if(IE(e))return"Safari";if((e.includes("chrome/")||DE(e))&&!e.includes("edge/"))return"Chrome";if(ME(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function NE(a=$t()){return/firefox\//i.test(a)}function IE(a=$t()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DE(a=$t()){return/crios\//i.test(a)}function OE(a=$t()){return/iemobile/i.test(a)}function ME(a=$t()){return/android/i.test(a)}function xE(a=$t()){return/blackberry/i.test(a)}function VE(a=$t()){return/webos/i.test(a)}function Im(a=$t()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function eR(a=$t()){return Im(a)&&!!window.navigator?.standalone}function tR(){return yS()&&document.documentMode===10}function LE(a=$t()){return Im(a)||ME(a)||VE(a)||xE(a)||/windows phone/i.test(a)||OE(a)}function kE(a,e=[]){let i;switch(a){case"Browser":i=Iv($t());break;case"Worker":i=`${Iv($t())}-${a}`;break;default:i=a}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Za}/${r}`}class nR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function iR(a,e={}){return to(a,"GET","/v2/passwordPolicy",Cm(a,e))}const sR=6;class rR{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??sR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class aR{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new nR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Gi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ja.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await jc(this,{idToken:e}),r=await Yn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(r=y.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await zc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(xr(this));const i=e?Xs(e):null;return i&&pe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iR(this),i=new rR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ww(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Gi(e)||this._popupRedirectResolver;pe(i,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[Gi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Uw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Dm(a){return Xs(a)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=wS(i=>this.observer=i)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oR(a){Om=a}function lR(a){return Om.loadJS(a)}function uR(){return Om.gapiScript}function cR(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function hR(a,e){const i=tm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Vr(c,e??{}))return l;Ki(l,"already-initialized")}return i.initialize({options:e})}function fR(a,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Gi);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(r,e?.popupRedirectResolver)}function dR(a,e,i){const r=Dm(a);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=UE(e),{host:d,port:y}=mR(e),g=y===null?"":`:${y}`,v={url:`${c}//${d}${g}/`},T=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(Vr(v,r.config.emulator)&&Vr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,$a(d)?(Wv(`${c}//${d}${g}`),e0("Auth",!0)):gR()}function UE(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function mR(a){const e=UE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Ov(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Ov(d)}}}function Ov(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function gR(){function a(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class PE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,i){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function za(a,e){return Fw(a,"POST","/v1/accounts:signInWithIdp",Cm(a,e))}const pR="http://localhost";class Ur extends PE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ur(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ki("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Ur(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return za(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,za(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,za(e,i)}buildRequest(){const e={requestUri:pR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Cl(i)}return e}}class jE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ll extends jE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Os extends Ll{constructor(){super("facebook.com")}static credential(e){return Ur._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";class Ms extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ur._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Ms.credential(i,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";class xs extends Ll{constructor(){super("github.com")}static credential(e){return Ur._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";class Vs extends Ll{constructor(){super("twitter.com")}static credential(e,i){return Ur._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Vs.credential(i,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";class Xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await Yn._fromIdTokenResponse(e,r,l),d=Mv(r);return new Xa({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Mv(r);return new Xa({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Mv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Bc extends $i{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new Bc(e,i,r,l)}}function zE(a,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(a,c,e,r):c})}async function yR(a,e,i=!1){const r=await wl(a,e._linkToIdToken(a.auth,await a.getIdToken()),i);return Xa._forOperation(a,"link",r)}async function _R(a,e,i=!1){const{auth:r}=a;if(yi(r.app))return Promise.reject(xr(r));const l="reauthenticate";try{const c=await wl(a,zE(r,l,e,a),i);pe(c.idToken,r,"internal-error");const d=Nm(c.idToken);pe(d,r,"internal-error");const{sub:y}=d;return pe(a.uid===y,r,"user-mismatch"),Xa._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ki(r,"user-mismatch"),c}}async function vR(a,e,i=!1){if(yi(a.app))return Promise.reject(xr(a));const r="signIn",l=await zE(a,r,e),c=await Xa._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}function ER(a,e,i,r){return Xs(a).onIdTokenChanged(e,i,r)}function TR(a,e,i){return Xs(a).beforeAuthStateChanged(e,i)}const qc="__sak";class BE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const SR=1e3,AR=10;class qE extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);tR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,AR):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},SR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}qE.type="LOCAL";const bR=qE;class HE extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}HE.type="SESSION";const FE=HE;function wR(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const y=Array.from(d).map(async v=>v(i.origin,c)),g=await wR(y);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];function Mm(a="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return a+i}class RR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const v=Mm("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const R=b;if(R.data.eventId===v)switch(R.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(R.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function CR(a){Si().location.href=a}function GE(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function NR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IR(){return navigator?.serviceWorker?.controller||null}function DR(){return GE()?self:null}const QE="firebaseLocalStorageDb",OR=1,Hc="firebaseLocalStorage",YE="fbase_key";class kl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ih(a,e){return a.transaction([Hc],e?"readwrite":"readonly").objectStore(Hc)}function MR(){const a=indexedDB.deleteDatabase(QE);return new kl(a).toPromise()}function $d(){const a=indexedDB.open(QE,OR);return new Promise((e,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Hc,{keyPath:YE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Hc)?e(r):(r.close(),await MR(),e(await $d()))})})}async function xv(a,e,i){const r=ih(a,!0).put({[YE]:e,value:i});return new kl(r).toPromise()}async function xR(a,e){const i=ih(a,!1).get(e),r=await new kl(i).toPromise();return r===void 0?null:r.value}function Vv(a,e){const i=ih(a,!0).delete(e);return new kl(i).toPromise()}const VR=800,LR=3;class KE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>LR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(DR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await NR(),!this.activeServiceWorker)return;this.sender=new RR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $d();return await xv(e,qc,"1"),await Vv(e,qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>xv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>xR(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ih(l,!1).getAll();return new kl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KE.type="LOCAL";const kR=KE;new Vl(3e4,6e4);function UR(a,e){return e?Gi(e):(pe(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class xm extends PE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return za(e,this._buildIdpRequest())}_linkToIdToken(e,i){return za(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return za(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function PR(a){return vR(a.auth,new xm(a),a.bypassAuthState)}function jR(a){const{auth:e,user:i}=a;return pe(i,e,"internal-error"),_R(i,new xm(a),a.bypassAuthState)}async function zR(a){const{auth:e,user:i}=a;return pe(i,e,"internal-error"),yR(i,new xm(a),a.bypassAuthState)}class XE{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PR;case"linkViaPopup":case"linkViaRedirect":return zR;case"reauthViaPopup":case"reauthViaRedirect":return jR;default:Ki(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BR=new Vl(2e3,1e4);class xa extends XE{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BR.get())};e()}}xa.currentPopupAction=null;const qR="pendingRedirect",wc=new Map;class HR extends XE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=wc.get(this.auth._key());if(!e){try{const r=await FR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}wc.set(this.auth._key(),e)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FR(a,e){const i=YR(e),r=QR(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function GR(a,e){wc.set(a._key(),e)}function QR(a){return Gi(a._redirectPersistence)}function YR(a){return bc(qR,a.config.apiKey,a.name)}async function KR(a,e,i=!1){if(yi(a.app))return Promise.reject(xr(a));const r=Dm(a),l=UR(r,e),d=await new HR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const XR=600*1e3;class $R{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!$E(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(e))}saveEventToCache(e){this.cachedEventUids.add(Lv(e)),this.lastProcessedEventTime=Date.now()}}function Lv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function $E({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function ZR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $E(a);default:return!1}}async function JR(a,e={}){return to(a,"GET","/v1/projects",e)}const WR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eC=/^https?/;async function tC(a){if(a.config.emulator)return;const{authorizedDomains:e}=await JR(a);for(const i of e)try{if(nC(i))return}catch{}Ki(a,"unauthorized-domain")}function nC(a){const e=Kd(),{protocol:i,hostname:r}=new URL(e);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!eC.test(i))return!1;if(WR.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const iC=new Vl(3e4,6e4);function kv(){const a=Si().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function sC(a){return new Promise((e,i)=>{function r(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),i(Ti(a,"network-request-failed"))},timeout:iC.get()})}if(Si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Si().gapi?.load)r();else{const l=cR("iframefcb");return Si()[l]=()=>{gapi.load?r():i(Ti(a,"network-request-failed"))},lR(`${uR()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Rc=null,e})}let Rc=null;function rC(a){return Rc=Rc||sC(a),Rc}const aC=new Vl(5e3,15e3),oC="__/auth/iframe",lC="emulator/auth/iframe",uC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hC(a){const e=a.config;pe(e.authDomain,a,"auth-domain-config-required");const i=e.emulator?Rm(e,lC):`https://${a.config.authDomain}/${oC}`,r={apiKey:e.apiKey,appName:a.name,v:Za},l=cC.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Cl(r).slice(1)}`}async function fC(a){const e=await rC(a),i=Si().gapi;return pe(i,a,"internal-error"),e.open({where:document.body,url:hC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ti(a,"network-request-failed"),y=Si().setTimeout(()=>{c(d)},aC.get());function g(){Si().clearTimeout(y),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const dC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mC=500,gC=600,pC="_blank",yC="http://localhost";class Uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _C(a,e,i,r=mC,l=gC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const g={...dC,width:r.toString(),height:l.toString(),top:c,left:d},v=$t().toLowerCase();i&&(y=DE(v)?pC:i),NE(v)&&(e=e||yC,g.scrollbars="yes");const T=Object.entries(g).reduce((R,[q,ne])=>`${R}${q}=${ne},`,"");if(eR(v)&&y!=="_self")return vC(e||"",y),new Uv(null);const b=window.open(e||"",y,T);pe(b,a,"popup-blocked");try{b.focus()}catch{}return new Uv(b)}function vC(a,e){const i=document.createElement("a");i.href=a,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const EC="__/auth/handler",TC="emulator/auth/handler",SC=encodeURIComponent("fac");async function Pv(a,e,i,r,l,c){pe(a.config.authDomain,a,"auth-domain-config-required"),pe(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:Za,eventId:l};if(e instanceof jE){e.setDefaultLanguage(a.languageCode),d.providerId=e.providerId||"",bS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(e instanceof Ll){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}a.tenantId&&(d.tid=a.tenantId);const y=d;for(const T of Object.keys(y))y[T]===void 0&&delete y[T];const g=await a._getAppCheckToken(),v=g?`#${SC}=${encodeURIComponent(g)}`:"";return`${AC(a)}?${Cl(y).slice(1)}${v}`}function AC({config:a}){return a.emulator?Rm(a,TC):`https://${a.authDomain}/${EC}`}const Sd="webStorageSupport";class bC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=KR,this._overrideRedirectResult=GR}async _openPopup(e,i,r,l){Xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Pv(e,i,r,Kd(),l);return _C(e,c,Mm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await Pv(e,i,r,Kd(),l);return CR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Xi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await fC(e),r=new $R(e);return i.register("authEvent",l=>(pe(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Sd,{type:Sd},l=>{const c=l?.[0]?.[Sd];c!==void 0&&i(!!c),Ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=tC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return LE()||IE()||Im()}}const wC=bC;var jv="@firebase/auth",zv="1.12.0";class RC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CC(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NC(a){Ba(new Lr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=r.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:y,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kE(a)},v=new aR(r,l,c,g);return fR(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Ba(new Lr("auth-internal",e=>{const i=Dm(e.getProvider("auth").getImmediate());return(r=>new RC(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(jv,zv,CC(a)),js(jv,zv,"esm2020")}const IC=300,DC=Jv("authIdTokenMaxAge")||IC;let Bv=null;const OC=a=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>DC)return;const l=i?.token;Bv!==l&&(Bv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function MC(a=s0()){const e=tm(a,"auth");if(e.isInitialized())return e.getImmediate();const i=hR(a,{popupRedirectResolver:wC,persistence:[kR,bR,FE]}),r=Jv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=OC(c.toString());TR(i,d,()=>d(i.currentUser)),ER(i,y=>d(y))}}const l=$v("auth");return l&&dR(i,`http://${l}`),i}function xC(){return document.getElementsByTagName("head")?.[0]??document}oR({loadJS(a){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=l=>{const c=Ti("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",xC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NC("Browser");const Cc={apiKey:"AIzaSyCha4S_wLxI_CZY1Tc9FOJNA3cUTggISpU",authDomain:"brakexadmin.firebaseapp.com",projectId:"brakexadmin",storageBucket:"brakexadmin.firebasestorage.app",messagingSenderId:"799264562947",appId:"1:799264562947:web:52d860ae41a5c4b8f75336"},qv=!!(Cc.apiKey&&Cc.apiKey!=="YOUR_API_KEY"&&Cc.apiKey!=="PEGAR_API_KEY_AQUI"),ZE=i0(Cc),VC=Rw(ZE);MC(ZE);const JE=ww(VC,"pastillas"),LC=a=>Vw(JE,e=>{const i=[];e.forEach(r=>{i.push({id:r.id,...r.data()})}),a(i,e.docChanges())},e=>{console.error("Error subscribing to products:",e)}),kC=async()=>{try{const a=await xw(JE),e=[];return a.forEach(i=>{e.push({id:i.id,...i.data()})}),e}catch(a){throw console.error("Error fetching products:",a),a}};const UC=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PC=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),Hv=a=>{const e=PC(a);return e.charAt(0).toUpperCase()+e.slice(1)},WE=(...a)=>a.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),jC=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var zC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BC=tn.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...y},g)=>tn.createElement("svg",{ref:g,...zC,width:e,height:e,stroke:a,strokeWidth:r?Number(i)*24/Number(e):i,className:WE("lucide",l),...!c&&!jC(y)&&{"aria-hidden":"true"},...y},[...d.map(([v,T])=>tn.createElement(v,T)),...Array.isArray(c)?c:[c]]));const Ct=(a,e)=>{const i=tn.forwardRef(({className:r,...l},c)=>tn.createElement(BC,{ref:c,iconNode:e,className:WE(`lucide-${UC(Hv(a))}`,`lucide-${a}`,r),...l}));return i.displayName=Hv(a),i};const qC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],HC=Ct("arrow-right",qC);const FC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Zd=Ct("bell",FC);const GC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fv=Ct("check",GC);const QC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],YC=Ct("chevron-left",QC);const KC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XC=Ct("chevron-right",KC);const $C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ZC=Ct("circle-alert",$C);const JC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],WC=Ct("circle-question-mark",JC);const eN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tN=Ct("clock",eN);const nN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Vm=Ct("heart",nN);const iN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],e1=Ct("history",iN);const sN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],rN=Ct("moon",sN);const aN=[["path",{d:"M20.341 6.484A10 10 0 0 1 10.266 21.85",key:"1enhxb"}],["path",{d:"M3.659 17.516A10 10 0 0 1 13.74 2.152",key:"1crzgf"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],oN=Ct("orbit",aN);const lN=[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]],t1=Ct("package-open",lN);const uN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cN=Ct("refresh-cw",uN);const hN=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Lm=Ct("scale",hN);const fN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],km=Ct("search",fN);const dN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],mN=Ct("sun",dN);const gN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Um=Ct("trash-2",gN);const pN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],yN=Ct("wifi",pN);const _N=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],n1=Ct("x",_N),vN=()=>{const{theme:a,setTheme:e}=oe();tn.useEffect(()=>{document.documentElement.setAttribute("data-theme",a)},[a]);const i=()=>{const r=["light","dark","orbital"],c=(r.indexOf(a)+1)%r.length;e(r[c])};return S.jsxs("button",{className:"theme-toggle",onClick:i,title:`Tema actual: ${a==="light"?"Claro":a==="dark"?"Oscuro":"Orbital"}`,"aria-label":"Cambiar tema",children:[S.jsx("span",{className:"theme-icon theme-icon-light",children:S.jsx(mN,{size:20})}),S.jsx("span",{className:"theme-icon theme-icon-dark",children:S.jsx(rN,{size:20})}),S.jsx("span",{className:"theme-icon theme-icon-orbital",children:S.jsx(oN,{size:20})})]})},EN=()=>{const a=oe(i=>i.ui.notifications.length),e=oe(i=>i.toggleNotificationPanel);return S.jsx("header",{className:"header",children:S.jsxs("div",{className:"header-container",children:[S.jsxs("div",{className:"logo-section",children:[S.jsxs("h1",{className:"logo",children:["BRAKE",S.jsx("svg",{className:"header-x",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 24",width:"36",height:"24",children:S.jsx("path",{fill:"currentColor",d:"M8.98885921,23.8523026 C8.8942483,23.9435442 8.76801031,24 8.62933774,24 L2.03198365,24 C1.73814918,24 1.5,23.7482301 1.5,23.4380086 C1.5,23.2831829 1.55946972,23.1428989 1.65570253,23.0416777 L13.2166154,12.4291351 C13.3325814,12.3262031 13.4061076,12.1719477 13.4061076,11.999444 C13.4061076,11.8363496 13.3401502,11.6897927 13.2352673,11.587431 L1.68841087,0.990000249 C1.57298556,0.88706828 1.5,0.733668282 1.5,0.561734827 C1.5,0.251798399 1.73814918,0.000028513 2.03198365,0.000028513 L8.62933774,0.000028513 C8.76855094,0.000028513 8.89532956,0.0561991444 8.98994048,0.148296169 L21.4358709,11.5757407 C21.548593,11.6783875 21.6196864,11.8297916 21.6196864,11.999444 C21.6196864,12.1693815 21.5483227,12.3219261 21.4350599,12.4251432 L8.98885921,23.8523026 Z M26.5774333,23.8384453 L20.1765996,17.9616286 C20.060093,17.8578413 19.9865669,17.7038710 19.9865669,17.5310822 C19.9865669,17.3859509 20.0390083,17.2536506 20.1246988,17.153855 L23.4190508,14.1291948 C23.5163648,14.0165684 23.6569296,13.945571 23.8131728,13.945571 C23.9602252,13.945571 24.0929508,14.0082997 24.1894539,14.1092357 L33.861933,22.9913237 C33.9892522,23.0939706 34.0714286,23.2559245 34.0714286,23.4381226 C34.0714286,23.748059 33.8332794,23.9998289 33.5394449,23.9998289 L26.9504707,23.9998289 C26.8053105,23.9998289 26.6733958,23.9382408 26.5774333,23.8384453 Z M26.5774333,0.161098511 C26.6733958,0.0615881034 26.8053105,0 26.9504707,0 L33.5394449,0 C33.8332794,0 34.0714286,0.251769886 34.0714286,0.561706314 C34.0714286,0.743904453 33.9892522,0.905573224 33.861933,1.00822006 L24.1894539,9.89030807 C24.0929508,9.99152926 23.9602252,10.0542579 23.8131728,10.0542579 C23.6569296,10.0542579 23.5163648,9.98354562 23.4190508,9.87063409 L20.1246988,6.8459739 C20.0390083,6.74617837 19.9865669,6.613878 19.9865669,6.46874677 Q20.060093,6.14198767 20.1765996,6.03848544 L26.5774333,0.161098511 Z"})})]}),S.jsx("div",{className:"header-separator"}),S.jsx("p",{className:"tagline",children:"Consulta rpida. Frenado seguro."})]}),S.jsxs("div",{className:"header-actions",children:[S.jsx("button",{className:"icon-button",title:"Ayuda","aria-label":"Ayuda",children:S.jsx(WC,{size:20})}),S.jsx(vN,{}),S.jsxs("button",{className:"icon-button",title:"Notificaciones","aria-label":"Notificaciones",onClick:e,children:[S.jsx(Zd,{size:20}),a>0&&S.jsx("span",{className:"notification-badge",children:a})]})]})]})})},TN=["Mg","Ram","Acura","Jetour","Chevrolet","Nissan","Hyundai","Kia","Ford","Toyota","Honda","Mazda","Volkswagen","Renault","Fiat","Peugeot","Citron"],SN=()=>{const a=oe(R=>R.filters),e=oe(R=>R.setSearchQuery),i=oe(R=>R.setSelectedBrand),r=oe(R=>R.setSelectedModel),l=oe(R=>R.setSelectedYear),c=oe(R=>R.setSelectedPosition),d=oe(R=>R.toggleBrandTag),y=oe(R=>R.setOemReference),g=oe(R=>R.setFmsiReference),v=oe(R=>R.setWidth),T=oe(R=>R.setHeight),b=oe(R=>R.clearFilters);return S.jsxs("aside",{className:"sidebar",children:[S.jsxs("div",{className:"sidebar-section",children:[S.jsx("h3",{className:"sidebar-title",children:"Bsqueda Rpida"}),S.jsxs("div",{className:"search-box",children:[S.jsx("input",{type:"text",className:"search-input",placeholder:"Buscar por referencia...",value:a.searchQuery,onChange:R=>e(R.target.value)}),S.jsx(km,{size:18,className:"search-icon"})]})]}),S.jsx("div",{className:"sidebar-divider"}),S.jsxs("div",{className:"sidebar-section",children:[S.jsx("h3",{className:"sidebar-title",children:"Detalles del Vehculo"}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"brand-select",className:"sr-only",children:"Marca"}),S.jsxs("select",{id:"brand-select",className:"filter-select",value:a.selectedBrand,onChange:R=>i(R.target.value),children:[S.jsx("option",{value:"",children:"Marca"}),S.jsx("option",{value:"chevrolet",children:"Chevrolet"}),S.jsx("option",{value:"nissan",children:"Nissan"}),S.jsx("option",{value:"hyundai",children:"Hyundai"}),S.jsx("option",{value:"kia",children:"Kia"}),S.jsx("option",{value:"ford",children:"Ford"}),S.jsx("option",{value:"toyota",children:"Toyota"}),S.jsx("option",{value:"honda",children:"Honda"}),S.jsx("option",{value:"mazda",children:"Mazda"}),S.jsx("option",{value:"volkswagen",children:"Volkswagen"}),S.jsx("option",{value:"renault",children:"Renault"})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"model-select",className:"sr-only",children:"Modelo"}),S.jsxs("select",{id:"model-select",className:"filter-select",value:a.selectedModel,onChange:R=>r(R.target.value),disabled:!a.selectedBrand,children:[S.jsx("option",{value:"",children:"Modelo"}),S.jsx("option",{value:"spark",children:"Spark"}),S.jsx("option",{value:"aveo",children:"Aveo"}),S.jsx("option",{value:"cruze",children:"Cruze"}),S.jsx("option",{value:"malibu",children:"Malibu"}),S.jsx("option",{value:"silverado",children:"Silverado"})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"year-select",className:"sr-only",children:"Ao"}),S.jsxs("select",{id:"year-select",className:"filter-select",value:a.selectedYear,onChange:R=>l(R.target.value),disabled:!a.selectedModel,children:[S.jsx("option",{value:"",children:"Ao"}),Array.from({length:15},(R,q)=>2025-q).map(R=>S.jsx("option",{value:R.toString(),children:R},R))]})]})]}),S.jsx("div",{className:"sidebar-divider"}),S.jsxs("div",{className:"sidebar-section",children:[S.jsx("h3",{className:"sidebar-title",children:"Posicin"}),S.jsxs("div",{className:"position-buttons",children:[S.jsx("button",{className:`position-btn ${a.selectedPosition==="delantera"?"active-delantera":""}`,onClick:()=>c(a.selectedPosition==="delantera"?null:"delantera"),children:"Delantera"}),S.jsx("button",{className:`position-btn ${a.selectedPosition==="trasera"?"active-trasera":""}`,onClick:()=>c(a.selectedPosition==="trasera"?null:"trasera"),children:"Trasera"})]})]}),S.jsx("div",{className:"sidebar-divider"}),S.jsxs("div",{className:"sidebar-section",children:[S.jsx("h3",{className:"sidebar-title",children:"Marcas"}),S.jsx("div",{className:"brand-tags",children:TN.map(R=>S.jsx("button",{className:`brand-tag ${a.selectedBrandTags.includes(R)?"active":""}`,onClick:()=>d(R),children:R},R))})]}),S.jsx("div",{className:"sidebar-divider"}),S.jsxs("div",{className:"sidebar-section",children:[S.jsx("h3",{className:"sidebar-title",children:"Referencias"}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"oem-input",className:"sr-only",children:"OEM"}),S.jsx("input",{id:"oem-input",type:"text",className:"reference-input",placeholder:"OEM",value:a.oemReference,onChange:R=>y(R.target.value)})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"fmsi-input",className:"sr-only",children:"FMSI"}),S.jsx("input",{id:"fmsi-input",type:"text",className:"reference-input",placeholder:"FMSI",value:a.fmsiReference,onChange:R=>g(R.target.value)})]})]}),S.jsx("div",{className:"sidebar-divider"}),S.jsxs("div",{className:"sidebar-section",children:[S.jsx("h3",{className:"sidebar-title",children:"Medidas"}),S.jsxs("div",{className:"measurement-inputs",children:[S.jsxs("div",{className:"measurement-input-wrapper",children:[S.jsx("label",{htmlFor:"width-input",className:"sr-only",children:"Ancho"}),S.jsx("input",{id:"width-input",type:"number",className:"measurement-input",placeholder:"Ancho",value:a.width,onChange:R=>v(R.target.value)}),S.jsx("span",{className:"measurement-unit",children:"mm"})]}),S.jsxs("div",{className:"measurement-input-wrapper",children:[S.jsx("label",{htmlFor:"height-input",className:"sr-only",children:"Alto"}),S.jsx("input",{id:"height-input",type:"number",className:"measurement-input",placeholder:"Alto",value:a.height,onChange:R=>T(R.target.value)}),S.jsx("span",{className:"measurement-unit",children:"mm"})]})]})]}),S.jsxs("button",{className:"clear-filters-btn",onClick:b,children:[S.jsx(Um,{size:18}),"Borrar Filtros"]})]})},AN=()=>{const a=new Date().getFullYear();return S.jsx("footer",{className:"footer",children:S.jsxs("div",{className:"footer-container",children:[S.jsxs("p",{className:"footer-powered",children:["Impulsado por:"," ",S.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"footer-link",children:"GitHub"})," | ",S.jsx("a",{href:"https://gemini.google.com",target:"_blank",rel:"noopener noreferrer",className:"footer-link",children:"Gemini"})]}),S.jsxs("p",{className:"footer-copyright",children:[" ",a," Brake X. Todos los derechos reservados."]})]})})},bN=({totalResults:a,currentStart:e,currentEnd:i})=>{const r=oe(g=>g.comparisons.length),l=oe(g=>g.favorites.length),c=oe(g=>g.openCompareModal),d=oe(g=>g.openFavoritesModal),y=oe(g=>g.openHistoryModal);return S.jsxs("div",{className:"results-bar",children:[S.jsxs("p",{className:"results-text",children:["Mostrando"," ",S.jsxs("span",{className:"results-count",children:[e,"-",i]})," ","de"," ",S.jsx("span",{className:"results-count",children:a})," ","resultados"]}),S.jsxs("div",{className:"results-actions",children:[S.jsxs("button",{className:`results-action-btn ${r>0?"active":""}`,onClick:c,title:"Comparar productos",children:[S.jsx(Lm,{size:18}),S.jsx("span",{children:"Comparar"}),r>0&&S.jsx("span",{className:"action-badge action-badge-compare",children:r})]}),S.jsxs("button",{className:`results-action-btn ${l>0?"active":""}`,onClick:d,title:"Ver favoritos",children:[S.jsx(Vm,{size:18}),S.jsx("span",{children:"Favoritos"}),l>0&&S.jsx("span",{className:"action-badge action-badge-favorite",children:l})]}),S.jsxs("button",{className:"results-action-btn",onClick:y,title:"Historial de bsquedas",children:[S.jsx(e1,{size:18}),S.jsx("span",{children:"Historial"})]})]})]})},i1=ul.memo(({product:a})=>{const e=oe(g=>g.favorites.includes(a.id)),i=oe(g=>g.comparisons.includes(a.id)),r=oe(g=>g.toggleFavorite),l=oe(g=>g.toggleComparison),c=oe(g=>g.openProductDetailModal),d=g=>g==="DELANTERA"?"position-badge-delantera":g==="TRASERA"?"position-badge-trasera":"position-badge-ambas",y=()=>{if(!a.aplicaciones||a.aplicaciones.length===0)return"Sin aplicaciones";const g=a.aplicaciones[0],v=a.aplicaciones.length-1;let T=`${g.marca} ${g.modelo}`;return g.ao&&(T+=` (${g.ao})`),v>0&&(T+=`, +${v} ms`),T};return S.jsxs("div",{className:"product-card",children:[S.jsxs("div",{className:"card-header",children:[S.jsx("span",{className:`position-badge ${d(a.posicion)}`,children:a.posicion}),S.jsxs("div",{className:"action-icons",children:[S.jsx("button",{className:`action-icon action-icon-compare ${i?"active":""}`,onClick:()=>l(a.id),title:i?"Quitar de comparacin":"Agregar a comparacin","aria-label":"Comparar",children:S.jsx(Lm,{size:16})}),S.jsx("button",{className:`action-icon action-icon-favorite ${e?"active":""}`,onClick:()=>r(a.id),title:e?"Quitar de favoritos":"Agregar a favoritos","aria-label":"Favorito",children:S.jsx(Vm,{size:16,fill:e?"currentColor":"none"})})]})]}),S.jsx("div",{className:"image-container",onClick:()=>c(a.id),children:S.jsx("img",{src:a.imagenes?.[0]||"https://via.placeholder.com/200x150?text=Brake+Pad",alt:`Pastilla de freno ${a.referencia}`,className:"product-image",loading:"lazy"})}),S.jsx("div",{className:"ref-badges",children:(a.ref||[]).map((g,v)=>S.jsx("span",{className:`ref-badge ${v%2===0?"ref-badge-blue":"ref-badge-red"}`,children:g},g))}),S.jsxs("div",{className:"card-content",children:[S.jsx("p",{className:"manufacturer",children:a.fabricante}),S.jsx("p",{className:"applications",children:y()}),a.medidas&&S.jsxs("div",{className:"measurements",children:[S.jsxs("span",{className:"measurement-item",children:["Ancho: ",a.medidas.ancho,"mm"]}),S.jsxs("span",{className:"measurement-item",children:["Alto: ",a.medidas.alto,"mm"]})]}),S.jsx("button",{className:"view-details-btn",onClick:()=>c(a.id),children:"Ver Detalles"})]})]})}),wN=({products:a,onClearFilters:e})=>a.length===0?S.jsx("div",{className:"product-grid",children:S.jsxs("div",{className:"grid-empty",children:[S.jsx(t1,{className:"empty-icon"}),S.jsx("h3",{className:"empty-title",children:"No se encontraron productos"}),S.jsx("p",{className:"empty-message",children:"Intenta ajustar los filtros para ver ms resultados"}),e&&S.jsx("button",{className:"empty-action",onClick:e,children:"Borrar todos los filtros"})]})}):S.jsx("div",{className:"product-grid",children:a.map(i=>S.jsx(i1,{product:i},i.id))}),RN=({currentPage:a,totalPages:e,onPageChange:i})=>{if(e<=1)return null;const r=()=>{const l=[];if(e<=5)for(let d=1;d<=e;d++)l.push(S.jsx("button",{className:`page-btn ${a===d?"active":""}`,onClick:()=>i(d),children:d},d));else{l.push(S.jsx("button",{className:`page-btn ${a===1?"active":""}`,onClick:()=>i(1),children:"1"},1)),a>3&&l.push(S.jsx("span",{className:"page-dots",children:"..."},"dots-start"));const d=Math.max(2,a-1),y=Math.min(e-1,a+1);for(let g=d;g<=y;g++)l.push(S.jsx("button",{className:`page-btn ${a===g?"active":""}`,onClick:()=>i(g),children:g},g));a<e-2&&l.push(S.jsx("span",{className:"page-dots",children:"..."},"dots-end")),l.push(S.jsx("button",{className:`page-btn ${a===e?"active":""}`,onClick:()=>i(e),children:e},e))}return l};return S.jsxs("div",{className:"pagination",children:[S.jsx("button",{className:"page-btn",onClick:()=>i(a-1),disabled:a===1,"aria-label":"Pgina anterior",children:S.jsx(YC,{size:18})}),r(),S.jsx("button",{className:"page-btn",onClick:()=>i(a+1),disabled:a===e,"aria-label":"Pgina siguiente",children:S.jsx(XC,{size:18})})]})};var CN=Qv();const sh=({isOpen:a,onClose:e,title:i,children:r,size:l="default"})=>{if(tn.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]),tn.useEffect(()=>{const d=y=>{y.key==="Escape"&&e()};return a&&window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[a,e]),!a)return null;const c=l==="large"?"modal-large":l==="xl"?"modal-xl":"";return CN.createPortal(S.jsx("div",{className:"modal-overlay",onClick:e,children:S.jsxs("div",{className:`modal-container ${c}`,onClick:d=>d.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h2",{id:"modal-title",className:"modal-title",children:i}),S.jsx("button",{className:"modal-close-btn",onClick:e,"aria-label":"Cerrar modal",children:S.jsx(n1,{size:24})})]}),S.jsx("div",{className:"modal-body",children:r})]})}),document.body)},NN=()=>{const a=oe(b=>b.ui.isProductDetailModalOpen),e=oe(b=>b.ui.selectedProductId),i=oe(b=>b.products),r=oe(b=>b.closeProductDetailModal),l=oe(b=>b.toggleFavorite),c=oe(b=>b.toggleComparison),d=oe(b=>b.favorites),y=oe(b=>b.comparisons),g=i.find(b=>b.id===e);if(!g)return null;const v=d.includes(g.id),T=y.includes(g.id);return S.jsx(sh,{isOpen:a,onClose:r,title:`Detalles del Producto - ${g.referencia}`,size:"large",children:S.jsxs("div",{className:"detail-grid",children:[S.jsxs("div",{className:"detail-image-section",children:[S.jsx("img",{src:g.imagenes[0],alt:g.referencia,className:"detail-image"}),S.jsxs("div",{className:"action-icons",style:{position:"absolute",top:"1rem",right:"1rem"},children:[S.jsx("button",{className:`action-icon action-icon-compare ${T?"active":""}`,onClick:()=>c(g.id),title:"Comparar",children:S.jsx(Lm,{size:20})}),S.jsx("button",{className:`action-icon action-icon-favorite ${v?"active":""}`,onClick:()=>l(g.id),title:"Favorito",children:S.jsx(Vm,{size:20,fill:v?"currentColor":"none"})})]})]}),S.jsxs("div",{className:"detail-info-section",children:[S.jsx("div",{children:S.jsx("span",{className:`position-badge ${g.posicion==="DELANTERA"?"position-badge-delantera":g.posicion==="TRASERA"?"position-badge-trasera":"position-badge-ambas"}`,children:g.posicion})}),S.jsxs("div",{className:"detail-specs-grid",children:[S.jsxs("div",{className:"spec-item",children:[S.jsx("span",{className:"spec-label",children:"Fabricante"}),S.jsx("span",{className:"spec-value",children:g.fabricante})]}),S.jsxs("div",{className:"spec-item",children:[S.jsx("span",{className:"spec-label",children:"Referencia Principal"}),S.jsx("span",{className:"spec-value",children:g.referencia})]})]}),S.jsxs("div",{className:"spec-item",children:[S.jsx("span",{className:"spec-label",children:"Referencias FMSI / OEM"}),S.jsxs("div",{className:"detail-refs",children:[g.fmsi.map(b=>S.jsx("span",{className:"ref-badge ref-badge-green",children:b},b)),g.oem.map(b=>S.jsx("span",{className:"ref-badge ref-badge-yellow",children:b},b))]})]}),S.jsxs("div",{className:"spec-item",style:{background:"var(--bg-primary)",padding:"1rem",borderRadius:"0.5rem"},children:[S.jsx("span",{className:"spec-label",style:{marginBottom:"0.5rem",display:"block"},children:"Medidas"}),S.jsxs("div",{className:"detail-specs-grid",children:[S.jsxs("div",{children:[S.jsx("span",{className:"spec-label",children:"Ancho"}),S.jsxs("span",{className:"spec-value",children:[g.medidas.ancho," mm"]})]}),S.jsxs("div",{children:[S.jsx("span",{className:"spec-label",children:"Alto"}),S.jsxs("span",{className:"spec-value",children:[g.medidas.alto," mm"]})]})]})]}),S.jsxs("div",{className:"spec-item",children:[S.jsx("span",{className:"spec-label",children:"Aplicaciones"}),S.jsx("ul",{style:{listStyle:"none",marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:g.aplicaciones.map((b,R)=>S.jsxs("li",{className:"spec-value",style:{fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx(km,{size:14,className:"text-tertiary"}),S.jsxs("span",{children:[S.jsx("strong",{children:b.marca})," ",b.modelo," ",b.ao?`(${b.ao})`:""]})]},R))})]})]})]})})},IN=()=>{const a=oe(c=>c.ui.isFavoritesModalOpen),e=oe(c=>c.favorites),i=oe(c=>c.products),r=oe(c=>c.closeFavoritesModal),l=i.filter(c=>e.includes(c.id));return S.jsx(sh,{isOpen:a,onClose:r,title:`Mis Favoritos (${e.length})`,size:"xl",children:l.length>0?S.jsx("div",{className:"product-grid",children:l.map(c=>S.jsx(i1,{product:c},c.id))}):S.jsxs("div",{className:"grid-empty",children:[S.jsx(t1,{className:"empty-icon"}),S.jsx("h3",{className:"empty-title",children:"Sin Favoritos"}),S.jsx("p",{className:"empty-message",children:"Agrega productos a tus favoritos para verlos aqu."})]})})},DN=()=>{const a=oe(d=>d.ui.isCompareModalOpen),e=oe(d=>d.comparisons),i=oe(d=>d.products),r=oe(d=>d.closeCompareModal),l=oe(d=>d.toggleComparison),c=i.filter(d=>e.includes(d.id));return S.jsx(sh,{isOpen:a,onClose:r,title:"Comparar Productos",size:"xl",children:c.length===0?S.jsxs("div",{className:"grid-empty",children:[S.jsx(ZC,{className:"empty-icon"}),S.jsx("h3",{className:"empty-title",children:"Sin productos para comparar"}),S.jsx("p",{className:"empty-message",children:"Selecciona productos usando el icono de balanza () tarjeta."})]}):S.jsx("div",{className:"compare-table-container",children:S.jsx("table",{className:"compare-table",children:S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{className:"compare-feature-header",children:"Producto"}),c.map(d=>S.jsxs("td",{className:"compare-product-col",children:[S.jsx("img",{src:d.imagenes[0],alt:d.referencia,className:"compare-image"}),S.jsx("div",{className:"compare-ref-title",children:d.referencia}),S.jsx("div",{className:"compare-manufacturer",children:d.fabricante}),S.jsxs("button",{className:"compare-remove-btn",onClick:()=>l(d.id),children:[S.jsx(Um,{size:14})," Quitar"]})]},d.id))]}),S.jsxs("tr",{children:[S.jsx("td",{className:"compare-feature-header",children:"Posicin"}),c.map(d=>S.jsx("td",{className:"compare-product-col",children:S.jsx("span",{className:`position-badge ${d.posicion==="DELANTERA"?"position-badge-delantera":d.posicion==="TRASERA"?"position-badge-trasera":"position-badge-ambas"}`,children:d.posicion})},d.id))]}),S.jsxs("tr",{children:[S.jsx("td",{className:"compare-feature-header",children:"Medidas"}),c.map(d=>S.jsxs("td",{className:"compare-product-col",children:[S.jsx("strong",{children:"Ancho:"})," ",d.medidas.ancho," mm ",S.jsx("br",{}),S.jsx("strong",{children:"Alto:"})," ",d.medidas.alto," mm"]},d.id))]}),S.jsxs("tr",{children:[S.jsx("td",{className:"compare-feature-header",children:"FMSI / OEM"}),c.map(d=>S.jsx("td",{className:"compare-product-col",children:S.jsx("div",{className:"detail-refs",children:d.fmsi.concat(d.oem).map(y=>S.jsx("span",{className:"ref-badge",style:{background:"var(--bg-primary)",color:"var(--text-secondary)",fontSize:"0.7em"},children:y},y))})},d.id))]}),S.jsxs("tr",{children:[S.jsx("td",{className:"compare-feature-header",children:"Aplicaciones"}),c.map(d=>S.jsx("td",{className:"compare-product-col",children:S.jsxs("ul",{style:{listStyle:"none",fontSize:"0.85rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[d.aplicaciones.slice(0,3).map((y,g)=>S.jsxs("li",{children:[S.jsx("strong",{children:y.marca})," ",y.modelo," ",y.ao?`(${y.ao})`:""]},g)),d.aplicaciones.length>3&&S.jsxs("li",{style:{color:"var(--text-tertiary)"},children:["+",d.aplicaciones.length-3," ms..."]})]})},d.id))]})]})})})})},ON=()=>{const a=oe(T=>T.ui.isHistoryModalOpen),e=oe(T=>T.searchHistory),i=oe(T=>T.closeHistoryModal),r=oe(T=>T.setSearchQuery),l=oe(T=>T.clearFilters),c=oe(T=>T.setSelectedBrand),d=oe(T=>T.setSelectedModel),y=oe(T=>T.setSelectedYear),g=T=>{l(),T.searchQuery&&r(T.searchQuery),T.selectedBrand&&c(T.selectedBrand),T.selectedModel&&d(T.selectedModel),T.selectedYear&&y(T.selectedYear),i()},v=T=>new Date(T).toLocaleString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return S.jsx(sh,{isOpen:a,onClose:i,title:"Historial de Bsqueda",size:"default",children:e.length===0?S.jsxs("div",{className:"grid-empty",children:[S.jsx(e1,{className:"empty-icon"}),S.jsx("h3",{className:"empty-title",children:"Historial Vaco"}),S.jsx("p",{className:"empty-message",children:"Tus bsquedas recientes aparecern aqu."})]}):S.jsx("div",{className:"history-list",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:e.map(T=>S.jsxs("button",{onClick:()=>g(T.filters),className:"history-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"var(--bg-primary)",border:"1px solid var(--border-primary)",borderRadius:"0.5rem",cursor:"pointer",textAlign:"left",width:"100%"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[S.jsx(km,{size:20,className:"text-secondary"}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"500",color:"var(--text-primary)"},children:T.summary||"Bsqueda General"}),S.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-tertiary)",marginTop:"0.25rem"},children:[T.resultCount," resultados encontrados"]})]})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.75rem",color:"var(--text-tertiary)"},children:[S.jsx(tN,{size:14}),v(T.timestamp)]})]},T.id))})})},MN=()=>{const a=oe(d=>d.isNotificationPanelOpen),e=oe(d=>d.ui.notifications),i=oe(d=>d.closeNotificationPanel),r=oe(d=>d.markAsRead),l=oe(d=>d.clearAllNotifications);if(!a)return null;const c=d=>{const y=new Date(d);return y.toLocaleDateString()+" "+y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})};return S.jsx("div",{className:"fixed-container",children:S.jsxs("div",{className:"notification-card",children:[S.jsxs("header",{className:"notification-header",children:[S.jsx("h2",{className:"notification-title",children:"Notificaciones"}),S.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.length>0&&S.jsx("button",{onClick:l,className:"close-btn",title:"Limpiar todo",style:{color:"#ef4444"},children:S.jsx(Um,{size:20})}),S.jsx("button",{onClick:i,className:"close-btn",title:"Cerrar",children:S.jsx(n1,{size:24})})]})]}),S.jsx("div",{className:"notification-list custom-scrollbar",children:e.length===0?S.jsxs("div",{className:"empty-state",children:[S.jsx(Zd,{size:48,className:"empty-icon"}),S.jsx("p",{children:"Sin notificaciones pendientes"})]}):e.map(d=>S.jsxs("div",{className:"notification-group",children:[S.jsxs("div",{className:"item-header",children:[S.jsx(Zd,{size:18,className:"bell-icon"}),S.jsx("h3",{className:"item-title",children:d.title}),!d.read&&S.jsx("div",{className:"unread-dot"})]}),S.jsx("p",{className:"item-message",children:d.message}),S.jsxs("div",{className:"item-footer",children:[d.read?S.jsxs("div",{className:"read-status",children:[S.jsx(Fv,{size:14}),S.jsx("span",{children:"LEDO"})]}):S.jsxs("button",{className:"read-action",onClick:()=>r(d.id),children:[S.jsx(Fv,{size:14}),S.jsx("span",{children:"LEDO"})]}),S.jsx("span",{className:"item-time",children:c(d.timestamp)})]})]},d.id))})]})})},xN="modulepreload",VN=function(a){return"/BrakeXAlfa/"+a},Gv={},LN=function(e,i,r){let l=Promise.resolve();if(i&&i.length>0){let v=function(T){return Promise.all(T.map(b=>Promise.resolve(b).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};var d=v;document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),g=y?.nonce||y?.getAttribute("nonce");l=v(i.map(T=>{if(T=VN(T),T in Gv)return;Gv[T]=!0;const b=T.endsWith(".css"),R=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${R}`))return;const q=document.createElement("link");if(q.rel=b?"stylesheet":xN,b||(q.as="script"),q.crossOrigin="",q.href=T,g&&q.setAttribute("nonce",g),document.head.appendChild(q),b)return new Promise((ne,$)=>{q.addEventListener("load",ne),q.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${T}`)))})}))}function c(y){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=y,window.dispatchEvent(g),!g.defaultPrevented)throw y}return l.then(y=>{for(const g of y||[])g.status==="rejected"&&c(g.reason);return e().catch(c)})};function kN(a={}){const{immediate:e=!1,onNeedRefresh:i,onOfflineReady:r,onRegistered:l,onRegisteredSW:c,onRegisterError:d}=a;let y,g;const v=async(b=!0)=>{await g};async function T(){if("serviceWorker"in navigator){if(y=await LN(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/BrakeXAlfa/sw.js",{scope:"/BrakeXAlfa/",type:"classic"})).catch(b=>{d?.(b)}),!y)return;y.addEventListener("activated",b=>{(b.isUpdate||b.isExternal)&&window.location.reload()}),y.addEventListener("installed",b=>{b.isUpdate||r?.()}),y.register({immediate:e}).then(b=>{c?c("/BrakeXAlfa/sw.js",b):l?.(b)}).catch(b=>{d?.(b)})}}return g=T(),v}function UN(a={}){const{immediate:e=!0,onNeedRefresh:i,onOfflineReady:r,onRegistered:l,onRegisteredSW:c,onRegisterError:d}=a,[y,g]=tn.useState(!1),[v,T]=tn.useState(!1),[b]=tn.useState(()=>kN({immediate:e,onOfflineReady(){T(!0),r?.()},onNeedRefresh(){g(!0),i?.()},onRegistered:l,onRegisteredSW:c,onRegisterError:d}));return{needRefresh:[y,g],offlineReady:[v,T],updateServiceWorker:b}}function PN(){const{offlineReady:[a,e],needRefresh:[i,r],updateServiceWorker:l}=UN({onRegistered(d){d&&setInterval(()=>d.update(),36e5)}}),c=()=>{e(!1),r(!1)};return!a&&!i?null:S.jsxs("div",{className:"ReloadPrompt-container",children:[S.jsx("div",{className:"ReloadPrompt-overlay"}),S.jsxs("div",{className:"ReloadPrompt-toast",children:[S.jsx("div",{className:"ReloadPrompt-icon-wrapper",children:a?S.jsx(yN,{size:32}):S.jsx(cN,{size:32,className:"spin-animate"})}),S.jsxs("div",{className:"ReloadPrompt-message",children:[S.jsx("h3",{children:a?"Modo Offline":"Hay mejoras!"}),S.jsx("p",{children:a?"La aplicacin est lista para usarse sin conexin a internet.":"Una nueva versin de Brake X est disponible con mejoras de rendimiento."})]}),S.jsxs("div",{className:"ReloadPrompt-actions",children:[i&&S.jsxs("button",{className:"ReloadPrompt-btn ReloadPrompt-btn-primary",onClick:()=>l(!0),children:["Actualizar ahora ",S.jsx(HC,{size:20,style:{marginLeft:"8px"}})]}),a&&!i&&S.jsx("button",{className:"ReloadPrompt-btn ReloadPrompt-btn-primary",onClick:c,children:"Entendido"})]})]})]})}function jN(){const a=oe(q=>q.filteredProducts),e=oe(q=>q.ui),i=oe(q=>q.setProducts),r=oe(q=>q.clearFilters),l=oe(q=>q.setCurrentPage),c=async()=>{try{if(qv)try{const q=await kC();i(q)}catch(q){console.error("Error connecting to Firebase:",q),i([]),alert(`Error conectando a Firebase:
${q.message}

Revisa si tu base de datos Firestore est creada y si las Reglas de Seguridad permiten lectura (allow read: if true).`)}else console.error("Firebase not configured."),i([]),alert("Firebase no est configurado. Por favor configura el archivo .env o edita src/services/firebase.ts")}catch(q){console.error("Error loading products:",q)}};tn.useEffect(()=>{if(!qv){c();return}let q=!0;const ne=LC(($,W)=>{if(i($),!q&&W){const de=oe.getState();W.forEach(le=>{const ue=le.doc.data(),Ce=ue.referencia||ue.ref&&ue.ref[0]||le.doc.id;le.type==="added"?de.addNotification({type:"data",title:"Referencia Agregada",message:`Se ha aadido la referencia ${Ce} al catlogo.`}):le.type==="modified"?de.addNotification({type:"data",title:"Referencia Actualizada",message:`La referencia ${Ce} ha sido modificada.`}):le.type==="removed"&&de.addNotification({type:"data",title:"Referencia Eliminada",message:`La referencia ${Ce} ha sido retirada.`})})}q=!1});return()=>ne()},[]);const{currentPage:d,itemsPerPage:y}=e,g=a.length,v=Math.ceil(g/y),T=(d-1)*y,b=Math.min(T+y,g),R=tn.useMemo(()=>a.slice(T,b),[a,T,b]);return S.jsxs("div",{className:"app",children:[S.jsx(EN,{}),S.jsxs("div",{className:"main-layout",children:[S.jsx(SN,{}),S.jsx("main",{className:"main-content",children:S.jsxs("div",{className:"content-wrapper",children:[S.jsx(bN,{totalResults:g,currentStart:T+1,currentEnd:b}),S.jsx(wN,{products:R,onClearFilters:r}),S.jsx(RN,{currentPage:d,totalPages:v,onPageChange:l})]})})]}),S.jsx(AN,{}),S.jsx(MN,{}),S.jsx(PN,{}),S.jsx(NN,{}),S.jsx(IN,{}),S.jsx(DN,{}),S.jsx(ON,{})]})}HT.createRoot(document.getElementById("root")).render(S.jsx(tn.StrictMode,{children:S.jsx(jN,{})}));
