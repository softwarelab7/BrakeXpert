(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function xT(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var sd={exports:{}},ol={};var i_;function VT(){if(i_)return ol;i_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return ol.Fragment=e,ol.jsx=i,ol.jsxs=i,ol}var s_;function kT(){return s_||(s_=1,sd.exports=VT()),sd.exports}var S=kT(),rd={exports:{}},_e={};var r_;function LT(){if(r_)return _e;r_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,J={};function $(M,K,se){this.props=M,this.context=K,this.refs=J,this.updater=se||te}$.prototype.isReactComponent={},$.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},$.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function re(){}re.prototype=$.prototype;function ne(M,K,se){this.props=M,this.context=K,this.refs=J,this.updater=se||te}var we=ne.prototype=new re;we.constructor=ne,X(we,$.prototype),we.isPureReactComponent=!0;var Be=Array.isArray;function Re(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,K,se){var ae=se.ref;return{$$typeof:a,type:M,key:K,ref:ae!==void 0?ae:null,props:se}}function V(M,K){return I(M.type,K,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function L(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return K[se]})}var R=/\/+/g;function nt(M,K){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):K.toString(36)}function Nt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Re,Re):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,K,se,ae,ye){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var Ve=!1;if(M===null)Ve=!0;else switch(Ae){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(M.$$typeof){case a:case e:Ve=!0;break;case T:return Ve=M._init,G(Ve(M._payload),K,se,ae,ye)}}if(Ve)return ye=ye(M),Ve=ae===""?"."+nt(M,0):ae,Be(ye)?(se="",Ve!=null&&(se=Ve.replace(R,"$&/")+"/"),G(ye,K,se,"",function(Zs){return Zs})):ye!=null&&(O(ye)&&(ye=V(ye,se+(ye.key==null||M&&M.key===ye.key?"":(""+ye.key).replace(R,"$&/")+"/")+Ve)),K.push(ye)),1;Ve=0;var Dt=ae===""?".":ae+":";if(Be(M))for(var it=0;it<M.length;it++)ae=M[it],Ae=Dt+nt(ae,it),Ve+=G(ae,K,se,Ae,ye);else if(it=H(M),typeof it=="function")for(M=it.call(M),it=0;!(ae=M.next()).done;)ae=ae.value,Ae=Dt+nt(ae,it++),Ve+=G(ae,K,se,Ae,ye);else if(Ae==="object"){if(typeof M.then=="function")return G(Nt(M),K,se,ae,ye);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ie(M,K,se){if(M==null)return M;var ae=[],ye=0;return G(M,ae,"","",function(Ae){return K.call(se,Ae,ye++)}),ae}function fe(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ie,forEach:function(M,K,se){ie(M,function(){K.apply(this,arguments)},se)},count:function(M){var K=0;return ie(M,function(){K++}),K},toArray:function(M){return ie(M,function(K){return K})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return _e.Activity=A,_e.Children=Ge,_e.Component=$,_e.Fragment=i,_e.Profiler=l,_e.PureComponent=ne,_e.StrictMode=r,_e.Suspense=y,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,_e.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},_e.cache=function(M){return function(){return M.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(M,K,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=X({},M.props),ye=M.key;if(K!=null)for(Ae in K.key!==void 0&&(ye=""+K.key),K)!w.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(ae[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=se;else if(1<Ae){for(var Ve=Array(Ae),Dt=0;Dt<Ae;Dt++)Ve[Dt]=arguments[Dt+2];ae.children=Ve}return I(M.type,ye,ae)},_e.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},_e.createElement=function(M,K,se){var ae,ye={},Ae=null;if(K!=null)for(ae in K.key!==void 0&&(Ae=""+K.key),K)w.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=K[ae]);var Ve=arguments.length-2;if(Ve===1)ye.children=se;else if(1<Ve){for(var Dt=Array(Ve),it=0;it<Ve;it++)Dt[it]=arguments[it+2];ye.children=Dt}if(M&&M.defaultProps)for(ae in Ve=M.defaultProps,Ve)ye[ae]===void 0&&(ye[ae]=Ve[ae]);return I(M,Ae,ye)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(M){return{$$typeof:g,render:M}},_e.isValidElement=O,_e.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:fe}},_e.memo=function(M,K){return{$$typeof:_,type:M,compare:K===void 0?null:K}},_e.startTransition=function(M){var K=N.T,se={};N.T=se;try{var ae=M(),ye=N.S;ye!==null&&ye(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Re,Ue)}catch(Ae){Ue(Ae)}finally{K!==null&&se.types!==null&&(K.types=se.types),N.T=K}},_e.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},_e.use=function(M){return N.H.use(M)},_e.useActionState=function(M,K,se){return N.H.useActionState(M,K,se)},_e.useCallback=function(M,K){return N.H.useCallback(M,K)},_e.useContext=function(M){return N.H.useContext(M)},_e.useDebugValue=function(){},_e.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},_e.useEffect=function(M,K){return N.H.useEffect(M,K)},_e.useEffectEvent=function(M){return N.H.useEffectEvent(M)},_e.useId=function(){return N.H.useId()},_e.useImperativeHandle=function(M,K,se){return N.H.useImperativeHandle(M,K,se)},_e.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},_e.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},_e.useMemo=function(M,K){return N.H.useMemo(M,K)},_e.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},_e.useReducer=function(M,K,se){return N.H.useReducer(M,K,se)},_e.useRef=function(M){return N.H.useRef(M)},_e.useState=function(M){return N.H.useState(M)},_e.useSyncExternalStore=function(M,K,se){return N.H.useSyncExternalStore(M,K,se)},_e.useTransition=function(){return N.H.useTransition()},_e.version="19.2.3",_e}var a_;function Wd(){return a_||(a_=1,rd.exports=LT()),rd.exports}var Fe=Wd();const ul=xT(Fe);var ad={exports:{}},ll={},od={exports:{}},ld={};var o_;function UT(){return o_||(o_=1,(function(a){function e(G,ie){var fe=G.length;G.push(ie);e:for(;0<fe;){var Ue=fe-1>>>1,Ge=G[Ue];if(0<l(Ge,ie))G[Ue]=ie,G[fe]=Ge,fe=Ue;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],fe=G.pop();if(fe!==ie){G[0]=fe;e:for(var Ue=0,Ge=G.length,M=Ge>>>1;Ue<M;){var K=2*(Ue+1)-1,se=G[K],ae=K+1,ye=G[ae];if(0>l(se,fe))ae<Ge&&0>l(ye,se)?(G[Ue]=ye,G[ae]=fe,Ue=ae):(G[Ue]=se,G[K]=fe,Ue=K);else if(ae<Ge&&0>l(ye,fe))G[Ue]=ye,G[ae]=fe,Ue=ae;else break e}}return ie}function l(G,ie){var fe=G.sortIndex-ie.sortIndex;return fe!==0?fe:G.id-ie.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],_=[],T=1,A=null,x=3,H=!1,te=!1,X=!1,J=!1,$=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function we(G){for(var ie=i(_);ie!==null;){if(ie.callback===null)r(_);else if(ie.startTime<=G)r(_),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=i(_)}}function Be(G){if(X=!1,we(G),!te)if(i(y)!==null)te=!0,Re||(Re=!0,L());else{var ie=i(_);ie!==null&&Nt(Be,ie.startTime-G)}}var Re=!1,N=-1,w=5,I=-1;function V(){return J?!0:!(a.unstable_now()-I<w)}function O(){if(J=!1,Re){var G=a.unstable_now();I=G;var ie=!0;try{e:{te=!1,X&&(X=!1,re(N),N=-1),H=!0;var fe=x;try{t:{for(we(G),A=i(y);A!==null&&!(A.expirationTime>G&&V());){var Ue=A.callback;if(typeof Ue=="function"){A.callback=null,x=A.priorityLevel;var Ge=Ue(A.expirationTime<=G);if(G=a.unstable_now(),typeof Ge=="function"){A.callback=Ge,we(G),ie=!0;break t}A===i(y)&&r(y),we(G)}else r(y);A=i(y)}if(A!==null)ie=!0;else{var M=i(_);M!==null&&Nt(Be,M.startTime-G),ie=!1}}break e}finally{A=null,x=fe,H=!1}ie=void 0}}finally{ie?L():Re=!1}}}var L;if(typeof ne=="function")L=function(){ne(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,nt=R.port2;R.port1.onmessage=O,L=function(){nt.postMessage(null)}}else L=function(){$(O,0)};function Nt(G,ie){N=$(function(){G(a.unstable_now())},ie)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(G){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var fe=x;x=ie;try{return G()}finally{x=fe}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=x;x=G;try{return ie()}finally{x=fe}},a.unstable_scheduleCallback=function(G,ie,fe){var Ue=a.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ue+fe:Ue):fe=Ue,G){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=fe+Ge,G={id:T++,callback:ie,priorityLevel:G,startTime:fe,expirationTime:Ge,sortIndex:-1},fe>Ue?(G.sortIndex=fe,e(_,G),i(y)===null&&G===i(_)&&(X?(re(N),N=-1):X=!0,Nt(Be,fe-Ue))):(G.sortIndex=Ge,e(y,G),te||H||(te=!0,Re||(Re=!0,L()))),G},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(G){var ie=x;return function(){var fe=x;x=ie;try{return G.apply(this,arguments)}finally{x=fe}}}})(ld)),ld}var l_;function PT(){return l_||(l_=1,od.exports=UT()),od.exports}var ud={exports:{}},Yt={};var u_;function jT(){if(u_)return Yt;u_=1;var a=Wd();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yt.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,T)},Yt.flushSync=function(y){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=T,r.d.f()}},Yt.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Yt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Yt.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:H}):T==="script"&&r.d.X(y,{crossOrigin:A,integrity:x,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Yt.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Yt.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin);r.d.L(y,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Yt.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Yt.requestFormReset=function(y){r.d.r(y)},Yt.unstable_batchedUpdates=function(y,_){return y(_)},Yt.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var c_;function Gv(){if(c_)return ud.exports;c_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),ud.exports=jT(),ud.exports}var h_;function zT(){if(h_)return ll;h_=1;var a=PT(),e=Wd(),i=Gv();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case $:return"Profiler";case J:return"StrictMode";case Be:return"Suspense";case Re:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case ne:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case we:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var Nt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function M(t){return{current:t}}function K(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function se(t,n){Ge++,Ue[Ge]=t.current,t.current=n}var ae=M(null),ye=M(null),Ae=M(null),Ve=M(null);function Dt(t,n){switch(se(Ae,n),se(ye,t),se(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ry(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ry(n),t=Cy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ae),se(ae,t)}function it(){K(ae),K(ye),K(Ae)}function Zs(t){t.memoizedState!==null&&se(Ve,t);var n=ae.current,s=Cy(n,t.type);n!==s&&(se(ye,t),se(ae,s))}function jr(t){ye.current===t&&(K(ae),K(ye)),Ve.current===t&&(K(Ve),il._currentValue=fe)}var zr,Br;function Kn(t){if(zr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);zr=n&&n[1]||"",Br=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+t+Br}var no=!1;function $s(t,n){if(!t||no)return"";no=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){z=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{no=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Kn(s):""}function io(t,n){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return $s(t.type,!1);case 11:return $s(t.type.render,!1);case 1:return $s(t.type,!0);case 31:return Kn("Activity");default:return""}}function so(t){try{var n="",s=null;do n+=io(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var yt=Object.prototype.hasOwnProperty,Ot=a.unstable_scheduleCallback,$i=a.unstable_cancelCallback,rh=a.unstable_shouldYield,Ul=a.unstable_requestPaint,Jt=a.unstable_now,Js=a.unstable_getCurrentPriorityLevel,ro=a.unstable_ImmediatePriority,ao=a.unstable_UserBlockingPriority,Ji=a.unstable_NormalPriority,ah=a.unstable_LowPriority,Pl=a.unstable_IdlePriority,jl=a.log,zl=a.unstable_setDisableYieldValue,kn=null,jt=null;function Sn(t){if(typeof jl=="function"&&zl(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(kn,t)}catch{}}var ct=Math.clz32?Math.clz32:ql,Bl=Math.log,qr=Math.LN2;function ql(t){return t>>>=0,t===0?32:31-(Bl(t)/qr|0)|0}var Xn=256,Ws=262144,_t=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $n(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Zn(o):(p&=E,p!==0?h=Zn(p):s||(s=E&~t,s!==0&&(h=Zn(s))))):(E=o&~f,E!==0?h=Zn(E):p!==0?h=Zn(p):s||(s=o&~t,s!==0&&(h=Zn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hl(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function Jn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function er(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lh(t,n,s,o,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(s=p&~s;0<s;){var F=31-ct(s),Y=1<<F;E[F]=0,C[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&tr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function tr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ct(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function oo(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-ct(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function lo(t,n){var s=n&-n;return s=(s&42)!==0?1:nr(s),(s&(t.suspendedLanes|n))!==0?0:s}function nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fl(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Zy(t.type))}function Un(t,n){var s=ie.p;try{return ie.p=t,n()}finally{ie.p=s}}var Pn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Pn,kt="__reactProps$"+Pn,Wn="__reactContainer$"+Pn,Hr="__reactEvents$"+Pn,uh="__reactListeners$"+Pn,Gl="__reactHandles$"+Pn,Ql="__reactResources$"+Pn,ei="__reactMarker$"+Pn;function Fr(t){delete t[vt],delete t[kt],delete t[Hr],delete t[uh],delete t[Gl]}function ti(t){var n=t[vt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Wn]||s[vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Vy(t);t!==null;){if(s=t[vt])return s;t=Vy(t)}return n}t=s,s=t.parentNode}return null}function An(t){if(t=t[vt]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ni(t){var n=t[Ql];return n||(n=t[Ql]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(t){t[ei]=!0}var uo=new Set,co={};function ii(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(co[t]=n,t=0;t<n.length;t++)uo.add(n[t])}var ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},mo={};function Yl(t){return yt.call(mo,t)?!0:yt.call(fo,t)?!1:ho.test(t)?mo[t]=!0:(fo[t]=!0,!1)}function Gr(t,n,s){if(Yl(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function fn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Tt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function go(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=Wi(t)?"checked":"value";t._valueTracker=go(t,n,""+t[n])}}function ir(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Wi(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sr=/[\n"\\]/g;function nn(t){return t.replace(sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Qr(t,n,s,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?po(t,p,Lt(n)):s!=null?po(t,p,Lt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function Kl(t,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(t);return}s=s!=null?""+Lt(s):"",n=n!=null?""+Lt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Qe(t)}function po(t,n,s){n==="number"&&ri(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function es(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Lt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Xl(t,n,s){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Lt(s):""}function ts(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(Nt(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Lt(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),Qe(t)}function sn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Zl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||Zl.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function _o(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&yo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&yo(t,f,n[f])}function Yr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kr(t){return ns.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jn(){}var vo=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var is=null,ai=null;function rr(t){var n=An(t);if(n&&(t=n.stateNode)){var s=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Qr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[kt]||null;if(!h)throw Error(r(90));Qr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&ir(o)}break e;case"textarea":Xl(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&es(t,!!s.multiple,n,!1)}}}var Xr=!1;function ss(t,n,s){if(Xr)return t(n,s);Xr=!0;try{var o=t(n);return o}finally{if(Xr=!1,(is!==null||ai!==null)&&(Fu(),is&&(n=is,t=ai,ai=is=null,rr(n),t)))for(n=0;n<t.length;n++)rr(t[n])}}function zn(t,n){var s=t.stateNode;if(s===null)return null;var o=s[kt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ar=!1;if(wn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){ar=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{ar=!1}var oi=null,Eo=null,or=null;function To(){if(or)return or;var t,n=Eo,s=n.length,o,h="value"in oi?oi.value:oi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return or=h.slice(t,1<o?1-o:void 0)}function lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function Bn(){return!1}function zt(t){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ri:Bn,this.isPropagationStopped=Bn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),n}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=zt(Ci),rs=A({},Ci,{view:0,detail:0}),So=zt(rs),as,Zr,ui,$r=A({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(as=t.screenX-ui.screenX,Zr=t.screenY-ui.screenY):Zr=as=0,ui=t),as)},movementY:function(t){return"movementY"in t?t.movementY:Zr}}),Ao=zt($r),ur=A({},$r,{dataTransfer:0}),Jl=zt(ur),Wl=A({},rs,{relatedTarget:0}),cr=zt(Wl),bo=A({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=zt(bo),Jr=A({},Ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tu=zt(Jr),nu=A({},Ci,{data:0}),ci=zt(nu),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ru[t])?!!n[t]:!1}function os(){return au}var Wt=A({},rs,{key:function(t){if(t.key){var n=iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ou=zt(Wt),lu=A({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ii=zt(lu),u=A({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),m=zt(u),v=A({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=zt(v),U=A({},$r,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=zt(U),W=A({},Ci,{newState:0,oldState:0}),Te=zt(W),ht=[9,13,27,32],qe=wn&&"CompositionEvent"in window,st=null;wn&&"documentMode"in document&&(st=document.documentMode);var Rn=wn&&"TextEvent"in window&&!st,hi=wn&&(!qe||st&&8<st&&11>=st),qn=" ",Hn=!1;function hr(t,n){switch(t){case"keyup":return ht.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ea=!1;function iE(t,n){switch(t){case"compositionend":return Wr(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return t=n.data,t===qn&&Hn?null:t;default:return null}}function sE(t,n){if(ea)return t==="compositionend"||!qe&&hr(t,n)?(t=To(),or=Eo=oi=null,ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hi&&n.locale!=="ko"?null:n.data;default:return null}}var rE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!rE[t.type]:n==="textarea"}function Pm(t,n,s,o){is?ai?ai.push(o):ai=[o]:is=o,n=$u(n,"onChange"),0<n.length&&(s=new li("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var wo=null,Ro=null;function aE(t){Ey(t,0)}function uu(t){var n=hn(t);if(ir(n))return t}function jm(t,n){if(t==="change")return n}var zm=!1;if(wn){var ch;if(wn){var hh="oninput"in document;if(!hh){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),hh=typeof Bm.oninput=="function"}ch=hh}else ch=!1;zm=ch&&(!document.documentMode||9<document.documentMode)}function qm(){wo&&(wo.detachEvent("onpropertychange",Hm),Ro=wo=null)}function Hm(t){if(t.propertyName==="value"&&uu(Ro)){var n=[];Pm(n,Ro,t,bn(t)),ss(aE,n)}}function oE(t,n,s){t==="focusin"?(qm(),wo=n,Ro=s,wo.attachEvent("onpropertychange",Hm)):t==="focusout"&&qm()}function lE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uu(Ro)}function uE(t,n){if(t==="click")return uu(n)}function cE(t,n){if(t==="input"||t==="change")return uu(n)}function hE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var dn=typeof Object.is=="function"?Object.is:hE;function Co(t,n){if(dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!yt.call(n,h)||!dn(t[h],n[h]))return!1}return!0}function Fm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gm(t,n){var s=Fm(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Fm(s)}}function Qm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Qm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ri(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ri(t.document)}return n}function fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var fE=wn&&"documentMode"in document&&11>=document.documentMode,ta=null,dh=null,Io=null,mh=!1;function Km(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;mh||ta==null||ta!==ri(o)||(o=ta,"selectionStart"in o&&fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&Co(Io,o)||(Io=o,o=$u(dh,"onSelect"),0<o.length&&(n=new li("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=ta)))}function fr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var na={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},gh={},Xm={};wn&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function dr(t){if(gh[t])return gh[t];if(!na[t])return t;var n=na[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Xm)return gh[t]=n[s];return t}var Zm=dr("animationend"),$m=dr("animationiteration"),Jm=dr("animationstart"),dE=dr("transitionrun"),mE=dr("transitionstart"),gE=dr("transitioncancel"),Wm=dr("transitionend"),eg=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function Fn(t,n){eg.set(t,n),ii(n,[t])}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],ia=0,yh=0;function hu(){for(var t=ia,n=yh=ia=0;n<t;){var s=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&tg(s,h,f)}}function fu(t,n,s,o){Cn[ia++]=t,Cn[ia++]=n,Cn[ia++]=s,Cn[ia++]=o,yh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function _h(t,n,s,o){return fu(t,n,s,o),du(t)}function mr(t,n){return fu(t,null,null,n),du(t)}function tg(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ct(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function du(t){if(50<Zo)throw Zo=0,If=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var sa={};function pE(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,n,s,o){return new pE(t,n,s,o)}function vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,n){var s=t.alternate;return s===null?(s=mn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ng(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function mu(t,n,s,o,h,f){var p=0;if(o=t,typeof t=="function")vh(t)&&(p=1);else if(typeof t=="string")p=TT(t,s,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=mn(31,s,n,h),t.elementType=I,t.lanes=f,t;case X:return gr(s.children,h,f,n);case J:p=8,h|=24;break;case $:return t=mn(12,s,n,h|2),t.elementType=$,t.lanes=f,t;case Be:return t=mn(13,s,n,h),t.elementType=Be,t.lanes=f,t;case Re:return t=mn(19,s,n,h),t.elementType=Re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:p=10;break e;case re:p=9;break e;case we:p=11;break e;case N:p=14;break e;case w:p=16,o=null;break e}p=29,s=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=mn(p,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function gr(t,n,s,o){return t=mn(7,t,o,n),t.lanes=s,t}function Eh(t,n,s){return t=mn(6,t,null,n),t.lanes=s,t}function ig(t){var n=mn(18,null,null,0);return n.stateNode=t,n}function Th(t,n,s){return n=mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var sg=new WeakMap;function In(t,n){if(typeof t=="object"&&t!==null){var s=sg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:so(n)},sg.set(t,n),n)}return{value:t,source:n,stack:so(n)}}var ra=[],aa=0,gu=null,No=0,Nn=[],Dn=0,ls=null,fi=1,di="";function Di(t,n){ra[aa++]=No,ra[aa++]=gu,gu=t,No=n}function rg(t,n,s){Nn[Dn++]=fi,Nn[Dn++]=di,Nn[Dn++]=ls,ls=t;var o=fi;t=di;var h=32-ct(o)-1;o&=~(1<<h),s+=1;var f=32-ct(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,fi=1<<32-ct(n)+h|s<<h|o,di=f+t}else fi=1<<f|s<<h|o,di=t}function Sh(t){t.return!==null&&(Di(t,1),rg(t,1,0))}function Ah(t){for(;t===gu;)gu=ra[--aa],ra[aa]=null,No=ra[--aa],ra[aa]=null;for(;t===ls;)ls=Nn[--Dn],Nn[Dn]=null,di=Nn[--Dn],Nn[Dn]=null,fi=Nn[--Dn],Nn[Dn]=null}function ag(t,n){Nn[Dn++]=fi,Nn[Dn++]=di,Nn[Dn++]=ls,fi=n.id,di=n.overflow,ls=t}var Bt=null,et=null,Me=!1,us=null,On=!1,bh=Error(r(519));function cs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Do(In(n,t)),bh}function og(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[vt]=t,n[kt]=o,s){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(s=0;s<Jo.length;s++)Ie(Jo[s],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),Kl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),ts(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||by(n.textContent,s)?(o.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),o.onScroll!=null&&Ie("scroll",n),o.onScrollEnd!=null&&Ie("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||cs(t,!0)}function lg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Bt=Bt.return}}function oa(t){if(t!==Bt)return!1;if(!Me)return lg(t),Me=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Hf(t.type,t.memoizedProps)),s=!s),s&&et&&cs(t),lg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));et=xy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));et=xy(t)}else n===27?(n=et,bs(t.type)?(t=Kf,Kf=null,et=t):et=n):et=Bt?xn(t.stateNode.nextSibling):null;return!0}function pr(){et=Bt=null,Me=!1}function wh(){var t=us;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),us=null),t}function Do(t){us===null?us=[t]:us.push(t)}var Rh=M(null),yr=null,Oi=null;function hs(t,n,s){se(Rh,n._currentValue),n._currentValue=s}function Mi(t){t._currentValue=Rh.current,K(Rh)}function Ch(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Ih(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Ch(f.return,s,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Ch(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function la(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;dn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ve.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(il):t=[il])}h=h.return}t!==null&&Ih(n,t,s,o),n.flags|=262144}function pu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _r(t){yr=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return ug(yr,t)}function yu(t,n){return yr===null&&_r(t),ug(t,n)}function ug(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Oi===null){if(t===null)throw Error(r(308));Oi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Oi=Oi.next=n;return s}var yE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},_E=a.unstable_scheduleCallback,vE=a.unstable_NormalPriority,St={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new yE,data:new Map,refCount:0}}function Oo(t){t.refCount--,t.refCount===0&&_E(vE,function(){t.controller.abort()})}var Mo=null,Dh=0,ua=0,ca=null;function EE(t,n){if(Mo===null){var s=Mo=[];Dh=0,ua=Vf(),ca={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Dh++,n.then(cg,cg),n}function cg(){if(--Dh===0&&Mo!==null){ca!==null&&(ca.status="fulfilled");var t=Mo;Mo=null,ua=0,ca=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function TE(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var hg=G.S;G.S=function(t,n){Kp=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&EE(t,n),hg!==null&&hg(t,n)};var vr=M(null);function Oh(){var t=vr.current;return t!==null?t:We.pooledCache}function _u(t,n){n===null?se(vr,vr.current):se(vr,n.pool)}function fg(){var t=Oh();return t===null?null:{parent:St._currentValue,pool:t}}var ha=Error(r(460)),Mh=Error(r(474)),vu=Error(r(542)),Eu={then:function(){}};function dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t;default:if(typeof n.status=="string")n.then(jn,jn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t}throw Tr=n,ha}}function Er(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Tr=s,ha):s}}var Tr=null;function gg(){if(Tr===null)throw Error(r(459));var t=Tr;return Tr=null,t}function pg(t){if(t===ha||t===vu)throw Error(r(483))}var fa=null,xo=0;function Tu(t){var n=xo;return xo+=1,fa===null&&(fa=[]),mg(fa,t,n)}function Vo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Su(t,n){throw n.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function yg(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ni(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Q){return D===null||D.tag!==6?(D=Eh(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,Q){var ce=P.type;return ce===X?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Er(ce)===D.type)?(D=h(D,P.props),Vo(D,P),D.return=k,D):(D=mu(P.type,P.key,P.props,null,k.mode,Q),Vo(D,P),D.return=k,D)}function j(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Th(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,ce){return D===null||D.tag!==7?(D=gr(P,k.mode,Q,ce),D.return=k,D):(D=h(D,P),D.return=k,D)}function Y(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Eh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return P=mu(D.type,D.key,D.props,null,k.mode,P),Vo(P,D),P.return=k,P;case te:return D=Th(D,k.mode,P),D.return=k,D;case w:return D=Er(D),Y(k,D,P)}if(Nt(D)||L(D))return D=gr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Y(k,Tu(D),P);if(D.$$typeof===ne)return Y(k,yu(k,D),P);Su(k,D)}return null}function z(k,D,P,Q){var ce=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ce!==null?null:E(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ce?C(k,D,P,Q):null;case te:return P.key===ce?j(k,D,P,Q):null;case w:return P=Er(P),z(k,D,P,Q)}if(Nt(P)||L(P))return ce!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return z(k,D,Tu(P),Q);if(P.$$typeof===ne)return z(k,D,yu(k,P),Q);Su(k,P)}return null}function q(k,D,P,Q,ce){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(D,k,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?P:Q.key)||null,C(D,k,Q,ce);case te:return k=k.get(Q.key===null?P:Q.key)||null,j(D,k,Q,ce);case w:return Q=Er(Q),q(k,D,P,Q,ce)}if(Nt(Q)||L(Q))return k=k.get(P)||null,F(D,k,Q,ce,null);if(typeof Q.then=="function")return q(k,D,P,Tu(Q),ce);if(Q.$$typeof===ne)return q(k,D,P,yu(D,Q),ce);Su(D,Q)}return null}function le(k,D,P,Q){for(var ce=null,je=null,ue=D,be=D=0,De=null;ue!==null&&be<P.length;be++){ue.index>be?(De=ue,ue=null):De=ue.sibling;var ze=z(k,ue,P[be],Q);if(ze===null){ue===null&&(ue=De);break}t&&ue&&ze.alternate===null&&n(k,ue),D=f(ze,D,be),je===null?ce=ze:je.sibling=ze,je=ze,ue=De}if(be===P.length)return s(k,ue),Me&&Di(k,be),ce;if(ue===null){for(;be<P.length;be++)ue=Y(k,P[be],Q),ue!==null&&(D=f(ue,D,be),je===null?ce=ue:je.sibling=ue,je=ue);return Me&&Di(k,be),ce}for(ue=o(ue);be<P.length;be++)De=q(ue,k,be,P[be],Q),De!==null&&(t&&De.alternate!==null&&ue.delete(De.key===null?be:De.key),D=f(De,D,be),je===null?ce=De:je.sibling=De,je=De);return t&&ue.forEach(function(Ns){return n(k,Ns)}),Me&&Di(k,be),ce}function de(k,D,P,Q){if(P==null)throw Error(r(151));for(var ce=null,je=null,ue=D,be=D=0,De=null,ze=P.next();ue!==null&&!ze.done;be++,ze=P.next()){ue.index>be?(De=ue,ue=null):De=ue.sibling;var Ns=z(k,ue,ze.value,Q);if(Ns===null){ue===null&&(ue=De);break}t&&ue&&Ns.alternate===null&&n(k,ue),D=f(Ns,D,be),je===null?ce=Ns:je.sibling=Ns,je=Ns,ue=De}if(ze.done)return s(k,ue),Me&&Di(k,be),ce;if(ue===null){for(;!ze.done;be++,ze=P.next())ze=Y(k,ze.value,Q),ze!==null&&(D=f(ze,D,be),je===null?ce=ze:je.sibling=ze,je=ze);return Me&&Di(k,be),ce}for(ue=o(ue);!ze.done;be++,ze=P.next())ze=q(ue,k,be,ze.value,Q),ze!==null&&(t&&ze.alternate!==null&&ue.delete(ze.key===null?be:ze.key),D=f(ze,D,be),je===null?ce=ze:je.sibling=ze,je=ze);return t&&ue.forEach(function(MT){return n(k,MT)}),Me&&Di(k,be),ce}function Je(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===X&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:e:{for(var ce=P.key;D!==null;){if(D.key===ce){if(ce=P.type,ce===X){if(D.tag===7){s(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Er(ce)===D.type){s(k,D.sibling),Q=h(D,P.props),Vo(Q,P),Q.return=k,k=Q;break e}s(k,D);break}else n(k,D);D=D.sibling}P.type===X?(Q=gr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=mu(P.type,P.key,P.props,null,k.mode,Q),Vo(Q,P),Q.return=k,k=Q)}return p(k);case te:e:{for(ce=P.key;D!==null;){if(D.key===ce)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break e}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Th(P,k.mode,Q),Q.return=k,k=Q}return p(k);case w:return P=Er(P),Je(k,D,P,Q)}if(Nt(P))return le(k,D,P,Q);if(L(P)){if(ce=L(P),typeof ce!="function")throw Error(r(150));return P=ce.call(P),de(k,D,P,Q)}if(typeof P.then=="function")return Je(k,D,Tu(P),Q);if(P.$$typeof===ne)return Je(k,D,yu(k,P),Q);Su(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(s(k,D),Q=Eh(P,k.mode,Q),Q.return=k,k=Q),p(k)):s(k,D)}return function(k,D,P,Q){try{xo=0;var ce=Je(k,D,P,Q);return fa=null,ce}catch(ue){if(ue===ha||ue===vu)throw ue;var je=mn(29,ue,null,k.mode);return je.lanes=Q,je.return=k,je}}}var Sr=yg(!0),_g=yg(!1),fs=!1;function xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ds(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ms(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=du(t),tg(t,null,s),n}return fu(t,o,n,s),du(t)}function ko(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,oo(t,s)}}function kh(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Lh=!1;function Lo(){if(Lh){var t=ca;if(t!==null)throw t}}function Uo(t,n,s,o){Lh=!1;var h=t.updateQueue;fs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,p===null?f=j:p.next=j,p=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;p=0,F=j=C=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ne&z)===z:(o&z)===z){z!==0&&z===ua&&(Lh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,de=E;z=n;var Je=s;switch(de.tag){case 1:if(le=de.payload,typeof le=="function"){Y=le.call(Je,Y,z);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=de.payload,z=typeof le=="function"?le.call(Je,Y,z):le,z==null)break e;Y=A({},Y,z);break e;case 2:fs=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=q,C=Y):F=F.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),vs|=p,t.lanes=p,t.memoizedState=Y}}function vg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Eg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)vg(s[t],n)}var da=M(null),Au=M(0);function Tg(t,n){t=Bi,se(Au,t),se(da,n),Bi=t|n.baseLanes}function Uh(){se(Au,Bi),se(da,da.current)}function Ph(){Bi=Au.current,K(da),K(Au)}var gn=M(null),Mn=null;function gs(t){var n=t.alternate;se(ft,ft.current&1),se(gn,t),Mn===null&&(n===null||da.current!==null||n.memoizedState!==null)&&(Mn=t)}function jh(t){se(ft,ft.current),se(gn,t),Mn===null&&(Mn=t)}function Sg(t){t.tag===22?(se(ft,ft.current),se(gn,t),Mn===null&&(Mn=t)):ps()}function ps(){se(ft,ft.current),se(gn,gn.current)}function pn(t){K(gn),Mn===t&&(Mn=null),K(ft)}var ft=M(0);function bu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Qf(s)||Yf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xi=0,Se=null,Ze=null,At=null,wu=!1,ma=!1,Ar=!1,Ru=0,Po=0,ga=null,SE=0;function lt(){throw Error(r(321))}function zh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!dn(t[s],n[s]))return!1;return!0}function Bh(t,n,s,o,h,f){return xi=f,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?rp:nf,Ar=!1,f=s(o,h),Ar=!1,ma&&(f=bg(n,s,o,h)),Ag(t),f}function Ag(t){G.H=Bo;var n=Ze!==null&&Ze.next!==null;if(xi=0,At=Ze=Se=null,wu=!1,Po=0,ga=null,n)throw Error(r(300));t===null||bt||(t=t.dependencies,t!==null&&pu(t)&&(bt=!0))}function bg(t,n,s,o){Se=t;var h=0;do{if(ma&&(ga=null),Po=0,ma=!1,25<=h)throw Error(r(301));if(h+=1,At=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=ap,f=n(s,o)}while(ma);return f}function AE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?jo(n):n,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Se.flags|=1024),n}function qh(){var t=Ru!==0;return Ru=0,t}function Hh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Fh(t){if(wu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}wu=!1}xi=0,At=Ze=Se=null,ma=!1,Po=Ru=0,ga=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Se.memoizedState=At=t:At=At.next=t,At}function dt(){if(Ze===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=At===null?Se.memoizedState:At.next;if(n!==null)At=n,Ze=t;else{if(t===null)throw Se.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?Se.memoizedState=At=t:At=At.next=t}return At}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(t){var n=Po;return Po+=1,ga===null&&(ga=[]),t=mg(ga,t,n),n=Se,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?rp:nf),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jo(t);if(t.$$typeof===ne)return qt(t)}throw Error(r(438,String(t)))}function Gh(t){var n=null,s=Se.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Cu(),Se.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=V;return n.index++,s}function Vi(t,n){return typeof n=="function"?n(t):n}function Nu(t){var n=dt();return Qh(n,Ze,t)}function Qh(t,n,s){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,C=null,j=n,F=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Ne&Y)===Y:(xi&Y)===Y){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===ua&&(F=!0);else if((xi&z)===z){j=j.next,z===ua&&(F=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=Y,p=f):C=C.next=Y,Se.lanes|=z,vs|=z;Y=j.action,Ar&&s(f,Y),f=j.hasEagerState?j.eagerState:s(f,Y)}else z={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=z,p=f):C=C.next=z,Se.lanes|=Y,vs|=Y;j=j.next}while(j!==null&&j!==n);if(C===null?p=f:C.next=E,!dn(f,t.memoizedState)&&(bt=!0,F&&(s=ca,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Yh(t){var n=dt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);dn(f,n.memoizedState)||(bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function wg(t,n,s){var o=Se,h=dt(),f=Me;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!dn((Ze||h).memoizedState,s);if(p&&(h.memoizedState=s,bt=!0),h=h.queue,Zh(Ig.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||At!==null&&At.memoizedState.tag&1){if(o.flags|=2048,pa(9,{destroy:void 0},Cg.bind(null,o,h,s,n),null),We===null)throw Error(r(349));f||(xi&127)!==0||Rg(o,n,s)}return s}function Rg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Se.updateQueue,n===null?(n=Cu(),Se.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Cg(t,n,s,o){n.value=s,n.getSnapshot=o,Ng(n)&&Dg(t)}function Ig(t,n,s){return s(function(){Ng(n)&&Dg(t)})}function Ng(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!dn(t,s)}catch{return!0}}function Dg(t){var n=mr(t,2);n!==null&&un(n,t,2)}function Kh(t){var n=en();if(typeof t=="function"){var s=t;if(t=s(),Ar){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},n}function Og(t,n,s,o){return t.baseState=s,Qh(t,Ze,typeof o=="function"?o:Vi)}function bE(t,n,s,o,h){if(Mu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Mg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Mg(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,o),C=G.S;C!==null&&C(p,E),xg(t,n,E)}catch(j){Xh(t,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),xg(t,n,f)}catch(j){Xh(t,n,j)}}function xg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Vg(t,n,o)},function(o){return Xh(t,n,o)}):Vg(t,n,s)}function Vg(t,n,s){n.status="fulfilled",n.value=s,kg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Mg(t,s)))}function Xh(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,kg(n),n=n.next;while(n!==o)}t.action=null}function kg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lg(t,n){return n}function Ug(t,n){if(Me){var s=We.formState;if(s!==null){e:{var o=Se;if(Me){if(et){t:{for(var h=et,f=On;h.nodeType!==8;){if(!f){h=null;break t}if(h=xn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){et=xn(h.nextSibling),o=h.data==="F!";break e}}cs(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:n},s.queue=o,s=np.bind(null,Se,o),o.dispatch=s,o=Kh(!1),f=tf.bind(null,Se,!1,o.queue),o=en(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=bE.bind(null,Se,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function Pg(t){var n=dt();return jg(n,Ze,t)}function jg(t,n,s){if(n=Qh(t,n,Lg)[0],t=Nu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=jo(n)}catch(p){throw p===ha?vu:p}else o=n;n=dt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Se.flags|=2048,pa(9,{destroy:void 0},wE.bind(null,h,s),null)),[o,f,t]}function wE(t,n){t.action=n}function zg(t){var n=dt(),s=Ze;if(s!==null)return jg(n,s,t);dt(),n=n.memoizedState,s=dt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function pa(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Se.updateQueue,n===null&&(n=Cu(),Se.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Bg(){return dt().memoizedState}function Du(t,n,s,o){var h=en();Se.flags|=t,h.memoizedState=pa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ou(t,n,s,o){var h=dt();o=o===void 0?null:o;var f=h.memoizedState.inst;Ze!==null&&o!==null&&zh(o,Ze.memoizedState.deps)?h.memoizedState=pa(n,f,s,o):(Se.flags|=t,h.memoizedState=pa(1|n,f,s,o))}function qg(t,n){Du(8390656,8,t,n)}function Zh(t,n){Ou(2048,8,t,n)}function RE(t){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=Cu(),Se.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Hg(t){var n=dt().memoizedState;return RE({ref:n,nextImpl:t}),function(){if((He&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fg(t,n){return Ou(4,2,t,n)}function Gg(t,n){return Ou(4,4,t,n)}function Qg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yg(t,n,s){s=s!=null?s.concat([t]):null,Ou(4,4,Qg.bind(null,n,t),s)}function $h(){}function Kg(t,n){var s=dt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&zh(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Xg(t,n){var s=dt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&zh(n,o[1]))return o[0];if(o=t(),Ar){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[o,n],o}function Jh(t,n,s){return s===void 0||(xi&1073741824)!==0&&(Ne&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Zp(),Se.lanes|=t,vs|=t,s)}function Zg(t,n,s,o){return dn(s,n)?s:da.current!==null?(t=Jh(t,s,o),dn(t,n)||(bt=!0),t):(xi&42)===0||(xi&1073741824)!==0&&(Ne&261930)===0?(bt=!0,t.memoizedState=s):(t=Zp(),Se.lanes|=t,vs|=t,n)}function $g(t,n,s,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,tf(t,!1,n,s);try{var C=h(),j=G.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=TE(C,o);zo(t,n,F,vn(t))}else zo(t,n,o,vn(t))}catch(Y){zo(t,n,{then:function(){},status:"rejected",reason:Y},vn())}finally{ie.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function CE(){}function Wh(t,n,s,o){if(t.tag!==5)throw Error(r(476));var h=Jg(t).queue;$g(t,h,n,fe,s===null?CE:function(){return Wg(t),s(o)})}function Jg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:fe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wg(t){var n=Jg(t);n.next===null&&(n=t.alternate.memoizedState),zo(t,n.next.queue,{},vn())}function ef(){return qt(il)}function ep(){return dt().memoizedState}function tp(){return dt().memoizedState}function IE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();t=ds(s);var o=ms(n,t,s);o!==null&&(un(o,n,s),ko(o,n,s)),n={cache:Nh()},t.payload=n;return}n=n.return}}function NE(t,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Mu(t)?ip(n,s):(s=_h(t,n,s,o),s!==null&&(un(s,t,o),sp(s,n,o)))}function np(t,n,s){var o=vn();zo(t,n,s,o)}function zo(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Mu(t))ip(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,p))return fu(t,n,h,0),We===null&&hu(),!1}catch{}if(s=_h(t,n,h,o),s!==null)return un(s,t,o),sp(s,n,o),!0}return!1}function tf(t,n,s,o){if(o={lane:2,revertLane:Vf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mu(t)){if(n)throw Error(r(479))}else n=_h(t,s,o,2),n!==null&&un(n,t,2)}function Mu(t){var n=t.alternate;return t===Se||n!==null&&n===Se}function ip(t,n){ma=wu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function sp(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,oo(t,s)}}var Bo={readContext:qt,use:Iu,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};Bo.useEffectEvent=lt;var rp={readContext:qt,use:Iu,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:qg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Du(4194308,4,Qg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Du(4194308,4,t,n)},useInsertionEffect:function(t,n){Du(4,2,t,n)},useMemo:function(t,n){var s=en();n=n===void 0?null:n;var o=t();if(Ar){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=en();if(s!==void 0){var h=s(n);if(Ar){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=NE.bind(null,Se,t),[o.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Kh(t);var n=t.queue,s=np.bind(null,Se,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:$h,useDeferredValue:function(t,n){var s=en();return Jh(s,t,n)},useTransition:function(){var t=Kh(!1);return t=$g.bind(null,Se,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Se,h=en();if(Me){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),We===null)throw Error(r(349));(Ne&127)!==0||Rg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,qg(Ig.bind(null,o,f,t),[t]),o.flags|=2048,pa(9,{destroy:void 0},Cg.bind(null,o,f,s,n),null),s},useId:function(){var t=en(),n=We.identifierPrefix;if(Me){var s=di,o=fi;s=(o&~(1<<32-ct(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ru++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=SE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ef,useFormState:Ug,useActionState:Ug,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=tf.bind(null,Se,!0,s),s.dispatch=n,[t,n]},useMemoCache:Gh,useCacheRefresh:function(){return en().memoizedState=IE.bind(null,Se)},useEffectEvent:function(t){var n=en(),s={impl:t};return n.memoizedState=s,function(){if((He&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},nf={readContext:qt,use:Iu,useCallback:Kg,useContext:qt,useEffect:Zh,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Nu,useRef:Bg,useState:function(){return Nu(Vi)},useDebugValue:$h,useDeferredValue:function(t,n){var s=dt();return Zg(s,Ze.memoizedState,t,n)},useTransition:function(){var t=Nu(Vi)[0],n=dt().memoizedState;return[typeof t=="boolean"?t:jo(t),n]},useSyncExternalStore:wg,useId:ep,useHostTransitionStatus:ef,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,n){var s=dt();return Og(s,Ze,t,n)},useMemoCache:Gh,useCacheRefresh:tp};nf.useEffectEvent=Hg;var ap={readContext:qt,use:Iu,useCallback:Kg,useContext:qt,useEffect:Zh,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Yh,useRef:Bg,useState:function(){return Yh(Vi)},useDebugValue:$h,useDeferredValue:function(t,n){var s=dt();return Ze===null?Jh(s,t,n):Zg(s,Ze.memoizedState,t,n)},useTransition:function(){var t=Yh(Vi)[0],n=dt().memoizedState;return[typeof t=="boolean"?t:jo(t),n]},useSyncExternalStore:wg,useId:ep,useHostTransitionStatus:ef,useFormState:zg,useActionState:zg,useOptimistic:function(t,n){var s=dt();return Ze!==null?Og(s,Ze,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:tp};ap.useEffectEvent=Hg;function sf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var rf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=vn(),h=ds(o);h.payload=n,s!=null&&(h.callback=s),n=ms(t,h,o),n!==null&&(un(n,t,o),ko(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=vn(),h=ds(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ms(t,h,o),n!==null&&(un(n,t,o),ko(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=vn(),o=ds(s);o.tag=2,n!=null&&(o.callback=n),n=ms(t,o,s),n!==null&&(un(n,t,s),ko(n,t,s))}};function op(t,n,s,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Co(s,o)||!Co(h,f):!0}function lp(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&rf.enqueueReplaceState(n,n.state,null)}function br(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function up(t){cu(t)}function cp(t){console.error(t)}function hp(t){cu(t)}function xu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function fp(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function af(t,n,s){return s=ds(s),s.tag=3,s.payload={element:null},s.callback=function(){xu(t,n)},s}function dp(t){return t=ds(t),t.tag=3,t}function mp(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){fp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){fp(n,s,o),typeof h!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function DE(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&la(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?Gu():s.alternate===null&&ut===0&&(ut=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Eu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Of(t,o,h)),!1;case 22:return s.flags|=65536,o===Eu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Of(t,o,h)),!1}throw Error(r(435,s.tag))}return Of(t,o,h),Gu(),!1}if(Me)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==bh&&(t=Error(r(422),{cause:o}),Do(In(t,s)))):(o!==bh&&(n=Error(r(423),{cause:o}),Do(In(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=In(o,s),h=af(t.stateNode,o,h),kh(t,h),ut!==4&&(ut=2)),!1;var f=Error(r(520),{cause:o});if(f=In(f,s),Xo===null?Xo=[f]:Xo.push(f),ut!==4&&(ut=2),n===null)return!0;o=In(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=af(s.stateNode,o,t),kh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Es===null||!Es.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=dp(h),mp(h,t,s,o),kh(s,h),!1}s=s.return}while(s!==null);return!1}var of=Error(r(461)),bt=!1;function Ht(t,n,s,o){n.child=t===null?_g(n,null,s,o):Sr(n,t.child,s,o)}function gp(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return _r(n),o=Bh(t,n,s,p,f,h),E=qh(),t!==null&&!bt?(Hh(t,n,h),ki(t,n,h)):(Me&&E&&Sh(n),n.flags|=1,Ht(t,n,o,h),n.child)}function pp(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!vh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,yp(t,n,f,o,h)):(t=mu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!gf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Co,s(p,o)&&t.ref===n.ref)return ki(t,n,h)}return n.flags|=1,t=Ni(f,o),t.ref=n.ref,t.return=n,n.child=t}function yp(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(Co(f,o)&&t.ref===n.ref)if(bt=!1,n.pendingProps=o=f,gf(t,h))(t.flags&131072)!==0&&(bt=!0);else return n.lanes=t.lanes,ki(t,n,h)}return lf(t,n,s,o,h)}function _p(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return vp(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(n,f!==null?f.cachePool:null),f!==null?Tg(n,f):Uh(),Sg(n);else return o=n.lanes=536870912,vp(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(_u(n,f.cachePool),Tg(n,f),ps(),n.memoizedState=null):(t!==null&&_u(n,null),Uh(),ps());return Ht(t,n,h,s),n.child}function qo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vp(t,n,s,o,h){var f=Oh();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&_u(n,null),Uh(),Sg(n),t!==null&&la(t,n,o,!0),n.childLanes=h,null}function Vu(t,n){return n=Lu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ep(t,n,s){return Sr(n,t.child,null,s),t=Vu(n,n.pendingProps),t.flags|=2,pn(n),n.memoizedState=null,t}function OE(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Me){if(o.mode==="hidden")return t=Vu(n,o),n.lanes=536870912,qo(null,t);if(jh(n),(t=et)?(t=My(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ls!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},s=ig(t),s.return=n,n.child=s,Bt=n,et=null)):t=null,t===null)throw cs(n);return n.lanes=536870912,null}return Vu(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(jh(n),h)if(n.flags&256)n.flags&=-257,n=Ep(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(bt||la(t,n,s,!1),h=(s&t.childLanes)!==0,bt||h){if(o=We,o!==null&&(p=lo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,mr(t,p),un(o,t,p),of;Gu(),n=Ep(t,n,s)}else t=f.treeContext,et=xn(p.nextSibling),Bt=n,Me=!0,us=null,On=!1,t!==null&&ag(n,t),n=Vu(n,o),n.flags|=4096;return n}return t=Ni(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ku(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function lf(t,n,s,o,h){return _r(n),s=Bh(t,n,s,o,void 0,h),o=qh(),t!==null&&!bt?(Hh(t,n,h),ki(t,n,h)):(Me&&o&&Sh(n),n.flags|=1,Ht(t,n,s,h),n.child)}function Tp(t,n,s,o,h,f){return _r(n),n.updateQueue=null,s=bg(n,o,s,h),Ag(t),o=qh(),t!==null&&!bt?(Hh(t,n,f),ki(t,n,f)):(Me&&o&&Sh(n),n.flags|=1,Ht(t,n,s,f),n.child)}function Sp(t,n,s,o,h){if(_r(n),n.stateNode===null){var f=sa,p=s.contextType;typeof p=="object"&&p!==null&&(f=qt(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},xh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qt(p):sa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(sf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&rf.enqueueReplaceState(f,f.state,null),Uo(n,o,f,h),Lo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=br(s,E);f.props=C;var j=f.context,F=s.contextType;p=sa,typeof F=="object"&&F!==null&&(p=qt(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&lp(n,f,o,p),fs=!1;var z=n.memoizedState;f.state=z,Uo(n,o,f,h),Lo(),j=n.memoizedState,E||z!==j||fs?(typeof Y=="function"&&(sf(n,s,Y,o),j=n.memoizedState),(C=fs||op(n,s,C,o,z,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Vh(t,n),p=n.memoizedProps,F=br(s,p),f.props=F,Y=n.pendingProps,z=f.context,j=s.contextType,C=sa,typeof j=="object"&&j!==null&&(C=qt(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==C)&&lp(n,f,o,C),fs=!1,z=n.memoizedState,f.state=z,Uo(n,o,f,h),Lo();var q=n.memoizedState;p!==Y||z!==q||fs||t!==null&&t.dependencies!==null&&pu(t.dependencies)?(typeof E=="function"&&(sf(n,s,E,o),q=n.memoizedState),(F=fs||op(n,s,F,o,z,q,C)||t!==null&&t.dependencies!==null&&pu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ku(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Sr(n,t.child,null,h),n.child=Sr(n,null,s,h)):Ht(t,n,s,h),n.memoizedState=f.state,t=n.child):t=ki(t,n,h),t}function Ap(t,n,s,o){return pr(),n.flags|=256,Ht(t,n,s,o),n.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(t){return{baseLanes:t,cachePool:fg()}}function hf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=_n),t}function bp(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(ft.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Me){if(h?gs(n):ps(),(t=et)?(t=My(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ls!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},s=ig(t),s.return=n,n.child=s,Bt=n,et=null)):t=null,t===null)throw cs(n);return Yf(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ps(),h=n.mode,E=Lu({mode:"hidden",children:E},h),o=gr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=cf(s),o.childLanes=hf(t,p,s),n.memoizedState=uf,qo(null,o)):(gs(n),ff(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(gs(n),n.flags&=-257,n=df(t,n,s)):n.memoizedState!==null?(ps(),n.child=t.child,n.flags|=128,n=null):(ps(),E=o.fallback,h=n.mode,o=Lu({mode:"visible",children:o.children},h),E=gr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Sr(n,t.child,null,s),o=n.child,o.memoizedState=cf(s),o.childLanes=hf(t,p,s),n.memoizedState=uf,n=qo(null,o));else if(gs(n),Yf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(r(419)),o.stack="",o.digest=p,Do({value:o,source:null,stack:null}),n=df(t,n,s)}else if(bt||la(t,n,s,!1),p=(s&t.childLanes)!==0,bt||p){if(p=We,p!==null&&(o=lo(p,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,mr(t,o),un(p,t,o),of;Qf(E)||Gu(),n=df(t,n,s)}else Qf(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,et=xn(E.nextSibling),Bt=n,Me=!0,us=null,On=!1,t!==null&&ag(n,t),n=ff(n,o.children),n.flags|=4096);return n}return h?(ps(),E=o.fallback,h=n.mode,C=t.child,j=C.sibling,o=Ni(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=Ni(j,E):(E=gr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,qo(null,o),o=n.child,E=t.child.memoizedState,E===null?E=cf(s):(h=E.cachePool,h!==null?(C=St._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=fg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=hf(t,p,s),n.memoizedState=uf,qo(t.child,o)):(gs(n),s=t.child,t=s.sibling,s=Ni(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function ff(t,n){return n=Lu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Lu(t,n){return t=mn(22,t,null,n),t.lanes=0,t}function df(t,n,s){return Sr(n,t.child,null,s),t=ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wp(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Ch(t.return,n,s)}function mf(t,n,s,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Rp(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=ft.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,se(ft,p),Ht(t,n,o,s),o=Me?No:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wp(t,s,n);else if(t.tag===19)wp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&bu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),mf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}mf(n,!0,s,null,f,o);break;case"together":mf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ki(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),vs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(la(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Ni(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ni(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&pu(t)))}function ME(t,n,s){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),hs(n,St,t.memoizedState.cache),pr();break;case 27:case 5:Zs(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,jh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(gs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?bp(t,n,s):(gs(n),t=ki(t,n,s),t!==null?t.sibling:null);gs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(la(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Rp(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(ft,ft.current),o)break;return null;case 22:return n.lanes=0,_p(t,n,s,n.pendingProps);case 24:hs(n,St,t.memoizedState.cache)}return ki(t,n,s)}function Cp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)bt=!0;else{if(!gf(t,s)&&(n.flags&128)===0)return bt=!1,ME(t,n,s);bt=(t.flags&131072)!==0}else bt=!1,Me&&(n.flags&1048576)!==0&&rg(n,No,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Er(n.elementType),n.type=t,typeof t=="function")vh(t)?(o=br(t,o),n.tag=1,n=Sp(null,n,t,o,s)):(n.tag=0,n=lf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===we){n.tag=11,n=gp(null,n,t,o,s);break e}else if(h===N){n.tag=14,n=pp(null,n,t,o,s);break e}}throw n=nt(t)||t,Error(r(306,n,""))}}return n;case 0:return lf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=br(o,n.pendingProps),Sp(t,n,o,h,s);case 3:e:{if(Dt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Vh(t,n),Uo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,hs(n,St,o),o!==f.cache&&Ih(n,[St],s,!0),Lo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ap(t,n,o,s);break e}else if(o!==h){h=In(Error(r(424)),n),Do(h),n=Ap(t,n,o,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,et=xn(t.firstChild),Bt=n,Me=!0,us=null,On=!0,s=_g(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(pr(),o===h){n=ki(t,n,s);break e}Ht(t,n,o,s)}n=n.child}return n;case 26:return ku(t,n),t===null?(s=Py(n.type,null,n.pendingProps,null))?n.memoizedState=s:Me||(s=n.type,t=n.pendingProps,o=Ju(Ae.current).createElement(s),o[vt]=n,o[kt]=t,Ft(o,s,t),Et(o),n.stateNode=o):n.memoizedState=Py(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Zs(n),t===null&&Me&&(o=n.stateNode=ky(n.type,n.pendingProps,Ae.current),Bt=n,On=!0,h=et,bs(n.type)?(Kf=h,et=xn(o.firstChild)):et=h),Ht(t,n,n.pendingProps.children,s),ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Me&&((h=o=et)&&(o=lT(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Bt=n,et=xn(o.firstChild),On=!1,h=!0):h=!1),h||cs(n)),Zs(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Hf(h,f)?o=null:p!==null&&Hf(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Bh(t,n,AE,null,null,s),il._currentValue=h),ku(t,n),Ht(t,n,o,s),n.child;case 6:return t===null&&Me&&((t=s=et)&&(s=uT(s,n.pendingProps,On),s!==null?(n.stateNode=s,Bt=n,et=null,t=!0):t=!1),t||cs(n)),null;case 13:return bp(t,n,s);case 4:return Dt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Sr(n,null,o,s):Ht(t,n,o,s),n.child;case 11:return gp(t,n,n.type,n.pendingProps,s);case 7:return Ht(t,n,n.pendingProps,s),n.child;case 8:return Ht(t,n,n.pendingProps.children,s),n.child;case 12:return Ht(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,hs(n,n.type,o.value),Ht(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,_r(n),h=qt(h),o=o(h),n.flags|=1,Ht(t,n,o,s),n.child;case 14:return pp(t,n,n.type,n.pendingProps,s);case 15:return yp(t,n,n.type,n.pendingProps,s);case 19:return Rp(t,n,s);case 31:return OE(t,n,s);case 22:return _p(t,n,s,n.pendingProps);case 24:return _r(n),o=qt(St),t===null?(h=Oh(),h===null&&(h=We,f=Nh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},xh(n),hs(n,St,h)):((t.lanes&s)!==0&&(Vh(t,n),Uo(n,null,null,s),Lo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),hs(n,St,o)):(o=f.cache,hs(n,St,o),o!==h.cache&&Ih(n,[St],s,!0))),Ht(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Li(t){t.flags|=4}function pf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ey())t.flags|=8192;else throw Tr=Eu,Mh}else t.flags&=-16777217}function Ip(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hy(n))if(ey())t.flags|=8192;else throw Tr=Eu,Mh}function Uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Hl():536870912,t.lanes|=n,Ea|=n)}function Ho(t,n){if(!Me)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function xE(t,n,s){var o=n.pendingProps;switch(Ah(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Mi(St),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(oa(n)?Li(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wh())),tt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Li(n),f!==null?(tt(n),Ip(n,f)):(tt(n),pf(n,h,null,o,s))):f?f!==t.memoizedState?(Li(n),tt(n),Ip(n,f)):(tt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Li(n),tt(n),pf(n,h,t,o,s)),null;case 27:if(jr(n),s=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Li(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return tt(n),null}t=ae.current,oa(n)?og(n):(t=ky(h,o,s),n.stateNode=t,Li(n))}return tt(n),null;case 5:if(jr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Li(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return tt(n),null}if(f=ae.current,oa(n))og(n);else{var p=Ju(Ae.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[vt]=n,f[kt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Ft(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Li(n)}}return tt(n),pf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Li(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ae.current,oa(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||by(t.nodeValue,s)),t||cs(n,!0)}else t=Ju(t).createTextNode(o),t[vt]=n,n.stateNode=t}return tt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=oa(n),s!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[vt]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),t=!1}else s=wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return tt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=oa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[vt]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),h=!1}else h=wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Uu(n,n.updateQueue),tt(n),null);case 4:return it(),t===null&&Pf(n.stateNode.containerInfo),tt(n),null;case 10:return Mi(n.type),tt(n),null;case 19:if(K(ft),o=n.memoizedState,o===null)return tt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ho(o,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=bu(t),f!==null){for(n.flags|=128,Ho(o,!1),t=f.updateQueue,n.updateQueue=t,Uu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)ng(s,t),s=s.sibling;return se(ft,ft.current&1|2),Me&&Di(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Jt()>qu&&(n.flags|=128,h=!0,Ho(o,!1),n.lanes=4194304)}else{if(!h)if(t=bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Uu(n,t),Ho(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Me)return tt(n),null}else 2*Jt()-o.renderingStartTime>qu&&s!==536870912&&(n.flags|=128,h=!0,Ho(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Jt(),t.sibling=null,s=ft.current,se(ft,h?s&1|2:s&1),Me&&Di(n,o.treeForkCount),t):(tt(n),null);case 22:case 23:return pn(n),Ph(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),s=n.updateQueue,s!==null&&Uu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&K(vr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Mi(St),tt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function VE(t,n){switch(Ah(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Mi(St),it(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return jr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(r(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(ft),null;case 4:return it(),null;case 10:return Mi(n.type),null;case 22:case 23:return pn(n),Ph(),t!==null&&K(vr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Mi(St),null;case 25:return null;default:return null}}function Np(t,n){switch(Ah(n),n.tag){case 3:Mi(St),it();break;case 26:case 27:case 5:jr(n);break;case 4:it();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:K(ft);break;case 10:Mi(n.type);break;case 22:case 23:pn(n),Ph(),t!==null&&K(vr);break;case 24:Mi(St)}}function Fo(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Ke(n,n.return,E)}}function ys(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=s,j=E;try{j()}catch(F){Ke(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){Ke(n,n.return,F)}}function Dp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Eg(n,s)}catch(o){Ke(t,t.return,o)}}}function Op(t,n,s){s.props=br(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Ke(t,n,o)}}function Go(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){Ke(t,n,h)}}function mi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Ke(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ke(t,n,h)}else s.current=null}function Mp(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Ke(t,t.return,h)}}function yf(t,n,s){try{var o=t.stateNode;nT(o,t.type,s,n),o[kt]=n}catch(h){Ke(t,t.return,h)}}function xp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&bs(t.type)||t.tag===4}function _f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&bs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&bs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(vf(t,n,s),t=t.sibling;t!==null;)vf(t,n,s),t=t.sibling}function Pu(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&bs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Pu(t,n,s),t=t.sibling;t!==null;)Pu(t,n,s),t=t.sibling}function Vp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,o,s),n[vt]=t,n[kt]=s}catch(f){Ke(t,t.return,f)}}var Ui=!1,wt=!1,Ef=!1,kp=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function kE(t,n){if(t=t.containerInfo,Bf=rc,t=Ym(t),fh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,C=-1,j=0,F=0,Y=t,z=null;t:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(C=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===t)break t;if(z===s&&++j===h&&(E=p),z===f&&++F===o&&(C=p),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(qf={focusedElem:t,selectionRange:s},rc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var le=br(s.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(de){Ke(s,s.return,de)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Gf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function Lp(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ji(t,s),o&4&&Fo(5,s);break;case 1:if(ji(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){Ke(s,s.return,p)}else{var h=br(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Ke(s,s.return,p)}}o&64&&Dp(s),o&512&&Go(s,s.return);break;case 3:if(ji(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Eg(t,n)}catch(p){Ke(s,s.return,p)}}break;case 27:n===null&&o&4&&Vp(s);case 26:case 5:ji(t,s),n===null&&o&4&&Mp(s),o&512&&Go(s,s.return);break;case 12:ji(t,s);break;case 31:ji(t,s),o&4&&jp(t,s);break;case 13:ji(t,s),o&4&&zp(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=FE.bind(null,s),cT(t,s))));break;case 22:if(o=s.memoizedState!==null||Ui,!o){n=n!==null&&n.memoizedState!==null||wt,h=Ui;var f=wt;Ui=o,(wt=n)&&!f?zi(t,s,(s.subtreeFlags&8772)!==0):ji(t,s),Ui=h,wt=f}break;case 30:break;default:ji(t,s)}}function Up(t){var n=t.alternate;n!==null&&(t.alternate=null,Up(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,rn=!1;function Pi(t,n,s){for(s=s.child;s!==null;)Pp(t,n,s),s=s.sibling}function Pp(t,n,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:wt||mi(s,n),Pi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:wt||mi(s,n);var o=rt,h=rn;bs(s.type)&&(rt=s.stateNode,rn=!1),Pi(t,n,s),el(s.stateNode),rt=o,rn=h;break;case 5:wt||mi(s,n);case 6:if(o=rt,h=rn,rt=null,Pi(t,n,s),rt=o,rn=h,rt!==null)if(rn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(s.stateNode)}catch(f){Ke(s,n,f)}else try{rt.removeChild(s.stateNode)}catch(f){Ke(s,n,f)}break;case 18:rt!==null&&(rn?(t=rt,Dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ia(t)):Dy(rt,s.stateNode));break;case 4:o=rt,h=rn,rt=s.stateNode.containerInfo,rn=!0,Pi(t,n,s),rt=o,rn=h;break;case 0:case 11:case 14:case 15:ys(2,s,n),wt||ys(4,s,n),Pi(t,n,s);break;case 1:wt||(mi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Op(s,n,o)),Pi(t,n,s);break;case 21:Pi(t,n,s);break;case 22:wt=(o=wt)||s.memoizedState!==null,Pi(t,n,s),wt=o;break;default:Pi(t,n,s)}}function jp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ia(t)}catch(s){Ke(n,n.return,s)}}}function zp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ia(t)}catch(s){Ke(n,n.return,s)}}function LE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kp),n;default:throw Error(r(435,t.tag))}}function ju(t,n){var s=LE(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=GE.bind(null,t,o);o.then(h,h)}})}function an(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(bs(E.type)){rt=E.stateNode,rn=!1;break e}break;case 5:rt=E.stateNode,rn=!1;break e;case 3:case 4:rt=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(rt===null)throw Error(r(160));Pp(f,p,h),rt=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Bp(n,t),n=n.sibling}var Gn=null;function Bp(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),on(t),o&4&&(ys(3,t,t.return),Fo(3,t),ys(5,t,t.return));break;case 1:an(n,t),on(t),o&512&&(wt||s===null||mi(s,s.return)),o&64&&Ui&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Gn;if(an(n,t),on(t),o&512&&(wt||s===null||mi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ei]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,o,s),f[vt]=t,Et(f),o=f;break e;case"link":var p=By("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),Ft(f,o,s),h.head.appendChild(f);break;case"meta":if(p=By("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=h.createElement(o),Ft(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[vt]=t,Et(f),o=f}t.stateNode=o}else qy(h,t.type,t.stateNode);else t.stateNode=zy(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?qy(h,t.type,t.stateNode):zy(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&yf(t,t.memoizedProps,s.memoizedProps)}break;case 27:an(n,t),on(t),o&512&&(wt||s===null||mi(s,s.return)),s!==null&&o&4&&yf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(an(n,t),on(t),o&512&&(wt||s===null||mi(s,s.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(le){Ke(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,yf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Ef=!0);break;case 6:if(an(n,t),on(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(le){Ke(t,t.return,le)}}break;case 3:if(tc=null,h=Gn,Gn=Wu(n.containerInfo),an(n,t),Gn=h,on(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ia(n.containerInfo)}catch(le){Ke(t,t.return,le)}Ef&&(Ef=!1,qp(t));break;case 4:o=Gn,Gn=Wu(t.stateNode.containerInfo),an(n,t),on(t),Gn=o;break;case 12:an(n,t),on(t);break;case 31:an(n,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ju(t,o)));break;case 13:an(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bu=Jt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ju(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=Ui,F=wt;if(Ui=j||h,wt=F||C,an(n,t),wt=F,Ui=j,on(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Ui||wt||wr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){Ke(C,C.return,le)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){Ke(C,C.return,le)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?Oy(q,!0):Oy(C.stateNode,!1)}catch(le){Ke(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ju(t,s))));break;case 19:an(n,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ju(t,o)));break;case 30:break;case 21:break;default:an(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(xp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=_f(t);Pu(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var E=_f(t);Pu(t,E,p);break;case 3:case 4:var C=s.stateNode.containerInfo,j=_f(t);vf(t,j,C);break;default:throw Error(r(161))}}catch(F){Ke(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function qp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;qp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lp(t,n.alternate,n),n=n.sibling}function wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ys(4,n,n.return),wr(n);break;case 1:mi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Op(n,n.return,s),wr(n);break;case 27:el(n.stateNode);case 26:case 5:mi(n,n.return),wr(n);break;case 22:n.memoizedState===null&&wr(n);break;case 30:wr(n);break;default:wr(n)}t=t.sibling}}function zi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:zi(h,f,s),Fo(4,f);break;case 1:if(zi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ke(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)vg(C[h],E)}catch(j){Ke(o,o.return,j)}}s&&p&64&&Dp(f),Go(f,f.return);break;case 27:Vp(f);case 26:case 5:zi(h,f,s),s&&o===null&&p&4&&Mp(f),Go(f,f.return);break;case 12:zi(h,f,s);break;case 31:zi(h,f,s),s&&p&4&&jp(h,f);break;case 13:zi(h,f,s),s&&p&4&&zp(h,f);break;case 22:f.memoizedState===null&&zi(h,f,s),Go(f,f.return);break;case 30:break;default:zi(h,f,s)}n=n.sibling}}function Tf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Oo(s))}function Sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Oo(t))}function Qn(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hp(t,n,s,o),n=n.sibling}function Hp(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(t,n,s,o),h&2048&&Fo(9,n);break;case 1:Qn(t,n,s,o);break;case 3:Qn(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Oo(t)));break;case 12:if(h&2048){Qn(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ke(n,n.return,C)}}else Qn(t,n,s,o);break;case 31:Qn(t,n,s,o);break;case 13:Qn(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(t,n,s,o):Qo(t,n):f._visibility&2?Qn(t,n,s,o):(f._visibility|=2,ya(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Tf(p,n);break;case 24:Qn(t,n,s,o),h&2048&&Sf(n.alternate,n);break;default:Qn(t,n,s,o)}}function ya(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=s,C=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:ya(f,p,E,C,h),Fo(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?ya(f,p,E,C,h):Qo(f,p):(F._visibility|=2,ya(f,p,E,C,h)),h&&j&2048&&Tf(p.alternate,p);break;case 24:ya(f,p,E,C,h),h&&j&2048&&Sf(p.alternate,p);break;default:ya(f,p,E,C,h)}n=n.sibling}}function Qo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:Qo(s,o),h&2048&&Tf(o.alternate,o);break;case 24:Qo(s,o),h&2048&&Sf(o.alternate,o);break;default:Qo(s,o)}n=n.sibling}}var Yo=8192;function _a(t,n,s){if(t.subtreeFlags&Yo)for(t=t.child;t!==null;)Fp(t,n,s),t=t.sibling}function Fp(t,n,s){switch(t.tag){case 26:_a(t,n,s),t.flags&Yo&&t.memoizedState!==null&&ST(s,Gn,t.memoizedState,t.memoizedProps);break;case 5:_a(t,n,s);break;case 3:case 4:var o=Gn;Gn=Wu(t.stateNode.containerInfo),_a(t,n,s),Gn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Yo,Yo=16777216,_a(t,n,s),Yo=o):_a(t,n,s));break;default:_a(t,n,s)}}function Gp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ko(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ut=o,Yp(o,t)}Gp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qp(t),t=t.sibling}function Qp(t){switch(t.tag){case 0:case 11:case 15:Ko(t),t.flags&2048&&ys(9,t,t.return);break;case 3:Ko(t);break;case 12:Ko(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,zu(t)):Ko(t);break;default:Ko(t)}}function zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ut=o,Yp(o,t)}Gp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ys(8,n,n.return),zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,zu(n));break;default:zu(n)}t=t.sibling}}function Yp(t,n){for(;Ut!==null;){var s=Ut;switch(s.tag){case 0:case 11:case 15:ys(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ut=o;else e:for(s=t;Ut!==null;){o=Ut;var h=o.sibling,f=o.return;if(Up(o),o===s){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var UE={getCacheForType:function(t){var n=qt(St),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return qt(St).controller.signal}},PE=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,Ce=null,Ne=0,Ye=0,yn=null,_s=!1,va=!1,Af=!1,Bi=0,ut=0,vs=0,Rr=0,bf=0,_n=0,Ea=0,Xo=null,ln=null,wf=!1,Bu=0,Kp=0,qu=1/0,Hu=null,Es=null,Mt=0,Ts=null,Ta=null,qi=0,Rf=0,Cf=null,Xp=null,Zo=0,If=null;function vn(){return(He&2)!==0&&Ne!==0?Ne&-Ne:G.T!==null?Vf():Fl()}function Zp(){if(_n===0)if((Ne&536870912)===0||Me){var t=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),_n=t}else _n=536870912;return t=gn.current,t!==null&&(t.flags|=32),_n}function un(t,n,s){(t===We&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Sa(t,0),Ss(t,Ne,_n,!1)),er(t,s),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Rr|=s),ut===4&&Ss(t,Ne,_n,!1)),gi(t))}function $p(t,n,s){if((He&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Ln(t,n),h=o?BE(t,n):Df(t,n,!0),f=o;do{if(h===0){va&&!o&&Ss(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!jE(s)){h=Df(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=Xo;var C=E.current.memoizedState.isDehydrated;if(C&&(Sa(E,p).flags|=256),p=Df(E,p,!1),p!==2){if(Af&&!C){E.errorRecoveryDisabledLanes|=f,Rr|=f,h=4;break e}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Sa(t,0),Ss(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ss(o,n,_n,!_s);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Bu+300-Jt(),10<h)){if(Ss(o,n,_n,!_s),$n(o,0,!0)!==0)break e;qi=n,o.timeoutHandle=Iy(Jp.bind(null,o,s,ln,Hu,wf,n,_n,Rr,Ea,_s,f,"Throttled",-0,0),h);break e}Jp(o,s,ln,Hu,wf,n,_n,Rr,Ea,_s,f,null,-0,0)}}break}while(!0);gi(t)}function Jp(t,n,s,o,h,f,p,E,C,j,F,Y,z,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},Fp(n,f,Y);var le=(f&62914560)===f?Bu-Jt():(f&4194048)===f?Kp-Jt():0;if(le=AT(Y,le),le!==null){qi=f,t.cancelPendingCommit=le(ay.bind(null,t,n,f,s,o,h,p,E,C,F,Y,null,z,q)),Ss(t,f,p,!j);return}}ay(t,n,f,s,o,h,p,E,C)}function jE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ss(t,n,s,o){n&=~bf,n&=~Rr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ct(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&tr(t,s,n)}function Fu(){return(He&6)===0?($o(0),!1):!0}function Nf(){if(Ce!==null){if(Ye===0)var t=Ce.return;else t=Ce,Oi=yr=null,Fh(t),fa=null,xo=0,t=Ce;for(;t!==null;)Np(t.alternate,t),t=t.return;Ce=null}}function Sa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,rT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),qi=0,Nf(),We=t,Ce=s=Ni(t.current,null),Ne=n,Ye=0,yn=null,_s=!1,va=Ln(t,n),Af=!1,Ea=_n=bf=Rr=vs=ut=0,ln=Xo=null,wf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ct(o),f=1<<h;n|=t[h],o&=~f}return Bi=n,hu(),s}function Wp(t,n){Se=null,G.H=Bo,n===ha||n===vu?(n=gg(),Ye=3):n===Mh?(n=gg(),Ye=4):Ye=n===of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Ce===null&&(ut=1,xu(t,In(n,t.current)))}function ey(){var t=gn.current;return t===null?!0:(Ne&4194048)===Ne?Mn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?t===Mn:!1}function ty(){var t=G.H;return G.H=Bo,t===null?Bo:t}function ny(){var t=G.A;return G.A=UE,t}function Gu(){ut=4,_s||(Ne&4194048)!==Ne&&gn.current!==null||(va=!0),(vs&134217727)===0&&(Rr&134217727)===0||We===null||Ss(We,Ne,_n,!1)}function Df(t,n,s){var o=He;He|=2;var h=ty(),f=ny();(We!==t||Ne!==n)&&(Hu=null,Sa(t,n)),n=!1;var p=ut;e:do try{if(Ye!==0&&Ce!==null){var E=Ce,C=yn;switch(Ye){case 8:Nf(),p=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var j=Ye;if(Ye=0,yn=null,Aa(t,E,C,j),s&&va){p=0;break e}break;default:j=Ye,Ye=0,yn=null,Aa(t,E,C,j)}}zE(),p=ut;break}catch(F){Wp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Oi=yr=null,He=o,G.H=h,G.A=f,Ce===null&&(We=null,Ne=0,hu()),p}function zE(){for(;Ce!==null;)iy(Ce)}function BE(t,n){var s=He;He|=2;var o=ty(),h=ny();We!==t||Ne!==n?(Hu=null,qu=Jt()+500,Sa(t,n)):va=Ln(t,n);e:do try{if(Ye!==0&&Ce!==null){n=Ce;var f=yn;t:switch(Ye){case 1:Ye=0,yn=null,Aa(t,n,f,1);break;case 2:case 9:if(dg(f)){Ye=0,yn=null,sy(n);break}n=function(){Ye!==2&&Ye!==9||We!==t||(Ye=7),gi(t)},f.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:dg(f)?(Ye=0,yn=null,sy(n)):(Ye=0,yn=null,Aa(t,n,f,7));break;case 5:var p=null;switch(Ce.tag){case 26:p=Ce.memoizedState;case 5:case 27:var E=Ce;if(p?Hy(p):E.stateNode.complete){Ye=0,yn=null;var C=E.sibling;if(C!==null)Ce=C;else{var j=E.return;j!==null?(Ce=j,Qu(j)):Ce=null}break t}}Ye=0,yn=null,Aa(t,n,f,5);break;case 6:Ye=0,yn=null,Aa(t,n,f,6);break;case 8:Nf(),ut=6;break e;default:throw Error(r(462))}}qE();break}catch(F){Wp(t,F)}while(!0);return Oi=yr=null,G.H=o,G.A=h,He=s,Ce!==null?0:(We=null,Ne=0,hu(),ut)}function qE(){for(;Ce!==null&&!rh();)iy(Ce)}function iy(t){var n=Cp(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,n===null?Qu(t):Ce=n}function sy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Tp(s,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=Tp(s,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:Fh(n);default:Np(s,n),n=Ce=ng(n,Bi),n=Cp(s,n,Bi)}t.memoizedProps=t.pendingProps,n===null?Qu(t):Ce=n}function Aa(t,n,s,o){Oi=yr=null,Fh(n),fa=null,xo=0;var h=n.return;try{if(DE(t,h,n,s,Ne)){ut=1,xu(t,In(s,t.current)),Ce=null;return}}catch(f){if(h!==null)throw Ce=h,f;ut=1,xu(t,In(s,t.current)),Ce=null;return}n.flags&32768?(Me||o===1?t=!0:va||(Ne&536870912)!==0?t=!1:(_s=t=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ry(n,t)):Qu(n)}function Qu(t){var n=t;do{if((n.flags&32768)!==0){ry(n,_s);return}t=n.return;var s=xE(n.alternate,n,Bi);if(s!==null){Ce=s;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=t}while(n!==null);ut===0&&(ut=5)}function ry(t,n){do{var s=VE(t.alternate,t);if(s!==null){s.flags&=32767,Ce=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=s}while(t!==null);ut=6,Ce=null}function ay(t,n,s,o,h,f,p,E,C){t.cancelPendingCommit=null;do Yu();while(Mt!==0);if((He&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=yh,lh(t,s,f,p,E,C),t===We&&(Ce=We=null,Ne=0),Ta=n,Ts=t,qi=s,Rf=f,Cf=h,Xp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,QE(Ji,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ie.p,ie.p=2,p=He,He|=4;try{kE(t,n,s)}finally{He=p,ie.p=h,G.T=o}}Mt=1,oy(),ly(),uy()}}function oy(){if(Mt===1){Mt=0;var t=Ts,n=Ta,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=ie.p;ie.p=2;var h=He;He|=4;try{Bp(n,t);var f=qf,p=Ym(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Qm(E.ownerDocument.documentElement,E)){if(C!==null&&fh(E)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),le=E.textContent.length,de=Math.min(C.start,le),Je=C.end===void 0?de:Math.min(C.end,le);!q.extend&&de>Je&&(p=Je,Je=de,de=p);var k=Gm(E,de),D=Gm(E,Je);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),de>Je?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}rc=!!Bf,qf=Bf=null}finally{He=h,ie.p=o,G.T=s}}t.current=n,Mt=2}}function ly(){if(Mt===2){Mt=0;var t=Ts,n=Ta,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=ie.p;ie.p=2;var h=He;He|=4;try{Lp(t,n.alternate,n)}finally{He=h,ie.p=o,G.T=s}}Mt=3}}function uy(){if(Mt===4||Mt===3){Mt=0,Ul();var t=Ts,n=Ta,s=qi,o=Xp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Ta=Ts=null,cy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Es=null),wi(s),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ie.p=h}}(qi&3)!==0&&Yu(),gi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===If?Zo++:(Zo=0,If=t):Zo=0,$o(0)}}function cy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Oo(n)))}function Yu(){return oy(),ly(),uy(),hy()}function hy(){if(Mt!==5)return!1;var t=Ts,n=Rf;Rf=0;var s=wi(qi),o=G.T,h=ie.p;try{ie.p=32>s?32:s,G.T=null,s=Cf,Cf=null;var f=Ts,p=qi;if(Mt=0,Ta=Ts=null,qi=0,(He&6)!==0)throw Error(r(331));var E=He;if(He|=4,Qp(f.current),Hp(f,f.current,p,s),He=E,$o(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{ie.p=h,G.T=o,cy(t,n)}}function fy(t,n,s){n=In(s,n),n=af(t.stateNode,n,2),t=ms(t,n,2),t!==null&&(er(t,2),gi(t))}function Ke(t,n,s){if(t.tag===3)fy(t,t,s);else for(;n!==null;){if(n.tag===3){fy(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Es===null||!Es.has(o))){t=In(s,t),s=dp(2),o=ms(n,s,2),o!==null&&(mp(s,o,n,t),er(o,2),gi(o));break}}n=n.return}}function Of(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new PE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Af=!0,h.add(s),t=HE.bind(null,t,n,s),n.then(t,t))}function HE(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,We===t&&(Ne&s)===s&&(ut===4||ut===3&&(Ne&62914560)===Ne&&300>Jt()-Bu?(He&2)===0&&Sa(t,0):bf|=s,Ea===Ne&&(Ea=0)),gi(t)}function dy(t,n){n===0&&(n=Hl()),t=mr(t,n),t!==null&&(er(t,n),gi(t))}function FE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),dy(t,s)}function GE(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),dy(t,s)}function QE(t,n){return Ot(t,n)}var Ku=null,ba=null,Mf=!1,Xu=!1,xf=!1,As=0;function gi(t){t!==ba&&t.next===null&&(ba===null?Ku=ba=t:ba=ba.next=t),Xu=!0,Mf||(Mf=!0,KE())}function $o(t,n){if(!xf&&Xu){xf=!0;do for(var s=!1,o=Ku;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ct(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,yy(o,f))}else f=Ne,f=$n(o,o===We?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,yy(o,f));o=o.next}while(s);xf=!1}}function YE(){my()}function my(){Xu=Mf=!1;var t=0;As!==0&&sT()&&(t=As);for(var n=Jt(),s=null,o=Ku;o!==null;){var h=o.next,f=gy(o,n);f===0?(o.next=null,s===null?Ku=h:s.next=h,h===null&&(ba=s)):(s=o,(t!==0||(f&3)!==0)&&(Xu=!0)),o=h}Mt!==0&&Mt!==5||$o(t),As!==0&&(As=0)}function gy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-ct(f),E=1<<p,C=h[p];C===-1?((E&s)===0||(E&o)!==0)&&(h[p]=oh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=We,s=Ne,s=$n(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&$i(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ln(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&$i(o),wi(s)){case 2:case 8:s=ao;break;case 32:s=Ji;break;case 268435456:s=Pl;break;default:s=Ji}return o=py.bind(null,t),s=Ot(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&$i(o),t.callbackPriority=2,t.callbackNode=null,2}function py(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Yu()&&t.callbackNode!==s)return null;var o=Ne;return o=$n(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:($p(t,o,n),gy(t,Jt()),t.callbackNode!=null&&t.callbackNode===s?py.bind(null,t):null)}function yy(t,n){if(Yu())return null;$p(t,n,!0)}function KE(){aT(function(){(He&6)!==0?Ot(ro,YE):my()})}function Vf(){if(As===0){var t=ua;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),As=t}return As}function _y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Kr(""+t)}function vy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function XE(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=_y((h[kt]||null).action),p=o.submitter;p&&(n=(n=p[kt]||null)?_y(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new li("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(As!==0){var C=p?vy(h,p):new FormData(h);Wh(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?vy(h,p):new FormData(h),Wh(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var kf=0;kf<ph.length;kf++){var Lf=ph[kf],ZE=Lf.toLowerCase(),$E=Lf[0].toUpperCase()+Lf.slice(1);Fn(ZE,"on"+$E)}Fn(Zm,"onAnimationEnd"),Fn($m,"onAnimationIteration"),Fn(Jm,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(dE,"onTransitionRun"),Fn(mE,"onTransitionStart"),Fn(gE,"onTransitionCancel"),Fn(Wm,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Ey(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){cu(F)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){cu(F)}h.currentTarget=null,f=C}}}}function Ie(t,n){var s=n[Hr];s===void 0&&(s=n[Hr]=new Set);var o=t+"__bubble";s.has(o)||(Ty(n,t,2,!1),s.add(o))}function Uf(t,n,s){var o=0;n&&(o|=4),Ty(s,t,o,n)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Pf(t){if(!t[Zu]){t[Zu]=!0,uo.forEach(function(s){s!=="selectionchange"&&(JE.has(s)||Uf(s,!1,t),Uf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Zu]||(n[Zu]=!0,Uf("selectionchange",!1,n))}}function Ty(t,n,s,o){switch(Zy(n)){case 2:var h=RT;break;case 8:h=CT;break;default:h=Wf}s=h.bind(null,n,s,t),h=void 0,!ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function jf(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ti(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}E=E.parentNode}}o=o.return}ss(function(){var j=f,F=bn(s),Y=[];e:{var z=eg.get(t);if(z!==void 0){var q=li,le=t;switch(t){case"keypress":if(lr(s)===0)break e;case"keydown":case"keyup":q=ou;break;case"focusin":le="focus",q=cr;break;case"focusout":le="blur",q=cr;break;case"beforeblur":case"afterblur":q=cr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Zm:case $m:case Jm:q=eu;break;case Wm:q=b;break;case"scroll":case"scrollend":q=So;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ii;break;case"toggle":case"beforetoggle":q=Te}var de=(n&4)!==0,Je=!de&&(t==="scroll"||t==="scrollend"),k=de?z!==null?z+"Capture":null:z;de=[];for(var D=j,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=zn(D,k),Q!=null&&de.push(Wo(D,Q,P))),Je)break;D=D.return}0<de.length&&(z=new q(z,le,null,s,F),Y.push({event:z,listeners:de}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&s!==vo&&(le=s.relatedTarget||s.fromElement)&&(ti(le)||le[Wn]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(le=s.relatedTarget||s.toElement,q=j,le=le?ti(le):null,le!==null&&(Je=c(le),de=le.tag,le!==Je||de!==5&&de!==27&&de!==6)&&(le=null)):(q=null,le=j),q!==le)){if(de=Ao,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(de=Ii,Q="onPointerLeave",k="onPointerEnter",D="pointer"),Je=q==null?z:hn(q),P=le==null?z:hn(le),z=new de(Q,D+"leave",q,s,F),z.target=Je,z.relatedTarget=P,Q=null,ti(F)===j&&(de=new de(k,D+"enter",le,s,F),de.target=P,de.relatedTarget=Je,Q=de),Je=Q,q&&le)t:{for(de=WE,k=q,D=le,P=0,Q=k;Q;Q=de(Q))P++;Q=0;for(var ce=D;ce;ce=de(ce))Q++;for(;0<P-Q;)k=de(k),P--;for(;0<Q-P;)D=de(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){de=k;break t}k=de(k),D=de(D)}de=null}else de=null;q!==null&&Sy(Y,z,q,de,!1),le!==null&&Je!==null&&Sy(Y,Je,le,de,!0)}}e:{if(z=j?hn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var je=jm;else if(Um(z))if(zm)je=cE;else{je=lE;var ue=oE}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Yr(j.elementType)&&(je=jm):je=uE;if(je&&(je=je(t,j))){Pm(Y,je,s,F);break e}ue&&ue(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&po(z,"number",z.value)}switch(ue=j?hn(j):window,t){case"focusin":(Um(ue)||ue.contentEditable==="true")&&(ta=ue,dh=j,Io=null);break;case"focusout":Io=dh=ta=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Km(Y,s,F);break;case"selectionchange":if(fE)break;case"keydown":case"keyup":Km(Y,s,F)}var be;if(qe)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ea?hr(t,s)&&(De="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(De="onCompositionStart");De&&(hi&&s.locale!=="ko"&&(ea||De!=="onCompositionStart"?De==="onCompositionEnd"&&ea&&(be=To()):(oi=F,Eo="value"in oi?oi.value:oi.textContent,ea=!0)),ue=$u(j,De),0<ue.length&&(De=new ci(De,t,null,s,F),Y.push({event:De,listeners:ue}),be?De.data=be:(be=Wr(s),be!==null&&(De.data=be)))),(be=Rn?iE(t,s):sE(t,s))&&(De=$u(j,"onBeforeInput"),0<De.length&&(ue=new ci("onBeforeInput","beforeinput",null,s,F),Y.push({event:ue,listeners:De}),ue.data=be)),XE(Y,t,j,s,F)}Ey(Y,n)})}function Wo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function $u(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=zn(t,s),h!=null&&o.unshift(Wo(t,h,f)),h=zn(t,n),h!=null&&o.push(Wo(t,h,f))),t.tag===3)return o;t=t.return}return[]}function WE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sy(t,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=zn(s,f),j!=null&&p.unshift(Wo(s,j,C))):h||(j=zn(s,f),j!=null&&p.push(Wo(s,j,C)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var eT=/\r\n?/g,tT=/\u0000|\uFFFD/g;function Ay(t){return(typeof t=="string"?t:""+t).replace(eT,`
`).replace(tT,"")}function by(t,n){return n=Ay(n),Ay(t)===n}function $e(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(t,""+o);break;case"className":fn(t,"class",o);break;case"tabIndex":fn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,s,o);break;case"style":_o(t,o,f);break;case"data":if(n!=="object"){fn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Kr(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$e(t,n,"name",h.name,h,null),$e(t,n,"formEncType",h.formEncType,h,null),$e(t,n,"formMethod",h.formMethod,h,null),$e(t,n,"formTarget",h.formTarget,h,null)):($e(t,n,"encType",h.encType,h,null),$e(t,n,"method",h.method,h,null),$e(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Kr(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=jn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Kr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),Gr(t,"popover",o);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Gr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=$l.get(s)||s,Gr(t,s,o))}}function zf(t,n,s,o,h,f){switch(s){case"style":_o(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof o=="string"?sn(t,o):(typeof o=="number"||typeof o=="bigint")&&sn(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!co.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[kt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Gr(t,s,o)}}}function Ft(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$e(t,n,f,p,s,null)}}h&&$e(t,n,"srcSet",s.srcSet,s,null),o&&$e(t,n,"src",s.src,s,null);return;case"input":Ie("invalid",t);var E=f=p=h=null,C=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:$e(t,n,o,F,s,null)}}Kl(t,f,E,C,j,p,h,!1);return;case"select":Ie("invalid",t),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:$e(t,n,h,E,s,null)}n=f,s=p,t.multiple=!!o,n!=null?es(t,!!o,n,!1):s!=null&&es(t,!!o,s,!0);return;case"textarea":Ie("invalid",t),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:$e(t,n,p,E,s,null)}ts(t,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":$e(t,n,C,o,s,null));return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Ie(Jo[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$e(t,n,j,o,s,null)}return;default:if(Yr(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&zf(t,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&$e(t,n,E,o,s,null))}function nT(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,j=null,F=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(q)||$e(t,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=s[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Y&&$e(t,n,z,q,o,Y)}}Qr(t,p,E,C,j,F,f,h);return;case"select":q=p=E=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||$e(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&$e(t,n,h,f,o,C)}n=E,s=p,o=q,z!=null?es(t,!!s,z,!1):!!o!=!!s&&(n!=null?es(t,!!s,n,!0):es(t,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$e(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&$e(t,n,p,h,o,f)}Xl(t,z,q);return;case"option":for(var le in s)z=s[le],s.hasOwnProperty(le)&&z!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:$e(t,n,le,null,o,z));for(C in o)z=o[C],q=s[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":$e(t,n,C,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in s)z=s[de],s.hasOwnProperty(de)&&z!=null&&!o.hasOwnProperty(de)&&$e(t,n,de,null,o,z);for(j in o)if(z=o[j],q=s[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:$e(t,n,j,z,o,q)}return;default:if(Yr(n)){for(var Je in s)z=s[Je],s.hasOwnProperty(Je)&&z!==void 0&&!o.hasOwnProperty(Je)&&zf(t,n,Je,void 0,o,z);for(F in o)z=o[F],q=s[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||zf(t,n,F,z,o,q);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&$e(t,n,k,null,o,z);for(Y in o)z=o[Y],q=s[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||$e(t,n,Y,z,o,q)}function wy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&wy(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],j=C.startTime;if(j>E)break;var F=C.transferSize,Y=C.initiatorType;F&&wy(Y)&&(C=C.responseEnd,p+=F*(C<E?1:(E-j)/(C-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bf=null,qf=null;function Ju(t){return t.nodeType===9?t:t.ownerDocument}function Ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ff=null;function sT(){var t=window.event;return t&&t.type==="popstate"?t===Ff?!1:(Ff=t,!0):(Ff=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,aT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(t){return Ny.resolve(null).then(t).catch(oT)}:Iy;function oT(t){setTimeout(function(){throw t})}function bs(t){return t==="head"}function Dy(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Ia(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")el(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,el(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&el(t.ownerDocument.body);s=h}while(s);Ia(n)}function Oy(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function Gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Gf(s),Fr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function lT(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function uT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=xn(t.nextSibling),t===null))return null;return t}function My(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=xn(t.nextSibling),t===null))return null;return t}function Qf(t){return t.data==="$?"||t.data==="$~"}function Yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function cT(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Kf=null;function xy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return xn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Vy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function ky(t,n,s){switch(n=Ju(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function el(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Fr(t)}var Vn=new Map,Ly=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=ie.d;ie.d={f:hT,r:fT,D:dT,C:mT,L:gT,m:pT,X:_T,S:yT,M:vT};function hT(){var t=Hi.f(),n=Fu();return t||n}function fT(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?Wg(n):Hi.r(t)}var wa=typeof document>"u"?null:document;function Uy(t,n,s){var o=wa;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Ly.has(h)||(Ly.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ft(n,"link",t),Et(n),o.head.appendChild(n)))}}function dT(t){Hi.D(t),Uy("dns-prefetch",t,null)}function mT(t,n){Hi.C(t,n),Uy("preconnect",t,n)}function gT(t,n,s){Hi.L(t,n,s);var o=wa;if(o&&t&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var f=h;switch(n){case"style":f=Ra(t);break;case"script":f=Ca(t)}Vn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Vn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(tl(f))||n==="script"&&o.querySelector(nl(f))||(n=o.createElement("link"),Ft(n,"link",t),Et(n),o.head.appendChild(n)))}}function pT(t,n){Hi.m(t,n);var s=wa;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ca(t)}if(!Vn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Vn.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(nl(f)))return}o=s.createElement("link"),Ft(o,"link",t),Et(o),s.head.appendChild(o)}}}function yT(t,n,s){Hi.S(t,n,s);var o=wa;if(o&&t){var h=ni(o).hoistableStyles,f=Ra(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(tl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Vn.get(f))&&Xf(t,s);var C=p=o.createElement("link");Et(C),Ft(C,"link",t),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ec(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function _T(t,n){Hi.X(t,n);var s=wa;if(s&&t){var o=ni(s).hoistableScripts,h=Ca(t),f=o.get(h);f||(f=s.querySelector(nl(h)),f||(t=A({src:t,async:!0},n),(n=Vn.get(h))&&Zf(t,n),f=s.createElement("script"),Et(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function vT(t,n){Hi.M(t,n);var s=wa;if(s&&t){var o=ni(s).hoistableScripts,h=Ca(t),f=o.get(h);f||(f=s.querySelector(nl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Vn.get(h))&&Zf(t,n),f=s.createElement("script"),Et(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Py(t,n,s,o){var h=(h=Ae.current)?Wu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ra(s.href),s=ni(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ra(s.href);var f=ni(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(tl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Vn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(t,s),f||ET(h,t,s,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ca(s),s=ni(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ra(t){return'href="'+nn(t)+'"'}function tl(t){return'link[rel="stylesheet"]['+t+"]"}function jy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function ET(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ft(n,"link",s),Et(n),t.head.appendChild(n))}function Ca(t){return'[src="'+nn(t)+'"]'}function nl(t){return"script[async]"+t}function zy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,Et(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Ft(o,"style",h),ec(o,s.precedence,t),n.instance=o;case"stylesheet":h=Ra(s.href);var f=t.querySelector(tl(h));if(f)return n.state.loading|=4,n.instance=f,Et(f),f;o=jy(s),(h=Vn.get(h))&&Xf(o,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Ft(f,"link",o),n.state.loading|=4,ec(f,s.precedence,t),n.instance=f;case"script":return f=Ca(s.src),(h=t.querySelector(nl(f)))?(n.instance=h,Et(h),h):(o=s,(h=Vn.get(f))&&(o=A({},s),Zf(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Ft(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ec(o,s.precedence,t));return n.instance}function ec(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var tc=null;function By(t,n,s){if(tc===null){var o=new Map,h=tc=new Map;h.set(s,o)}else h=tc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[ei]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function qy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function TT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ST(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ra(o.href),f=n.querySelector(tl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=nc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Et(f);return}f=n.ownerDocument||n,o=jy(o),(h=Vn.get(h))&&Xf(o,h),f=f.createElement("link"),Et(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Ft(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=nc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var $f=0;function AT(t,n){return t.stylesheets&&t.count===0&&sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&sc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&$f===0&&($f=62500*iT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&sc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>$f?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ic=null;function sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ic=new Map,n.forEach(bT,t),ic=null,nc.call(t))}function bT(t,n){if(!(n.state.loading&4)){var s=ic.get(t);if(s)var o=s.get(null);else{s=new Map,ic.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var il={$$typeof:ne,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function wT(t,n,s,o,h,f,p,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Fy(t,n,s,o,h,f,p,E,C,j,F,Y){return t=new wT(t,n,s,p,C,j,F,Y,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),t.current=f,f.stateNode=t,n=Nh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},xh(f),t}function Gy(t){return t?(t=sa,t):sa}function Qy(t,n,s,o,h,f){h=Gy(h),o.context===null?o.context=h:o.pendingContext=h,o=ds(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ms(t,o,n),s!==null&&(un(s,t,n),ko(s,t,n))}function Yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Jf(t,n){Yy(t,n),(t=t.alternate)&&Yy(t,n)}function Ky(t){if(t.tag===13||t.tag===31){var n=mr(t,67108864);n!==null&&un(n,t,67108864),Jf(t,67108864)}}function Xy(t){if(t.tag===13||t.tag===31){var n=vn();n=nr(n);var s=mr(t,n);s!==null&&un(s,t,n),Jf(t,n)}}var rc=!0;function RT(t,n,s,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=2,Wf(t,n,s,o)}finally{ie.p=f,G.T=h}}function CT(t,n,s,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=8,Wf(t,n,s,o)}finally{ie.p=f,G.T=h}}function Wf(t,n,s,o){if(rc){var h=ed(o);if(h===null)jf(t,n,o,ac,s),$y(t,o);else if(NT(h,t,n,s,o))o.stopPropagation();else if($y(t,o),n&4&&-1<IT.indexOf(t)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Zn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-ct(p);E.entanglements[1]|=C,p&=~C}gi(f),(He&6)===0&&(qu=Jt()+500,$o(0))}}break;case 31:case 13:E=mr(f,2),E!==null&&un(E,f,2),Fu(),Jf(f,2)}if(f=ed(o),f===null&&jf(t,n,o,ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else jf(t,n,o,null,s)}}function ed(t){return t=bn(t),td(t)}var ac=null;function td(t){if(ac=null,t=ti(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ac=t,null}function Zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Js()){case ro:return 2;case ao:return 8;case Ji:case ah:return 32;case Pl:return 268435456;default:return 32}default:return 32}}var nd=!1,ws=null,Rs=null,Cs=null,sl=new Map,rl=new Map,Is=[],IT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $y(t,n){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(n.pointerId)}}function al(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&Ky(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function NT(t,n,s,o,h){switch(n){case"focusin":return ws=al(ws,t,n,s,o,h),!0;case"dragenter":return Rs=al(Rs,t,n,s,o,h),!0;case"mouseover":return Cs=al(Cs,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return sl.set(f,al(sl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,rl.set(f,al(rl.get(f)||null,t,n,s,o,h)),!0}return!1}function Jy(t){var n=ti(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Un(t.priority,function(){Xy(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,Un(t.priority,function(){Xy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=ed(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);vo=o,s.target.dispatchEvent(o),vo=null}else return n=An(s),n!==null&&Ky(n),t.blockedOn=s,!1;n.shift()}return!0}function Wy(t,n,s){oc(t)&&s.delete(n)}function DT(){nd=!1,ws!==null&&oc(ws)&&(ws=null),Rs!==null&&oc(Rs)&&(Rs=null),Cs!==null&&oc(Cs)&&(Cs=null),sl.forEach(Wy),rl.forEach(Wy)}function lc(t,n){t.blockedOn===n&&(t.blockedOn=null,nd||(nd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,DT)))}var uc=null;function e_(t){uc!==t&&(uc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){uc===t&&(uc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(td(o||s)===null)continue;break}var f=An(s);f!==null&&(t.splice(n,3),n-=3,Wh(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ia(t){function n(C){return lc(C,t)}ws!==null&&lc(ws,t),Rs!==null&&lc(Rs,t),Cs!==null&&lc(Cs,t),sl.forEach(n),rl.forEach(n);for(var s=0;s<Is.length;s++){var o=Is[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Is.length&&(s=Is[0],s.blockedOn===null);)Jy(s),s.blockedOn===null&&Is.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[kt]||null;if(typeof f=="function")p||e_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[kt]||null)E=p.formAction;else if(td(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),e_(s)}}}function t_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function id(t){this._internalRoot=t}cc.prototype.render=id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=vn();Qy(s,o,t,n,null,null)},cc.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Qy(t.current,2,null,t,null,null),Fu(),n[Wn]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Fl();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Is.length&&n!==0&&n<Is[s].priority;s++);Is.splice(s,0,t),s===0&&Jy(t)}};var n_=e.version;if(n_!=="19.2.3")throw Error(r(527,n_,"19.2.3"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var OT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{kn=hc.inject(OT),jt=hc}catch{}}return ll.createRoot=function(t,n){if(!l(t))throw Error(r(299));var s=!1,o="",h=up,f=cp,p=hp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Fy(t,1,!1,null,null,s,o,null,h,f,p,t_),t[Wn]=n.current,Pf(t),new id(n)},ll.hydrateRoot=function(t,n,s){if(!l(t))throw Error(r(299));var o=!1,h="",f=up,p=cp,E=hp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=Fy(t,1,!0,n,s??null,o,h,C,f,p,E,t_),n.context=Gy(null),s=n.current,o=vn(),o=nr(o),h=ds(o),h.callback=null,ms(s,h,o),s=o,n.current.lanes=s,er(n,s),gi(n),t[Wn]=n.current,Pf(t),new cc(n)},ll.version="19.2.3",ll}var f_;function BT(){if(f_)return ad.exports;f_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),ad.exports=zT(),ad.exports}var qT=BT();const d_=a=>{let e;const i=new Set,r=(_,T)=>{const A=typeof _=="function"?_(e):_;if(!Object.is(A,e)){const x=e;e=T??(typeof A!="object"||A===null)?A:Object.assign({},e,A),i.forEach(H=>H(e,x))}},l=()=>e,g={setState:r,getState:l,getInitialState:()=>y,subscribe:_=>(i.add(_),()=>i.delete(_))},y=e=a(r,l,g);return g},HT=(a=>a?d_(a):d_),FT=a=>a;function GT(a,e=FT){const i=ul.useSyncExternalStore(a.subscribe,ul.useCallback(()=>e(a.getState()),[a,e]),ul.useCallback(()=>e(a.getInitialState()),[a,e]));return ul.useDebugValue(i),i}const QT=a=>{const e=HT(a),i=r=>GT(e,r);return Object.assign(i,e),i},YT=(a=>QT);function KT(a,e){let i;try{i=a()}catch{return}return{getItem:l=>{var c;const d=y=>y===null?null:JSON.parse(y,void 0),g=(c=i.getItem(l))!=null?c:null;return g instanceof Promise?g.then(d):d(g)},setItem:(l,c)=>i.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>i.removeItem(l)}}const Ad=a=>e=>{try{const i=a(e);return i instanceof Promise?i:{then(r){return Ad(r)(i)},catch(r){return this}}}catch(i){return{then(r){return this},catch(r){return Ad(r)(i)}}}},XT=(a,e)=>(i,r,l)=>{let c={storage:KT(()=>localStorage),partialize:X=>X,version:0,merge:(X,J)=>({...J,...X}),...e},d=!1;const g=new Set,y=new Set;let _=c.storage;if(!_)return a((...X)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),i(...X)},r,l);const T=()=>{const X=c.partialize({...r()});return _.setItem(c.name,{state:X,version:c.version})},A=l.setState;l.setState=(X,J)=>(A(X,J),T());const x=a((...X)=>(i(...X),T()),r,l);l.getInitialState=()=>x;let H;const te=()=>{var X,J;if(!_)return;d=!1,g.forEach(re=>{var ne;return re((ne=r())!=null?ne:x)});const $=((J=c.onRehydrateStorage)==null?void 0:J.call(c,(X=r())!=null?X:x))||void 0;return Ad(_.getItem.bind(_))(c.name).then(re=>{if(re)if(typeof re.version=="number"&&re.version!==c.version){if(c.migrate){const ne=c.migrate(re.state,re.version);return ne instanceof Promise?ne.then(we=>[!0,we]):[!0,ne]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,re.state];return[!1,void 0]}).then(re=>{var ne;const[we,Be]=re;if(H=c.merge(Be,(ne=r())!=null?ne:x),i(H,!0),we)return T()}).then(()=>{$?.(H,void 0),H=r(),d=!0,y.forEach(re=>re(H))}).catch(re=>{$?.(void 0,re)})};return l.persist={setOptions:X=>{c={...c,...X},X.storage&&(_=X.storage)},clearStorage:()=>{_?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>te(),hasHydrated:()=>d,onHydrate:X=>(g.add(X),()=>{g.delete(X)}),onFinishHydration:X=>(y.add(X),()=>{y.delete(X)})},c.skipHydration||te(),H||x},ZT=XT,En=(a,e,i)=>a.length?a.filter(r=>{if(e.showFavoritesOnly&&!i.includes(r.id)||e.searchQuery&&!e.searchQuery.toLowerCase().split(/\s+/).filter(Boolean).every(d=>{const g=(r.referencia||"").toLowerCase().includes(d),y=(r.ref||[]).some(H=>(H||"").toLowerCase().includes(d)),_=(r.oem||[]).some(H=>(H||"").toLowerCase().includes(d)),T=(r.fmsi||[]).some(H=>(H||"").toLowerCase().includes(d)),A=(r.fabricante||"").toLowerCase().includes(d),x=(r.aplicaciones||[]).some(H=>(H.marca||"").toLowerCase().includes(d)||(H.modelo||"").toLowerCase().includes(d));return g||y||_||T||A||x}))return!1;if(e.selectedPosition){const l=e.selectedPosition.toUpperCase();if(r.posicion!==l&&r.posicion!=="AMBAS")return!1}if(e.selectedBrand){const l=e.selectedBrand.toLowerCase();if(!r.aplicaciones.some(d=>d.marca&&d.marca.toLowerCase().includes(l)))return!1}if(e.selectedModel){const l=e.selectedModel.toLowerCase();if(!r.aplicaciones.some(d=>d.modelo&&d.modelo.toLowerCase().includes(l)))return!1}if(e.selectedYear){const l=String(e.selectedYear);if(!r.aplicaciones.some(d=>d.ao&&String(d.ao).includes(l)))return!1}if(e.oemReference){const l=e.oemReference.toLowerCase();if(!(r.oem||[]).some(c=>(c||"").toLowerCase().includes(l)))return!1}if(e.fmsiReference){const l=e.fmsiReference.toLowerCase();if(!(r.fmsi||[]).some(c=>(c||"").toLowerCase().includes(l)))return!1}if(e.width){const l=parseFloat(e.width);if(isNaN(l))return!0;if(Math.abs(r.medidas.ancho-l)>.5)return!1}if(e.height){const l=parseFloat(e.height);if(isNaN(l))return!0;if(Math.abs(r.medidas.alto-l)>.5)return!1}return!0}):[],m_={searchQuery:"",selectedBrand:"",selectedModel:"",selectedYear:"",selectedPosition:null,selectedBrandTags:[],oemReference:"",fmsiReference:"",width:"",height:"",showFavoritesOnly:!1},$T={currentPage:1,itemsPerPage:24,isCompareModalOpen:!1,isHistoryModalOpen:!1,isProductDetailModalOpen:!1,isGuideModalOpen:!1,selectedProductId:null,notifications:[]},me=YT()(ZT((a,e)=>({products:[],filteredProducts:[],filters:m_,favorites:[],comparisons:[],searchHistory:[],theme:"dark",ui:$T,isNotificationPanelOpen:!1,toggleNotificationPanel:()=>a(i=>({isNotificationPanelOpen:!i.isNotificationPanelOpen})),closeNotificationPanel:()=>a({isNotificationPanelOpen:!1}),notificationMessage:null,pwaUpdateAvailable:!1,setProducts:i=>a({products:i,filteredProducts:En(i,e().filters,e().favorites)}),setFilteredProducts:i=>a({filteredProducts:i}),setNotificationMessage:i=>a({notificationMessage:i}),setPwaUpdateAvailable:i=>a({pwaUpdateAvailable:i}),setSearchQuery:i=>a(r=>{const l={...r.filters,searchQuery:i};return{filters:l,filteredProducts:En(r.products,l,r.favorites),ui:{...r.ui,currentPage:1}}}),setSelectedBrand:i=>a(r=>{const l={...r.filters,selectedBrand:i};return{filters:l,filteredProducts:En(r.products,l,r.favorites),ui:{...r.ui,currentPage:1}}}),setSelectedModel:i=>a(r=>{const l={...r.filters,selectedModel:i};return{filters:l,filteredProducts:En(r.products,l,r.favorites),ui:{...r.ui,currentPage:1}}}),setSelectedYear:i=>a(r=>{const l={...r.filters,selectedYear:i};return{filters:l,filteredProducts:En(r.products,l,r.favorites),ui:{...r.ui,currentPage:1}}}),setSelectedPosition:i=>a(r=>{const l={...r.filters,selectedPosition:i};return{filters:l,filteredProducts:En(r.products,l,r.favorites),ui:{...r.ui,currentPage:1}}}),toggleBrandTag:i=>a(r=>{const l=r.filters.selectedBrandTags,c=l.includes(i)?l.filter(g=>g!==i):[...l,i],d={...r.filters,selectedBrandTags:c};return{filters:d,filteredProducts:En(r.products,d,r.favorites),ui:{...r.ui,currentPage:1}}}),setOemReference:i=>a(r=>{const l={...r.filters,oemReference:i};return{filters:l,filteredProducts:En(r.products,l,r.favorites),ui:{...r.ui,currentPage:1}}}),setFmsiReference:i=>a(r=>{const l={...r.filters,fmsiReference:i};return{filters:l,filteredProducts:En(r.products,l,r.favorites),ui:{...r.ui,currentPage:1}}}),setWidth:i=>a(r=>{const l={...r.filters,width:i};return{filters:l,filteredProducts:En(r.products,l,r.favorites),ui:{...r.ui,currentPage:1}}}),setHeight:i=>a(r=>{const l={...r.filters,height:i};return{filters:l,filteredProducts:En(r.products,l,r.favorites),ui:{...r.ui,currentPage:1}}}),toggleShowFavoritesOnly:()=>a(i=>{const r={...i.filters,showFavoritesOnly:!i.filters.showFavoritesOnly};return{filters:r,filteredProducts:En(i.products,r,i.favorites),ui:{...i.ui,currentPage:1}}}),clearFilters:()=>a(i=>({filters:m_,filteredProducts:i.products,ui:{...i.ui,currentPage:1}})),toggleFavorite:i=>a(r=>{const l=r.favorites.includes(i)?r.favorites.filter(d=>d!==i):[...r.favorites,i],c=r.filters.showFavoritesOnly?En(r.products,r.filters,l):r.filteredProducts;return{favorites:l,filteredProducts:c}}),toggleComparison:i=>a(r=>{const l=r.comparisons.includes(i)?r.comparisons.filter(c=>c!==i):r.comparisons.length<4?[...r.comparisons,i]:r.comparisons;if(r.comparisons.length>=4&&!r.comparisons.includes(i)){const c={type:"system",title:"Lmite de comparacin",message:"Mximo 4 productos para comparar"};e().addNotification(c)}return{comparisons:l}}),addToSearchHistory:i=>a(r=>({searchHistory:[{...i,id:Date.now().toString()},...r.searchHistory].slice(0,10)})),clearSearchHistory:()=>a({searchHistory:[]}),setTheme:i=>{a({theme:i}),document.documentElement.setAttribute("data-theme",i)},setCurrentPage:i=>a(r=>({ui:{...r.ui,currentPage:i}})),openCompareModal:()=>a(i=>({ui:{...i.ui,isCompareModalOpen:!0}})),closeCompareModal:()=>a(i=>({ui:{...i.ui,isCompareModalOpen:!1}})),openHistoryModal:()=>a(i=>({ui:{...i.ui,isHistoryModalOpen:!0}})),closeHistoryModal:()=>a(i=>({ui:{...i.ui,isHistoryModalOpen:!1}})),openProductDetailModal:i=>a(r=>({ui:{...r.ui,isProductDetailModalOpen:!0,selectedProductId:i}})),closeProductDetailModal:()=>a(i=>({ui:{...i.ui,isProductDetailModalOpen:!1,selectedProductId:null}})),openGuideModal:()=>a(i=>({ui:{...i.ui,isGuideModalOpen:!0}})),closeGuideModal:()=>a(i=>({ui:{...i.ui,isGuideModalOpen:!1}})),addNotification:i=>a(r=>{const c=[{...i,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:Date.now(),read:!1},...r.ui.notifications].slice(0,50);return{ui:{...r.ui,notifications:c}}}),removeNotification:i=>a(r=>({ui:{...r.ui,notifications:r.ui.notifications.filter(l=>l.id!==i)}})),markAsRead:i=>a(r=>({ui:{...r.ui,notifications:r.ui.notifications.map(l=>l.id===i?{...l,read:!0}:l)}})),clearAllNotifications:()=>a(i=>({ui:{...i.ui,notifications:[]}}))}),{name:"brake-x-storage",partialize:a=>({favorites:a.favorites,comparisons:a.comparisons,searchHistory:a.searchHistory,theme:a.theme})})),JT=()=>{};var g_={};const Qv=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},WT=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,y=l+2<a.length,_=y?a[l+2]:0,T=c>>2,A=(c&3)<<4|g>>4;let x=(g&15)<<2|_>>6,H=_&63;y||(H=64,d||(x=64)),r.push(i[T],i[A],i[x],i[H])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Qv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):WT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const _=l<a.length?i[a.charAt(l)]:64;++l;const A=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new eS;const x=c<<2|g>>4;if(r.push(x),_!==64){const H=g<<4&240|_>>2;if(r.push(H),A!==64){const te=_<<6&192|A;r.push(te)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class eS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tS=function(a){const e=Qv(a);return Yv.encodeByteArray(e,!0)},Cc=function(a){return tS(a).replace(/\./g,"")},Kv=function(a){try{return Yv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iS=()=>nS().__FIREBASE_DEFAULTS__,sS=()=>{if(typeof process>"u"||typeof g_>"u")return;const a=g_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},rS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Kv(a[1]);return e&&JSON.parse(e)},Hc=()=>{try{return JT()||iS()||sS()||rS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Xv=a=>Hc()?.emulatorHosts?.[a],aS=a=>{const e=Xv(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Zv=()=>Hc()?.config,$v=a=>Hc()?.[`_${a}`];class oS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Za(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jv(a){return(await fetch(a,{credentials:"include"})).ok}function lS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Cc(JSON.stringify(i)),Cc(JSON.stringify(d)),""].join(".")}const ml={};function uS(){const a={prod:[],emulator:[]};for(const e of Object.keys(ml))ml[e]?a.emulator.push(e):a.prod.push(e);return a}function cS(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let p_=!1;function Wv(a,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||ml[a]===e||ml[a]||p_)return;ml[a]=e;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=uS().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,H){x.setAttribute("width","24"),x.setAttribute("id",H),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{p_=!0,d()},x}function T(x,H){x.setAttribute("id",H),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=cS(r),H=i("text"),te=document.getElementById(H)||document.createElement("span"),X=i("learnmore"),J=document.getElementById(X)||document.createElement("a"),$=i("preprendIcon"),re=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ne=x.element;g(ne),T(J,X);const we=_();y(re,$),ne.append(re,te,J,we),document.body.appendChild(ne)}c?(te.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function fS(){const a=Hc()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function gS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pS(){const a=$t();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function yS(){return!fS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function vS(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const ES="FirebaseError";class Zi extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=ES,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?TS(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Zi(l,g,r)}}function TS(a,e){return a.replace(SS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const SS=/\{\$([^}]+)}/g;function AS(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function Vr(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=e[l];if(y_(c)&&y_(d)){if(!Vr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function y_(a){return a!==null&&typeof a=="object"}function Cl(a){const e=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bS(a,e){const i=new wS(a,e);return i.subscribe.bind(i)}class wS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");RS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=cd),l.error===void 0&&(l.error=cd),l.complete===void 0&&(l.complete=cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RS(a,e){if(typeof a!="object"||a===null)return!1;for(const i of e)if(i in a&&typeof a[i]=="function")return!0;return!1}function cd(){}function Xs(a){return a&&a._delegate?a._delegate:a}class kr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Cr="[DEFAULT]";class CS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new oS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NS(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cr){return this.instances.has(e)}getOptions(e=Cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cr){return this.component?this.component.multipleInstances?e:Cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IS(a){return a===Cr?void 0:a}function NS(a){return a.instantiationMode==="EAGER"}class DS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new CS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Oe||(Oe={}));const OS={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},MS=Oe.INFO,xS={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},VS=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),l=xS[e];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class em{constructor(e){this.name=e,this._logLevel=MS,this._logHandler=VS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const kS=(a,e)=>e.some(i=>a instanceof i);let __,v_;function LS(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function US(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e0=new WeakMap,bd=new WeakMap,t0=new WeakMap,hd=new WeakMap,tm=new WeakMap;function PS(a){const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Us(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&e0.set(i,a)}).catch(()=>{}),tm.set(e,a),e}function jS(a){if(bd.has(a))return;const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});bd.set(a,e)}let wd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return bd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||t0.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Us(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function zS(a){wd=a(wd)}function BS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(fd(this),e,...i);return t0.set(r,e.sort?e.sort():[e]),Us(r)}:US().includes(a)?function(...e){return a.apply(fd(this),e),Us(e0.get(this))}:function(...e){return Us(a.apply(fd(this),e))}}function qS(a){return typeof a=="function"?BS(a):(a instanceof IDBTransaction&&jS(a),kS(a,LS())?new Proxy(a,wd):a)}function Us(a){if(a instanceof IDBRequest)return PS(a);if(hd.has(a))return hd.get(a);const e=qS(a);return e!==a&&(hd.set(a,e),tm.set(e,a)),e}const fd=a=>tm.get(a);function HS(a,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,e),g=Us(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Us(d.result),y.oldVersion,y.newVersion,Us(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const FS=["get","getKey","getAll","getAllKeys","count"],GS=["put","add","delete","clear"],dd=new Map;function E_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(dd.get(e))return dd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=GS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||FS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return dd.set(e,c),c}zS(a=>({...a,get:(e,i,r)=>E_(e,i)||a.get(e,i,r),has:(e,i)=>!!E_(e,i)||a.has(e,i)}));class QS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(YS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function YS(a){return a.getComponent()?.type==="VERSION"}const Rd="@firebase/app",T_="0.14.6";const Qi=new em("@firebase/app"),KS="@firebase/app-compat",XS="@firebase/analytics-compat",ZS="@firebase/analytics",$S="@firebase/app-check-compat",JS="@firebase/app-check",WS="@firebase/auth",eA="@firebase/auth-compat",tA="@firebase/database",nA="@firebase/data-connect",iA="@firebase/database-compat",sA="@firebase/functions",rA="@firebase/functions-compat",aA="@firebase/installations",oA="@firebase/installations-compat",lA="@firebase/messaging",uA="@firebase/messaging-compat",cA="@firebase/performance",hA="@firebase/performance-compat",fA="@firebase/remote-config",dA="@firebase/remote-config-compat",mA="@firebase/storage",gA="@firebase/storage-compat",pA="@firebase/firestore",yA="@firebase/ai",_A="@firebase/firestore-compat",vA="firebase",EA="12.6.0";const Cd="[DEFAULT]",TA={[Rd]:"fire-core",[KS]:"fire-core-compat",[ZS]:"fire-analytics",[XS]:"fire-analytics-compat",[JS]:"fire-app-check",[$S]:"fire-app-check-compat",[WS]:"fire-auth",[eA]:"fire-auth-compat",[tA]:"fire-rtdb",[nA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[sA]:"fire-fn",[rA]:"fire-fn-compat",[aA]:"fire-iid",[oA]:"fire-iid-compat",[lA]:"fire-fcm",[uA]:"fire-fcm-compat",[cA]:"fire-perf",[hA]:"fire-perf-compat",[fA]:"fire-rc",[dA]:"fire-rc-compat",[mA]:"fire-gcs",[gA]:"fire-gcs-compat",[pA]:"fire-fst",[_A]:"fire-fst-compat",[yA]:"fire-vertex","fire-js":"fire-js",[vA]:"fire-js-all"};const Ic=new Map,SA=new Map,Id=new Map;function S_(a,e){try{a.container.addComponent(e)}catch(i){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ba(a){const e=a.name;if(Id.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,a);for(const i of Ic.values())S_(i,a);for(const i of SA.values())S_(i,a);return!0}function nm(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function yi(a){return a==null?!1:a.settings!==void 0}const AA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new Rl("app","Firebase",AA);class bA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}const $a=EA;function n0(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Cd,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Ps.create("bad-app-name",{appName:String(l)});if(i||(i=Zv()),!i)throw Ps.create("no-options");const c=Ic.get(l);if(c){if(Vr(i,c.options)&&Vr(r,c.config))return c;throw Ps.create("duplicate-app",{appName:l})}const d=new DS(l);for(const y of Id.values())d.addComponent(y);const g=new bA(i,r,d);return Ic.set(l,g),g}function i0(a=Cd){const e=Ic.get(a);if(!e&&a===Cd&&Zv())return n0();if(!e)throw Ps.create("no-app",{appName:a});return e}function js(a,e,i){let r=TA[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}Ba(new kr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const wA="firebase-heartbeat-database",RA=1,El="firebase-heartbeat-store";let md=null;function s0(){return md||(md=HS(wA,RA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(El)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ps.create("idb-open",{originalErrorMessage:a.message})})),md}async function CA(a){try{const i=(await s0()).transaction(El),r=await i.objectStore(El).get(r0(a));return await i.done,r}catch(e){if(e instanceof Zi)Qi.warn(e.message);else{const i=Ps.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(i.message)}}}async function A_(a,e){try{const r=(await s0()).transaction(El,"readwrite");await r.objectStore(El).put(e,r0(a)),await r.done}catch(i){if(i instanceof Zi)Qi.warn(i.message);else{const r=Ps.create("idb-set",{originalErrorMessage:i?.message});Qi.warn(r.message)}}}function r0(a){return`${a.name}!${a.options.appId}`}const IA=1024,NA=30;class DA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new MA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=b_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>NA){const l=xA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b_(),{heartbeatsToSend:i,unsentEntries:r}=OA(this._heartbeatsCache.heartbeats),l=Cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Qi.warn(e),""}}}function b_(){return new Date().toISOString().substring(0,10)}function OA(a,e=IA){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),w_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),w_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class MA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?vS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await CA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function w_(a){return Cc(JSON.stringify({version:2,heartbeats:a})).length}function xA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}function VA(a){Ba(new kr("platform-logger",e=>new QS(e),"PRIVATE")),Ba(new kr("heartbeat",e=>new DA(e),"PRIVATE")),js(Rd,T_,a),js(Rd,T_,"esm2020"),js("fire-js","")}VA("");var kA="firebase",LA="12.7.0";js(kA,LA,"app");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zs,a0;(function(){var a;function e(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,O,L){for(var R=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)R[nt-2]=arguments[nt];return w.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],O=N.g[2];let L=N.g[3],R;R=w+(L^I&(O^L))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+V[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+V[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(L^I&(O^L))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+V[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+V[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(L^I&(O^L))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+V[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+V[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(L^I&(O^L))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+V[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+V[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(O^L&(I^O))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+V[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+V[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(I^O))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+V[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+V[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(I^O))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+V[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+V[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(I^O))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+V[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+V[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(I^O^L)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+V[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+V[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^L)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+V[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+V[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^L)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+V[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+V[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^L)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+V[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+V[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(O^(I|~L))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+V[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+V[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~L))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+V[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+V[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~L))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+V[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+V[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~L))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+V[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<w;){if(O==0)for(;L<=I;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(V[O++]=N.charCodeAt(L++),O==this.blockSize){l(this,V),O=0;break}}else for(;L<w;)if(V[O++]=N[L++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[w++]=this.g[I]>>>V&255;return N};function c(N,w){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function d(N,w){this.h=w;const I=[];let V=!0;for(let O=N.length-1;O>=0;O--){const L=N[O]|0;V&&L==w||(I[O]=L,V=!1)}this.g=I}var g={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return J(_(-N));const w=[];let I=1;for(let V=0;N>=I;V++)w[V]=N/I|0,I*=4294967296;return new d(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return J(T(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=A;for(let L=0;L<N.length;L+=8){var O=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+O),w);O<8?(O=_(Math.pow(w,O)),V=V.j(O).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var A=y(0),x=y(1),H=y(16777216);a=d.prototype,a.m=function(){if(X(this))return-J(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(te(this))return"0";if(X(this))return"-"+J(this).toString(N);const w=_(Math.pow(N,6));var I=this;let V="";for(;;){const O=we(I,w).g;I=$(I,O.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=O,te(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function te(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function X(N){return N.h==-1}a.l=function(N){return N=$(this,N),X(N)?-1:te(N)?0:1};function J(N){const w=N.g.length,I=[];for(let V=0;V<w;V++)I[V]=~N.g[V];return new d(I,~N.h).add(x)}a.abs=function(){return X(this)?J(this):this},a.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let O=0;O<=w;O++){let L=V+(this.i(O)&65535)+(N.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=R>>>16,L&=65535,R&=65535,I[O]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function $(N,w){return N.add(J(w))}a.j=function(N){if(te(this)||te(N))return A;if(X(this))return X(N)?J(this).j(J(N)):J(J(this).j(N));if(X(N))return J(this.j(J(N)));if(this.l(H)<0&&N.l(H)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const L=this.i(V)>>>16,R=this.i(V)&65535,nt=N.i(O)>>>16,Nt=N.i(O)&65535;I[2*V+2*O]+=R*Nt,re(I,2*V+2*O),I[2*V+2*O+1]+=L*Nt,re(I,2*V+2*O+1),I[2*V+2*O+1]+=R*nt,re(I,2*V+2*O+1),I[2*V+2*O+2]+=L*nt,re(I,2*V+2*O+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new d(I,0)};function re(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ne(N,w){this.g=N,this.h=w}function we(N,w){if(te(w))throw Error("division by zero");if(te(N))return new ne(A,A);if(X(N))return w=we(J(N),w),new ne(J(w.g),J(w.h));if(X(w))return w=we(N,J(w)),new ne(J(w.g),w.h);if(N.g.length>30){if(X(N)||X(w))throw Error("slowDivide_ only works with positive integers.");for(var I=x,V=w;V.l(N)<=0;)I=Be(I),V=Be(V);var O=Re(I,1),L=Re(V,1);for(V=Re(V,2),I=Re(I,2);!te(V);){var R=L.add(V);R.l(N)<=0&&(O=O.add(I),L=R),V=Re(V,1),I=Re(I,1)}return w=$(N,O.j(w)),new ne(O,w)}for(O=A;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(I),R=L.j(w);X(R)||R.l(N)>0;)I-=V,L=_(I),R=L.j(w);te(L)&&(L=x),O=O.add(L),N=$(N,R)}return new ne(O,N)}a.B=function(N){return we(this,N).h},a.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},a.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},a.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function Be(N){const w=N.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Re(N,w){const I=w>>5;w%=32;const V=N.g.length-I,O=[];for(let L=0;L<V;L++)O[L]=w>0?N.i(L+I)>>>w|N.i(L+I+1)<<32-w:N.i(L+I);return new d(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,a0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,zs=d}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var o0,cl,l0,_c,Nd,u0,c0,h0;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break e;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var W=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)W[Te-2]=arguments[Te];return m.prototype[U].apply(b,W)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function te(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=U[W]}else u.push(U)}}class X{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function $(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class re{constructor(){this.h=this.g=null}add(m,v){const b=ne.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new X(()=>new we,u=>u.reset());class we{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,Re=!1,N=new re,w=()=>{const u=Promise.resolve(void 0);Be=()=>{u.then(I)}};function I(){for(var u;u=$();){try{u.h.call(u.g)}catch(v){J(v)}var m=ne;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(nt,O),nt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Nt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ge(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=Ae(u,m,b,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new ie(m,this.src,B,!!b,U),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return U}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Dt={};function it(u,m,v,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)it(u,m[B],v,b,U);return null}return v=so(v),u&&u[Nt]?u.J(m,v,g(b)?!!b.capture:!1,U):Zs(u,m,v,!1,b,U)}function Zs(u,m,v,b,U,B){if(!m)throw Error("Invalid event type");const W=g(U)?!!U.capture:!!U;let Te=$s(u);if(Te||(u[Ve]=Te=new ae(u)),v=Te.add(m,v,b,W,B),v.proxy)return v;if(b=jr(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)L||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Kn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function jr(){function u(v){return m.call(u.src,u.listener,v)}const m=no;return u}function zr(u,m,v,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)zr(u,m[B],v,b,U);else b=g(b)?!!b.capture:!!b,v=so(v),u&&u[Nt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ae(m,v,b,U),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$s(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,b,U)),(v=u>-1?m[u]:null)&&Br(v))}function Br(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Nt])ye(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Kn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=$s(m))?(ye(v,u),v.h==0&&(v.src=null,m[Ve]=null)):fe(u)}}}function Kn(u){return u in Dt?Dt[u]:Dt[u]="on"+u}function no(u,m){if(u.da)u=!0;else{m=new nt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Br(u),u=v.call(b,m)}return u}function $s(u){return u=u[Ve],u instanceof ae?u:null}var io="__closure_events_fn_"+(Math.random()*1e9>>>0);function so(u){return typeof u=="function"?u:(u[io]||(u[io]=function(m){return u.handleEvent(m)}),u[io])}function yt(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}A(yt,V),yt.prototype[Nt]=!0,yt.prototype.removeEventListener=function(u,m,v,b){zr(this,u,m,v,b)};function Ot(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(b,u),se(m,U)}U=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],U=$i(B,b,!0,m)&&U;if(B=m.g=u,U=$i(B,b,!0,m)&&U,U=$i(B,b,!1,m)&&U,v)for(W=0;W<v.length;W++)B=m.g=v[W],U=$i(B,b,!1,m)&&U}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)fe(v[b]);delete u.g[m],u.h--}}this.G=null},yt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},yt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function $i(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const Te=W.listener,ht=W.ha||W.src;W.fa&&ye(u.i,W),U=Te.call(ht,b)!==!1&&U}}return U&&!b.defaultPrevented}function rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ul(u){u.g=rh(()=>{u.g=null,u.i&&(u.i=!1,Ul(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Jt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ul(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Js(u){V.call(this),this.h=u,this.g={}}A(Js,V);var ro=[];function ao(u){Ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&Br(m)},u),u.g={}}Js.prototype.N=function(){Js.Z.N.call(this),ao(this)},Js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=d.JSON.stringify,ah=d.JSON.parse,Pl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function jl(){}function zl(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){O.call(this,"d")}A(jt,O);function Sn(){O.call(this,"c")}A(Sn,O);var ct={},Bl=null;function qr(){return Bl=Bl||new yt}ct.Ia="serverreachability";function ql(u){O.call(this,ct.Ia,u)}A(ql,O);function Xn(u){const m=qr();Ot(m,new ql(m))}ct.STAT_EVENT="statevent";function Ws(u,m){O.call(this,ct.STAT_EVENT,u),this.stat=m}A(Ws,O);function _t(u){const m=qr();Ot(m,new Ws(m,u))}ct.Ja="timingevent";function Zn(u,m){O.call(this,ct.Ja,u),this.size=m}A(Zn,O);function $n(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function oh(u,m,v,b,U,B){u.info(function(){if(u.g)if(B){var W="",Te=B.split("&");for(let qe=0;qe<Te.length;qe++){var ht=Te[qe].split("=");if(ht.length>1){const st=ht[0];ht=ht[1];const Rn=st.split("_");W=Rn.length>=2&&Rn[1]=="type"?W+(st+"="+ht+"&"):W+(st+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function Hl(u,m,v,b,U,B,W){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+W})}function Jn(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+lh(u,v)+(b?" "+b:"")})}function er(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<b.length;W++)b[W]=""}}}}return Ji(B)}catch{return m}}var tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},lo;function nr(){}A(nr,jl),nr.prototype.g=function(){return new XMLHttpRequest},lo=new nr;function wi(u){return encodeURIComponent(String(u))}function Fl(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Un(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var vt={},kt={};function Wn(u,m,v){u.M=1,u.A=ir(Tt(m)),u.u=v,u.R=!0,Hr(u,null)}function Hr(u,m){u.F=Date.now(),ei(u),u.B=Tt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Yr(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Pn,u.g=ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Jt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ro[0]=U.toString()),U=ro);for(let B=0;B<U.length;B++){const W=it(v,U[B],b||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Xn(),oh(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)e:{const Te=Bn(this.g),ht=this.g.ya(),qe=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Te!=4||ht==7||(ht==8||qe<=0?Xn(3):Xn(2)),ti(this);var m=this.g.ca();this.X=m;var v=uh(this);if(this.o=m==200,Hl(this.i,this.v,this.B,this.l,this.S,Te,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,u);else{this.o=!1,this.m=3,_t(12),hn(this),An(this);break e}}if(this.R){u=!0;let st;for(;!this.K&&this.C<v.length;)if(st=Ql(this,v),st==kt){Te==4&&(this.m=4,_t(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(st==vt){this.m=4,_t(15),Jn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,st,null),ni(this,st);if(Gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||v.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),bo(W),W.P=!0,_t(11))}}else Jn(this.i,this.l,v,null),ni(this,v);Te==4&&hn(this),this.o&&!this.K&&(Te==4?tu(this.j,this):(this.o=!1,ei(this)))}else Ci(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),hn(this),An(this)}}}catch{}};function uh(u){if(!Gl(u))return u.g.la();const m=zt(u.g);if(m==="")return"";let v="";const b=m.length,U=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),An(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Gl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ql(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?kt:(v=Number(m.substring(v,b)),isNaN(v)?vt:(b+=1,b+v>m.length?kt:(m=m.slice(b,b+v),u.C=b+v,m)))}Un.prototype.cancel=function(){this.K=!0,hn(this)};function ei(u){u.T=Date.now()+u.H,Fr(u,u.H)}function Fr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$n(_(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(er(this.i,this.B),this.M!=2&&(Xn(),_t(17)),hn(this),this.m=2,An(this)):Fr(this,this.T-u)};function An(u){u.j.I==0||u.K||tu(u.j,u)}function hn(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ao(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ni(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||si(v.h,u))){if(!u.L&&si(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Jr(v),as(v);else break e;cr(v),_t(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=$n(_(v.Va,v),6e3));ii(v.h)<=1&&v.ta&&(v.ta=void 0)}else ci(v,11)}else if((u.L||v.g==u)&&Jr(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let qe=U[m];const st=qe[0];if(!(st<=v.K))if(v.K=st,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Rn=qe[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const hi=qe[4];hi!=null&&(v.za=hi,v.j.info("SVER="+v.za));const qn=qe[5];qn!=null&&typeof qn=="number"&&qn>0&&(b=1.5*qn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Hn=u.g;if(Hn){const hr=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var B=b.h;B.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ho(B,B.h),B.h=null))}if(b.G){const Wr=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wr&&(b.wa=Wr,Qe(b.J,b.G,Wr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var W=u;if(b.na=su(b,b.L?b.ba:null,b.W),W.L){fo(b.h,W);var Te=W,ht=b.O;ht&&(Te.H=ht),Te.D&&(ti(Te),ei(Te)),b.g=W}else Wl(b);v.i.length>0&&ui(v)}else qe[0]!="stop"&&qe[0]!="close"||ci(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ci(v,7):So(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}Xn(4)}catch{}}var Et=class{constructor(u,m){this.g=u,this.map=m}};function uo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ii(u){return u.h?1:u.g?u.g.size:0}function si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ho(u,m){u.g?u.g.add(m):u.h=m}function fo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}uo.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var Yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,B=null;b>=0?(U=u[v].substring(0,b),B=u[v].substring(b+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.u),this.h=u.h,go(this,$l(u.i)),this.m=u.m):u&&(m=String(u).match(Yl))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=ri(m[2]||""),this.g=ri(m[3]||"",!0),Wi(this,m[4]),this.h=ri(m[5]||"",!0),go(this,m[6]||"",!0),this.m=ri(m[7]||"")):(this.l=!1,this.i=new ts(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(sr(m,Qr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(sr(m,Qr,!0),"@"),u.push(wi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(sr(v,v.charAt(0)=="/"?po:Kl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",sr(v,Xl)),u.join("")},fn.prototype.resolve=function(u){const m=Tt(this);let v=!!u.j;v?Lt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Wi(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let W=0;W<U.length;){const Te=U[W++];Te=="."?b&&W==U.length&&B.push(""):Te==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&W==U.length&&B.push("")):(B.push(Te),b=!0)}b=B.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?go(m,$l(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Tt(u){return new fn(u)}function Lt(u,m,v){u.j=v?ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function go(u,m,v){m instanceof ts?(u.i=m,Kr(u.i,u.l)):(v||(m=sr(m,es)),u.i=new ts(m,u.l))}function Qe(u,m,v){u.i.set(m,v)}function ir(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qr=/[#\/\?@]/g,Kl=/[#\?:]/g,po=/[#\?]/g,es=/[#\?@]/g,Xl=/#/g;function ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Gr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=ts.prototype,a.add=function(u,m){sn(this),this.i=null,u=ns(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Zl(u,m){sn(u),m=ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yo(u,m){return sn(u),m=ns(u,m),u.g.has(m)}a.forEach=function(u,m){sn(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function _o(u,m){sn(u);let v=[];if(typeof m=="string")yo(u,m)&&(v=v.concat(u.g.get(ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return sn(this),this.i=null,u=ns(this,u),yo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=_o(this,u),u.length>0?String(u[0]):m):m};function Yr(u,m,v){Zl(u,m),v.length>0&&(u.i=null,u.g.set(ns(u,m),H(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=wi(v);v=_o(this,v);for(let B=0;B<v.length;B++){let W=U;v[B]!==""&&(W+="="+wi(v[B])),u.push(W)}}return this.i=u.join("&")};function $l(u){const m=new ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Kr(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(Zl(this,b),Yr(this,U,v))},u)),u.j=m}function jn(u,m){const v=new Ln;if(d.Image){const b=new Image;b.onload=T(bn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(bn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(bn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(bn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function vo(u,m){const v=new Ln,b=new AbortController,U=setTimeout(()=>{b.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function is(){this.g=new Pl}function ai(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ai,jl),ai.prototype.g=function(){return new rr(this.i,this.h)};function rr(u,m){yt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(rr,yt),a=rr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,zn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ss(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ss(this):zn(this),this.readyState==3&&Xr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ss(this))},a.Na=function(u){this.g&&(this.response=u,ss(this))},a.ga=function(){this.g&&ss(this)};function ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,zn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Ue(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function ar(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=wn(v),typeof u=="string"?v!=null&&wi(v):Qe(u,m,v))}function Xe(u){yt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,yt);var oi=/^https?$/i,Eo=["POST","PUT"];a=Xe.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():lo.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){or(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Eo,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){or(this,B)}};function or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,To(u),Ri(u)}function To(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),Ri(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Xe.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?lr(this):this.Xa())},a.Xa=function(){lr(this)};function lr(u){if(u.h&&typeof c<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let W=String(u.D).match(Yl)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),b=!oi.test(W?W.toLowerCase():"")}v=b}if(v)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var U=Bn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",To(u)}}finally{Ri(u)}}}}function Ri(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ot(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ah(m)}};function zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=Fl(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Ge(m,function(b){return b.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function rs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new uo(u&&u.concurrentRequestLimit),this.Ba=new is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=rs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,b){_t(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=su(this,null,this.W),ui(this)};function So(u){if(Zr(u),u.I==3){var m=u.V++,v=Tt(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),ur(u,v),m=new Un(u,u.j,m),m.M=2,m.A=ir(Tt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ei(m)}iu(u)}function as(u){u.g&&(bo(u),u.g.cancel(),u.g=null)}function Zr(u){as(u),u.v&&(d.clearTimeout(u.v),u.v=null),Jr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ui(u){if(!co(u.h)&&!u.m){u.m=!0;var m=u.Ea;Be||w(),Re||(Be(),Re=!0),N.add(m,u),u.D=0}}function $r(u,m){return ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$n(_(u.Ea,u,m),nu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Un(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),se(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Jl(this,U,m),v=Tt(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),ur(this,v),B&&(this.R?m="headers="+wi(wn(B))+"&"+m:this.u&&ar(v,this.u,B)),ho(this.h,U),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),U.U=!0,Wn(U,v,null)):Wn(U,v,m),this.I=2}}else this.I==3&&(u?Ao(this,u):this.i.length==0||co(this.h)||Ao(this))};function Ao(u,m){var v;m?v=m.l:v=u.V++;const b=Tt(u.J);Qe(b,"SID",u.M),Qe(b,"RID",v),Qe(b,"AID",u.K),ur(u,b),u.u&&u.o&&ar(b,u.u,u.o),v=new Un(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Jl(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ho(u.h,v),Wn(v,b,m)}function ur(u,m){u.H&&Ue(u.H,function(v,b){Qe(m,b,v)}),u.l&&Ue({},function(v,b){Qe(m,b,v)})}function Jl(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Te=-1;for(;;){const ht=["count="+v];Te==-1?v>0?(Te=U[0].g,ht.push("ofs="+Te)):Te=0:ht.push("ofs="+Te);let qe=!0;for(let st=0;st<v;st++){var B=U[st].g;const Rn=U[st].map;if(B-=Te,B<0)Te=Math.max(0,U[st].g-100),qe=!1;else try{B="req"+B+"_"||"";try{var W=Rn instanceof Map?Rn:Object.entries(Rn);for(const[hi,qn]of W){let Hn=qn;g(qn)&&(Hn=Ji(qn)),ht.push(B+hi+"="+encodeURIComponent(Hn))}}catch(hi){throw ht.push(B+"type="+encodeURIComponent("_badmap")),hi}}catch{b&&b(Rn)}}if(qe){W=ht.join("&");break e}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function Wl(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Be||w(),Re||(Be(),Re=!0),N.add(m,u),u.A=0}}function cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$n(_(u.Da,u),nu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$n(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),as(this),eu(this))};function bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function eu(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Tt(u.na);Qe(m,"RID","rpc"),Qe(m,"SID",u.M),Qe(m,"AID",u.K),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(m,"TO",u.ia),Qe(m,"TYPE","xmlhttp"),ur(u,m),u.u&&u.o&&ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ir(Tt(m)),v.u=null,v.R=!0,Hr(v,u)}a.Va=function(){this.C!=null&&(this.C=null,as(this),cr(this),_t(19))};function Jr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function tu(u,m){var v=null;if(u.g==m){Jr(u),bo(u),u.g=null;var b=2}else if(si(u.h,m))v=m.G,fo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=qr(),Ot(b,new Zn(b,v)),ui(u)}else Wl(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&$r(u,m)||b==2&&cr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:ci(u,5);break;case 4:ci(u,10);break;case 3:ci(u,6);break;default:ci(u,2)}}}function nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ci(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new fn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(b,"https"),ir(b),U?jn(b.toString(),v):vo(b.toString(),v)}else _t(2);u.I=0,u.l&&u.l.pa(m),iu(u),Zr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function iu(u){if(u.I=0,u.ja=[],u.l){const m=mo(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function su(u,m,v){var b=v instanceof fn?Tt(v):new fn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Wi(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new fn(null);b&&Lt(B,b),m&&(B.g=m),U&&Wi(B,U),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Qe(b,v,m),Qe(b,"VER",u.ka),ur(u,b),b}function ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xe(new ai({ab:v})):new Xe(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}a=au.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function os(){}os.prototype.g=function(u,m){return new Wt(u,m)};function Wt(u,m){yt.call(this),this.g=new rs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ii(this)}A(Wt,yt),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){So(this.g)},Wt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ji(u),u=v);m.i.push(new Et(m.Ya++,u)),m.I==3&&ui(m)},Wt.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,Wt.Z.N.call(this)};function ou(u){jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(ou,jt);function lu(){Sn.call(this),this.status=1}A(lu,Sn);function Ii(u){this.g=u}A(Ii,au),Ii.prototype.ra=function(){Ot(this.g,"a")},Ii.prototype.qa=function(u){Ot(this.g,new ou(u))},Ii.prototype.pa=function(u){Ot(this.g,new lu)},Ii.prototype.oa=function(){Ot(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,h0=function(){return new os},c0=function(){return qr()},u0=ct,Nd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,_c=tr,oo.COMPLETE="complete",l0=oo,zl.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,cl=zl,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,o0=Xe}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore",I_="4.9.3";class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");let Ja="12.7.0";const Lr=new em("@firebase/firestore");function Na(){return Lr.logLevel}function oe(a,...e){if(Lr.logLevel<=Oe.DEBUG){const i=e.map(im);Lr.debug(`Firestore (${Ja}): ${a}`,...i)}}function Yi(a,...e){if(Lr.logLevel<=Oe.ERROR){const i=e.map(im);Lr.error(`Firestore (${Ja}): ${a}`,...i)}}function qa(a,...e){if(Lr.logLevel<=Oe.WARN){const i=e.map(im);Lr.warn(`Firestore (${Ja}): ${a}`,...i)}}function im(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Ee(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,f0(a,r,i)}function f0(a,e,i){let r=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Yi(r),new Error(r)}function ot(a,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||f0(e,l,r)}function Le(a,e){return a}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Zi{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class d0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xt.UNAUTHENTICATED)))}shutdown(){}}class PA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class jA{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ot(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Nr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Nr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new d0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class zA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new zA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ot(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ot(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class m0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=HA(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function xe(a,e){return a<e?-1:a>e?1:0}function Dd(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=e.charAt(r);if(l!==c)return gd(l)===gd(c)?xe(l,c):gd(l)?1:-1}return xe(a.length,e.length)}const FA=55296,GA=57343;function gd(a){const e=a.charCodeAt(0);return e>=FA&&e<=GA}function Ha(a,e,i){return a.length===e.length&&a.every(((r,l)=>i(r,e[l])))}const D_="__name__";class pi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ee(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=pi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return xe(e.length,i.length)}static compareSegments(e,i){const r=pi.isNumericId(e),l=pi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?pi.extractNumericId(e).compare(pi.extractNumericId(i)):Dd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class at extends pi{construct(e,i,r){return new at(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new at(i)}static emptyPath(){return new at([])}}const QA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends pi{construct(e,i,r){return new tn(e,i,r)}static isValidIdentifier(e){return QA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new tn([D_])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(i)}static emptyPath(){return new tn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(at.fromString(e))}static fromName(e){return new ge(at.fromString(e).popFirst(5))}static empty(){return new ge(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return at.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new at(e.slice()))}}function YA(a,e,i,r){if(e===!0&&r===!0)throw new he(ee.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function O_(a){if(ge.isDocumentKey(a))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function KA(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function XA(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ee(12329,{type:typeof a})}function Va(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=XA(a);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function It(a,e){const i={typeString:a};return e&&(i.value=e),i}function Il(a,e){if(!KA(a))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new he(ee.INVALID_ARGUMENT,i);return!0}const M_=-62135596800,x_=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*x_);return new Ct(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<M_)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x_}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Il(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:It("string",Ct._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Ct(0,0))}static max(){return new ve(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tl=-1;function ZA(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(r===1e9?new Ct(i+1,0):new Ct(i,r));return new Hs(l,ge.empty(),e)}function $A(a){return new Hs(a.readTime,a.key,Tl)}class Hs{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Hs(ve.min(),ge.empty(),Tl)}static max(){return new Hs(ve.max(),ge.empty(),Tl)}}function JA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(a.documentKey,e.documentKey),i!==0?i:xe(a.largestBatchId,e.largestBatchId))}const WA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fc(a){if(a.code!==ee.FAILED_PRECONDITION||a.message!==WA)throw a;oe("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((T=>{d[_]=T,++g,g===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new Z(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function tb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Wa(a){return a.name==="IndexedDbTransactionError"}class Gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gc.ce=-1;const nb=-1;function Qc(a){return a==null}function Od(a){return a===0&&1/a==-1/0}const g0="";function ib(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=V_(e)),e=sb(a.get(i),e);return V_(e)}function sb(a,e){let i=e;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case g0:i+="";break;default:i+=c}}return i}function V_(a){return a+g0+""}function k_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Nl(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function rb(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class gt{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new gt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dc(this.root,e,this.comparator,!0)}}class dc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??Gt.RED,this.left=l??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new Gt(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(e){return new L_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class L_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ks{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new ks([])}unionWith(e){let i=new Vt(tn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ks(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class p0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new p0("Invalid base64 string: "+c):c}})(e);return new Qt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Qt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const ab=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(a){if(ot(!!a,39018),typeof a=="string"){let e=0;const i=ab.exec(a);if(ot(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(a.seconds),nanos:mt(a.nanos)}}function mt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Gs(a){return typeof a=="string"?Qt.fromBase64String(a):Qt.fromUint8Array(a)}const y0="server_timestamp",_0="__type__",v0="__previous_value__",E0="__local_write_time__";function sm(a){return(a?.mapValue?.fields||{})[_0]?.stringValue===y0}function Yc(a){const e=a.mapValue.fields[v0];return sm(e)?Yc(e):e}function Sl(a){const e=Fs(a.mapValue.fields[E0].timestampValue);return new Ct(e.seconds,e.nanos)}class ob{constructor(e,i,r,l,c,d,g,y,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const Nc="(default)";class Al{constructor(e,i){this.projectId=e,this.database=i||Nc}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}const lb="__type__",ub="__max__",mc={mapValue:{}},cb="__vector__",Md="value";function Qs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?sm(a)?4:fb(a)?9007199254740991:hb(a)?10:11:Ee(28295,{value:a})}function Ai(a,e){if(a===e)return!0;const i=Qs(a);if(i!==Qs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Sl(a).isEqual(Sl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Fs(l.timestampValue),g=Fs(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,c){return Gs(l.bytesValue).isEqual(Gs(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,c){return mt(l.geoPointValue.latitude)===mt(c.geoPointValue.latitude)&&mt(l.geoPointValue.longitude)===mt(c.geoPointValue.longitude)})(a,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return mt(l.integerValue)===mt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=mt(l.doubleValue),g=mt(c.doubleValue);return d===g?Od(d)===Od(g):isNaN(d)&&isNaN(g)}return!1})(a,e);case 9:return Ha(a.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(k_(d)!==k_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ai(d[y],g[y])))return!1;return!0})(a,e);default:return Ee(52216,{left:a})}}function bl(a,e){return(a.values||[]).find((i=>Ai(i,e)))!==void 0}function Fa(a,e){if(a===e)return 0;const i=Qs(a),r=Qs(e);if(i!==r)return xe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return xe(a.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=mt(c.integerValue||c.doubleValue),y=mt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(a,e);case 3:return U_(a.timestampValue,e.timestampValue);case 4:return U_(Sl(a),Sl(e));case 5:return Dd(a.stringValue,e.stringValue);case 6:return(function(c,d){const g=Gs(c),y=Gs(d);return g.compareTo(y)})(a.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const T=xe(g[_],y[_]);if(T!==0)return T}return xe(g.length,y.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=xe(mt(c.latitude),mt(d.latitude));return g!==0?g:xe(mt(c.longitude),mt(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return P_(a.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Md]?.arrayValue,T=y[Md]?.arrayValue,A=xe(_?.values?.length||0,T?.values?.length||0);return A!==0?A:P_(_,T)})(a.mapValue,e.mapValue);case 11:return(function(c,d){if(c===mc.mapValue&&d===mc.mapValue)return 0;if(c===mc.mapValue)return 1;if(d===mc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let A=0;A<y.length&&A<T.length;++A){const x=Dd(y[A],T[A]);if(x!==0)return x;const H=Fa(g[y[A]],_[T[A]]);if(H!==0)return H}return xe(y.length,T.length)})(a.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function U_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return xe(a,e);const i=Fs(a),r=Fs(e),l=xe(i.seconds,r.seconds);return l!==0?l:xe(i.nanos,r.nanos)}function P_(a,e){const i=a.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Fa(i[l],r[l]);if(c)return c}return xe(i.length,r.length)}function Ga(a){return xd(a)}function xd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Fs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Gs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ge.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=xd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${xd(i.fields[d])}`;return l+"}"})(a.mapValue):Ee(61005,{value:a})}function vc(a){switch(Qs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yc(a);return e?16+vc(e):16;case 5:return 2*a.stringValue.length;case 6:return Gs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+vc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return Nl(r.fields,((c,d)=>{l+=c.length+vc(d)})),l})(a.mapValue);default:throw Ee(13486,{value:a})}}function Vd(a){return!!a&&"integerValue"in a}function rm(a){return!!a&&"arrayValue"in a}function j_(a){return!!a&&"nullValue"in a}function z_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function pd(a){return!!a&&"mapValue"in a}function hb(a){return(a?.mapValue?.fields||{})[lb]?.stringValue===cb}function gl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Nl(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=gl(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=gl(a.arrayValue.values[i]);return e}return{...a}}function fb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===ub}class _i{constructor(e){this.value=e}static empty(){return new _i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!pd(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(i)}setAll(e){let i=tn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=gl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());pd(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];pd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Nl(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new _i(gl(this.value))}}class Zt{constructor(e,i,r,l,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Zt(e,0,ve.min(),ve.min(),ve.min(),_i.empty(),0)}static newFoundDocument(e,i,r,l){return new Zt(e,1,i,ve.min(),r,l,0)}static newNoDocument(e,i){return new Zt(e,2,i,ve.min(),ve.min(),_i.empty(),0)}static newUnknownDocument(e,i){return new Zt(e,3,i,ve.min(),ve.min(),_i.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dc{constructor(e,i){this.position=e,this.inclusive=i}}function B_(a,e,i){let r=0;for(let l=0;l<a.position.length;l++){const c=e[l],d=a.position[l];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(d.referenceValue),i.key):r=Fa(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function q_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ai(a.position[i],e.position[i]))return!1;return!0}class Oc{constructor(e,i="asc"){this.field=e,this.dir=i}}function db(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class T0{}class xt extends T0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new gb(e,i,r):i==="array-contains"?new _b(e,r):i==="in"?new vb(e,r):i==="not-in"?new Eb(e,r):i==="array-contains-any"?new Tb(e,r):new xt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new pb(e,r):new yb(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fa(i,this.value)):i!==null&&Qs(this.value)===Qs(i)&&this.matchesComparison(Fa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends T0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new bi(e,i)}matches(e){return S0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S0(a){return a.op==="and"}function A0(a){return mb(a)&&S0(a)}function mb(a){for(const e of a.filters)if(e instanceof bi)return!1;return!0}function kd(a){if(a instanceof xt)return a.field.canonicalString()+a.op.toString()+Ga(a.value);if(A0(a))return a.filters.map((e=>kd(e))).join(",");{const e=a.filters.map((i=>kd(i))).join(",");return`${a.op}(${e})`}}function b0(a,e){return a instanceof xt?(function(r,l){return l instanceof xt&&r.op===l.op&&r.field.isEqual(l.field)&&Ai(r.value,l.value)})(a,e):a instanceof bi?(function(r,l){return l instanceof bi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&b0(d,l.filters[g])),!0):!1})(a,e):void Ee(19439)}function w0(a){return a instanceof xt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ga(i.value)}`})(a):a instanceof bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(w0).join(" ,")+"}"})(a):"Filter"}class gb extends xt{constructor(e,i,r){super(e,i,r),this.key=ge.fromName(r.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class pb extends xt{constructor(e,i){super(e,"in",i),this.keys=R0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class yb extends xt{constructor(e,i){super(e,"not-in",i),this.keys=R0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function R0(a,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class _b extends xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return rm(i)&&bl(i.arrayValue,this.value)}}class vb extends xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&bl(this.value.arrayValue,i)}}class Eb extends xt{constructor(e,i){super(e,"not-in",i)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!bl(this.value.arrayValue,i)}}class Tb extends xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>bl(this.value.arrayValue,r)))}}class Sb{constructor(e,i=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function H_(a,e=null,i=[],r=[],l=null,c=null,d=null){return new Sb(a,e,i,r,l,c,d)}function am(a){const e=Le(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>kd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Qc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ga(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ga(r))).join(",")),e.Te=i}return e.Te}function om(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!db(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!b0(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!q_(a.startAt,e.startAt)&&q_(a.endAt,e.endAt)}function Ld(a){return ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Kc{constructor(e,i=null,r=[],l=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ab(a,e,i,r,l,c,d,g){return new Kc(a,e,i,r,l,c,d,g)}function lm(a){return new Kc(a)}function F_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function bb(a){return a.collectionGroup!==null}function pl(a){const e=Le(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Vt(tn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Oc(c,r))})),i.has(tn.keyField().canonicalString())||e.Ie.push(new Oc(tn.keyField(),r))}return e.Ie}function Ei(a){const e=Le(a);return e.Ee||(e.Ee=wb(e,pl(a))),e.Ee}function wb(a,e){if(a.limitType==="F")return H_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Oc(l.field,c)}));const i=a.endAt?new Dc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Dc(a.startAt.position,a.startAt.inclusive):null;return H_(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function Ud(a,e,i){return new Kc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Xc(a,e){return om(Ei(a),Ei(e))&&a.limitType===e.limitType}function C0(a){return`${am(Ei(a))}|lt:${a.limitType}`}function Da(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>w0(l))).join(", ")}]`),Qc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ga(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ga(l))).join(",")),`Target(${r})`})(Ei(a))}; limitType=${a.limitType})`}function Zc(a,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,e)&&(function(r,l){for(const c of pl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const _=B_(d,g,y);return d.inclusive?_<=0:_<0})(r.startAt,pl(r),l)||r.endAt&&!(function(d,g,y){const _=B_(d,g,y);return d.inclusive?_>=0:_>0})(r.endAt,pl(r),l))})(a,e)}function Rb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function I0(a){return(e,i)=>{let r=!1;for(const l of pl(a)){const c=Cb(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Cb(a,e,i){const r=a.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Fa(y,_):Ee(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:a.dir})}}class Pr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Nl(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return rb(this.inner)}size(){return this.innerSize}}const Ib=new gt(ge.comparator);function Ys(){return Ib}const N0=new gt(ge.comparator);function hl(...a){let e=N0;for(const i of a)e=e.insert(i.key,i);return e}function Nb(a){let e=N0;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ir(){return yl()}function D0(){return yl()}function yl(){return new Pr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const Db=new Vt(ge.comparator);function Pe(...a){let e=Db;for(const i of a)e=e.add(i);return e}const Ob=new Vt(xe);function Mb(){return Ob}function xb(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function Vb(a){return{integerValue:""+a}}class $c{constructor(){this._=void 0}}function kb(a,e,i){return a instanceof Pd?(function(l,c){const d={fields:{[_0]:{stringValue:y0},[E0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&sm(c)&&(c=Yc(c)),c&&(d.fields[v0]=c),{mapValue:d}})(i,e):a instanceof Mc?O0(a,e):a instanceof xc?M0(a,e):(function(l,c){const d=Ub(l,c),g=G_(d)+G_(l.Ae);return Vd(d)&&Vd(l.Ae)?Vb(g):xb(l.serializer,g)})(a,e)}function Lb(a,e,i){return a instanceof Mc?O0(a,e):a instanceof xc?M0(a,e):i}function Ub(a,e){return a instanceof jd?(function(r){return Vd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Pd extends $c{}class Mc extends $c{constructor(e){super(),this.elements=e}}function O0(a,e){const i=x0(e);for(const r of a.elements)i.some((l=>Ai(l,r)))||i.push(r);return{arrayValue:{values:i}}}class xc extends $c{constructor(e){super(),this.elements=e}}function M0(a,e){let i=x0(e);for(const r of a.elements)i=i.filter((l=>!Ai(l,r)));return{arrayValue:{values:i}}}class jd extends $c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function G_(a){return mt(a.integerValue||a.doubleValue)}function x0(a){return rm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Pb(a,e){return a.field.isEqual(e.field)&&(function(r,l){return r instanceof Mc&&l instanceof Mc||r instanceof xc&&l instanceof xc?Ha(r.elements,l.elements,Ai):r instanceof jd&&l instanceof jd?Ai(r.Ae,l.Ae):r instanceof Pd&&l instanceof Pd})(a.transform,e.transform)}class Dr{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class um{}function V0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new zb(a.key,Dr.none()):new cm(a.key,a.data,Dr.none());{const i=a.data,r=_i.empty();let l=new Vt(tn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Jc(a.key,r,new ks(l.toArray()),Dr.none())}}function jb(a,e,i){a instanceof cm?(function(l,c,d){const g=l.value.clone(),y=Y_(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):a instanceof Jc?(function(l,c,d){if(!Ec(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Y_(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(k0(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function _l(a,e,i,r){return a instanceof cm?(function(c,d,g,y){if(!Ec(c.precondition,d))return g;const _=c.value.clone(),T=K_(c.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,r):a instanceof Jc?(function(c,d,g,y){if(!Ec(c.precondition,d))return g;const _=K_(c.fieldTransforms,y,d),T=d.data;return T.setAll(k0(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(a,e,i,r):(function(c,d,g){return Ec(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,e,i)}function Q_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ha(r,l,((c,d)=>Pb(c,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class cm extends um{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Jc extends um{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function k0(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function Y_(a,e,i){const r=new Map;ot(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,Lb(d,g,i[l]))}return r}function K_(a,e,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,kb(c,d,e))}return r}class zb extends um{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bb{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&jb(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=_l(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=_l(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=D0();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=V0(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(ve.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,((i,r)=>Q_(i,r)))&&Ha(this.baseMutations,e.baseMutations,((i,r)=>Q_(i,r)))}}class qb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Hb{constructor(e,i){this.count=e,this.unchangedNames=i}}var Rt,ke;function L0(a){if(a===void 0)return Yi("GRPC error has no .code"),ee.UNKNOWN;switch(a){case Rt.OK:return ee.OK;case Rt.CANCELLED:return ee.CANCELLED;case Rt.UNKNOWN:return ee.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ee.INTERNAL;case Rt.UNAVAILABLE:return ee.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ee.NOT_FOUND;case Rt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Rt.ABORTED:return ee.ABORTED;case Rt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Rt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:a})}}(ke=Rt||(Rt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";function Fb(){return new TextEncoder}const Gb=new zs([4294967295,4294967295],0);function X_(a){const e=Fb().encode(a),i=new a0;return i.update(e),new Uint8Array(i.digest())}function Z_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new zs([i,r],0),new zs([l,c],0)]}class hm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new fl(`Invalid padding: ${i}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=zs.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(zs.fromNumber(r)));return l.compare(Gb)===1&&(l=new zs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=X_(e),[r,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new hm(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=X_(e),[r,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wc{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Wc(ve.min(),l,new gt(xe),Ys(),Pe())}}class Dl{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Dl(r,i,Pe(),Pe(),Pe())}}class Tc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class U0{constructor(e,i){this.targetId=e,this.Ce=i}}class P0{constructor(e,i,r=Qt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class $_{constructor(){this.ve=0,this.Fe=J_(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),r=Pe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ee(38017,{changeType:c})}})),new Dl(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=J_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Qb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ys(),this.Je=gc(),this.He=gc(),this.Ye=new gt(xe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Ld(c))if(r===0){const d=new ge(c.path);this.et(i,d,Zt.newNoDocument(d,ve.min()))}else ot(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Gs(r).toUint8Array()}catch(y){if(y instanceof p0)return qa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new hm(d,l,c)}catch(y){return qa(y instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Ld(g.target)){const y=new ge(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Zt.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Pe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Wc(e,i,this.Ye,this.je,r);return this.je=Ys(),this.Je=gc(),this.He=gc(),this.Ye=new gt(xe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Vt(xe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Vt(xe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function gc(){return new gt(ge.comparator)}function J_(){return new gt(ge.comparator)}const Yb={asc:"ASCENDING",desc:"DESCENDING"},Kb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xb={and:"AND",or:"OR"};class Zb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function zd(a,e){return a.useProto3Json||Qc(e)?e:{value:e}}function $b(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jb(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function ka(a){return ot(!!a,49232),ve.fromTimestamp((function(i){const r=Fs(i);return new Ct(r.seconds,r.nanos)})(a))}function Wb(a,e){return Bd(a,e).canonicalString()}function Bd(a,e){const i=(function(l){return new at(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?i:i.child(e)}function j0(a){const e=at.fromString(a);return ot(F0(e),10190,{key:e.toString()}),e}function yd(a,e){const i=j0(e);if(i.get(1)!==a.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ge(B0(i))}function z0(a,e){return Wb(a.databaseId,e)}function e2(a){const e=j0(a);return e.length===4?at.emptyPath():B0(e)}function W_(a){return new at(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function B0(a){return ot(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function t2(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(ot(T===void 0||typeof T=="string",58123),Qt.fromBase64String(T||"")):(ot(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qt.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?ee.UNKNOWN:L0(_.code);return new he(T,_.message||"")})(d);i=new P0(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=yd(a,r.document.name),c=ka(r.document.updateTime),d=r.document.createTime?ka(r.document.createTime):ve.min(),g=new _i({mapValue:{fields:r.document.fields}}),y=Zt.newFoundDocument(l,c,d,g),_=r.targetIds||[],T=r.removedTargetIds||[];i=new Tc(_,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=yd(a,r.document),c=r.readTime?ka(r.readTime):ve.min(),d=Zt.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Tc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=yd(a,r.document),c=r.removedTargetIds||[];i=new Tc([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Hb(l,c),g=r.targetId;i=new U0(g,d)}}return i}function n2(a,e){return{documents:[z0(a,e.path)]}}function i2(a,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=z0(a,l);const c=(function(_){if(_.length!==0)return H0(bi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(x){return{field:Oa(x.field),direction:a2(x.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=zd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function s2(a){let e=e2(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){ot(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const x=q0(A);return x instanceof bi&&A0(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((x=>(function(te){return new Oc(Ma(te.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let x;return x=typeof A=="object"?A.value:A,Qc(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(A){const x=!!A.before,H=A.values||[];return new Dc(H,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const x=!A.before,H=A.values||[];return new Dc(H,x)})(i.endAt)),Ab(e,l,d,c,g,"F",y,_)}function r2(a,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function q0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ma(i.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ma(i.unaryFilter.field);return xt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ma(i.unaryFilter.field);return xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ma(i.unaryFilter.field);return xt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(a):a.fieldFilter!==void 0?(function(i){return xt.create(Ma(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return bi.create(i.compositeFilter.filters.map((r=>q0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(a):Ee(30097,{filter:a})}function a2(a){return Yb[a]}function o2(a){return Kb[a]}function l2(a){return Xb[a]}function Oa(a){return{fieldPath:a.canonicalString()}}function Ma(a){return tn.fromServerFormat(a.fieldPath)}function H0(a){return a instanceof xt?(function(i){if(i.op==="=="){if(z_(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NAN"}};if(j_(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(z_(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NOT_NAN"}};if(j_(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(i.field),op:o2(i.op),value:i.value}}})(a):a instanceof bi?(function(i){const r=i.getFilters().map((l=>H0(l)));return r.length===1?r[0]:{compositeFilter:{op:l2(i.op),filters:r}}})(a):Ee(54877,{filter:a})}function F0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Ls{constructor(e,i,r,l,c=ve.min(),d=ve.min(),g=Qt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class u2{constructor(e){this.yt=e}}function c2(a){const e=s2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Ud(e,e.limit,"L"):e}class h2{constructor(){this.Cn=new f2}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Hs.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class f2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Vt(at.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Vt(at.comparator)).toArray()}}const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G0=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(G0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Qa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qa(0)}static cr(){return new Qa(-1)}}const tv="LruGarbageCollector",d2=1048576;function nv([a,e],[i,r]){const l=xe(a,i);return l===0?xe(e,r):l}class m2{constructor(e){this.Ir=e,this.buffer=new Vt(nv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();nv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class g2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(tv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Wa(i)?oe(tv,"Ignoring IndexedDB error during garbage collection: ",i):await Fc(i)}await this.Vr(3e5)}))}}class p2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Gc.ce);const r=new m2(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(ev)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,g,y,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),Na()<=Oe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function y2(a,e){return new p2(a,e)}class _2{constructor(){this.changes=new Pr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class v2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class E2{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&_l(r.mutation,l,ks.empty(),Ct.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Pe()){const l=Ir();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=hl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ir();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Pe())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let c=Ys();const d=yl(),g=(function(){return yl()})();return i.forEach(((y,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Jc)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),_l(T.mutation,_,T.mutation.getFieldMask(),Ct.now())):d.set(_.key,ks.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new v2(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=yl();let l=new gt(((d,g)=>d-g)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let T=r.get(y)||ks.empty();T=g.applyToLocalView(_,T),r.set(y,T);const A=(l.get(g.batchId)||Pe()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,T=y.value,A=D0();T.forEach((x=>{if(!c.has(x)){const H=V0(i.get(x),r.get(x));H!==null&&A.set(x,H),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):bb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):Z.resolve(Ir());let g=Tl,y=c;return d.next((_=>Z.forEach(_,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{y=y.insert(T,x)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Pe()))).next((T=>({batchId:g,changes:Nb(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((r=>{let l=hl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=hl();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(y=>{const _=(function(A,x){return new Kc(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((T=>{T.forEach(((A,x)=>{d=d.insert(A,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Zt.newInvalidDocument(T)))}));let g=hl();return d.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&_l(T.mutation,_,ks.empty(),Ct.now()),Zc(i,_)&&(g=g.insert(y,_))})),g}))}}class T2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ka(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:c2(l.bundledQuery),readTime:ka(l.readTime)}})(i)),Z.resolve()}}class S2{constructor(){this.overlays=new gt(ge.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ir();return Z.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const l=Ir(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new gt(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let T=c.get(_.largestBatchId);T===null&&(T=Ir(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Ir(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=l)););return Z.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new qb(i,r));let c=this.qr.get(i);c===void 0&&(c=Pe(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class A2{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class fm{constructor(){this.Qr=new Vt(Pt.$r),this.Ur=new Vt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Pt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Pt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ge(new at([])),r=new Pt(i,e),l=new Pt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new at([])),r=new Pt(i,e),l=new Pt(i,e+1);let c=Pe();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Pt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||xe(e.Yr,i.Yr)}static Kr(e,i){return xe(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class b2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Pt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Bb(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?nb:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Pt(i,0),l=new Pt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Vt(xe);return i.forEach((l=>{const c=new Pt(l,0),d=new Pt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new ge(c),0);let g=new Vt(xe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){ot(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Pt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Pt(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class w2{constructor(e){this.ri=e,this.docs=(function(){return new gt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(i))}getEntries(e,i){let r=Ys();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Zt.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=Ys();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||JA($A(T),r)<=0||(l.has(T.key)||Zc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Ee(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new R2(this)}getSize(e){return Z.resolve(this.size)}}class R2 extends _2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class C2{constructor(e){this.persistence=e,this.si=new Pr((i=>am(i)),om),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new fm,this.targetCount=0,this.ai=Qa.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Qa(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class Q0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Gc(0),this.li=!1,this.li=!0,this.hi=new A2,this.referenceDelegate=e(this),this.Pi=new C2(this),this.indexManager=new h2,this.remoteDocumentCache=(function(l){return new w2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new u2(i),this.Ii=new T2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new S2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new b2(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){oe("MemoryPersistence","Starting transaction:",e);const l=new I2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class I2 extends eb{constructor(e){super(),this.currentSequenceNumber=e}}class dm{constructor(e){this.persistence=e,this.Ri=new fm,this.Vi=null}static mi(e){return new dm(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=ge.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,ve.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Vc{constructor(e,i){this.persistence=e,this.pi=new Pr((r=>ib(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=y2(this,i)}static mi(e,i){return new Vc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,c.removeEntry(d,ve.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=vc(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mm{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Pe(),l=Pe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new mm(e,i.fromCache,r,l)}}class N2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class D2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yS()?8:tb($t())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new N2;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Na()<=Oe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Da(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Na()<=Oe.DEBUG&&oe("QueryEngine","Query:",Da(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Na()<=Oe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Da(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(i))):Z.resolve())}ys(e,i){if(F_(i))return Z.resolve(null);let r=Ei(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Ud(i,null,"F"),r=Ei(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Pe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,Ud(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,r,l){return F_(i)||l.isEqual(ve.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(Na()<=Oe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Da(i)),this.vs(e,d,i,ZA(l,Tl)).next((g=>g)))}))}Ds(e,i){let r=new Vt(I0(e));return i.forEach(((l,c)=>{Zc(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return Na()<=Oe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Da(i)),this.ps.getDocumentsMatchingQuery(e,i,Hs.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const gm="LocalStore",O2=3e8;class M2{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new gt(xe),this.xs=new Pr((c=>am(c)),om),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function x2(a,e,i,r){return new M2(a,e,i,r)}async function Y0(a,e){const i=Le(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let y=Pe();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function K0(a){const e=Le(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function V2(a,e){const i=Le(a),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((T,A)=>{const x=l.get(A);if(!x)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,A))));let H=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?H=H.withResumeToken(Qt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,r)),l=l.insert(A,H),(function(X,J,$){return X.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=O2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(x,H,T)&&g.push(i.Pi.updateTargetData(c,H))}));let y=Ys(),_=Pe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(k2(c,d,e.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!r.isEqual(ve.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function k2(a,e,i){let r=Pe(),l=Pe();return i.forEach((c=>r=r.add(c))),e.getEntries(a,r).next((c=>{let d=Ys();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(ve.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):oe(gm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function L2(a,e){const i=Le(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Ls(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function qd(a,e,i){const r=Le(a),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Wa(d))throw d;oe(gm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function iv(a,e,i){const r=Le(a);let l=ve.min(),c=Pe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const A=Le(y),x=A.xs.get(T);return x!==void 0?Z.resolve(A.Ms.get(x)):A.Pi.getTargetData(_,T)})(r,d,Ei(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:ve.min(),i?c:Pe()))).next((g=>(U2(r,Rb(e),g),{documents:g,Qs:c})))))}function U2(a,e,i){let r=a.Os.get(e)||ve.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(e,r)}class sv{constructor(){this.activeTargetIds=Mb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P2{constructor(){this.Mo=new sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class j2{Oo(e){}shutdown(){}}const rv="ConnectivityMonitor";class av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(rv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pc=null;function Hd(){return pc===null?pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():pc++,"0x"+pc.toString(16)}const _d="RestConnection",z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Nc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=Hd(),g=this.zo(e,i.toUriEncodedString());oe(_d,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),T=Za(_);return this.Jo(e,g,y,r,T).then((A=>(oe(_d,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw qa(_d,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ja})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=z2[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class q2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Kt="WebChannelConnection";class H2 extends B2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=Hd();return new Promise(((g,y)=>{const _=new o0;_.setWithCredentials(!0),_.listenOnce(l0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case _c.NO_ERROR:const A=_.getResponseJson();oe(Kt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case _c.TIMEOUT:oe(Kt,`RPC '${e}' ${d} timed out`),y(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const x=_.getStatus();if(oe(Kt,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const te=H?.error;if(te&&te.status&&te.message){const X=(function($){const re=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(re)>=0?re:ee.UNKNOWN})(te.status);y(new he(X,te.message))}else y(new he(ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(Kt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);oe(Kt,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=Hd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=h0(),g=c0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const T=c.join("");oe(Kt,`Creating RPC '${e}' stream ${l}: ${T}`,y);const A=d.createWebChannel(T,y);this.I_(A);let x=!1,H=!1;const te=new q2({Yo:J=>{H?oe(Kt,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(x||(oe(Kt,`Opening RPC '${e}' stream ${l} transport.`),A.open(),x=!0),oe(Kt,`RPC '${e}' stream ${l} sending:`,J),A.send(J))},Zo:()=>A.close()}),X=(J,$,re)=>{J.listen($,(ne=>{try{re(ne)}catch(we){setTimeout((()=>{throw we}),0)}}))};return X(A,cl.EventType.OPEN,(()=>{H||(oe(Kt,`RPC '${e}' stream ${l} transport opened.`),te.o_())})),X(A,cl.EventType.CLOSE,(()=>{H||(H=!0,oe(Kt,`RPC '${e}' stream ${l} transport closed`),te.a_(),this.E_(A))})),X(A,cl.EventType.ERROR,(J=>{H||(H=!0,qa(Kt,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),te.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),X(A,cl.EventType.MESSAGE,(J=>{if(!H){const $=J.data[0];ot(!!$,16349);const re=$,ne=re?.error||re[0]?.error;if(ne){oe(Kt,`RPC '${e}' stream ${l} received error:`,ne);const we=ne.status;let Be=(function(w){const I=Rt[w];if(I!==void 0)return L0(I)})(we),Re=ne.message;Be===void 0&&(Be=ee.INTERNAL,Re="Unknown error status: "+we+" with message "+ne.message),H=!0,te.a_(new he(Be,Re)),A.close()}else oe(Kt,`RPC '${e}' stream ${l} received:`,$),te.u_($)}})),X(g,u0.STAT_EVENT,(J=>{J.stat===Nd.PROXY?oe(Kt,`RPC '${e}' stream ${l} detected buffering proxy`):J.stat===Nd.NOPROXY&&oe(Kt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function vd(){return typeof document<"u"?document:null}function X0(a){return new Zb(a,!0)}class Z0{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ov="PersistentStream";class F2{constructor(e,i,r,l,c,d,g,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(Yi(i.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new he(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class G2 extends F2{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=t2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return ve.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ve.min():d.readTime?ka(d.readTime):ve.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=W_(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=Ld(y)?{documents:n2(c,y)}:{query:i2(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Jb(c,d.resumeToken);const _=zd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(ve.min())>0){g.readTime=$b(c,d.snapshotVersion.toTimestamp());const _=zd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=r2(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=W_(this.serializer),i.removeTarget=e,this.q_(i)}}class Q2{}class Y2 extends Q2{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Bd(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Bd(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class K2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ya="RemoteStore";class X2{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ml(this)&&(oe(Ya,"Restarting streams for network reachability change."),await(async function(y){const _=Le(y);_.Ea.add(4),await Ol(_),_.Ra.set("Unknown"),_.Ea.delete(4),await eh(_)})(this))}))})),this.Ra=new K2(r,l)}}async function eh(a){if(Ml(a))for(const e of a.da)await e(!0)}async function Ol(a){for(const e of a.da)await e(!1)}function $0(a,e){const i=Le(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),vm(i)?_m(i):eo(i).O_()&&ym(i,e))}function pm(a,e){const i=Le(a),r=eo(i);i.Ia.delete(e),r.O_()&&J0(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ml(i)&&i.Ra.set("Unknown"))}function ym(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}eo(a).Y_(e)}function J0(a,e){a.Va.Ue(e),eo(a).Z_(e)}function _m(a){a.Va=new Qb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),eo(a).start(),a.Ra.ua()}function vm(a){return Ml(a)&&!eo(a).x_()&&a.Ia.size>0}function Ml(a){return Le(a).Ea.size===0}function W0(a){a.Va=void 0}async function Z2(a){a.Ra.set("Online")}async function $2(a){a.Ia.forEach(((e,i)=>{ym(a,e)}))}async function J2(a,e){W0(a),vm(a)?(a.Ra.ha(e),_m(a)):a.Ra.set("Unknown")}async function W2(a,e,i){if(a.Ra.set("Online"),e instanceof P0&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(a,e)}catch(r){oe(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lv(a,r)}else if(e instanceof Tc?a.Va.Ze(e):e instanceof U0?a.Va.st(e):a.Va.tt(e),!i.isEqual(ve.min()))try{const r=await K0(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),J0(c,y);const A=new Ls(T.target,y,_,T.sequenceNumber);ym(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(r){oe(Ya,"Failed to raise snapshot:",r),await lv(a,r)}}async function lv(a,e,i){if(!Wa(e))throw e;a.Ea.add(1),await Ol(a),a.Ra.set("Offline"),i||(i=()=>K0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{oe(Ya,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await eh(a)}))}async function uv(a,e){const i=Le(a);i.asyncQueue.verifyOperationInProgress(),oe(Ya,"RemoteStore received new credentials");const r=Ml(i);i.Ea.add(3),await Ol(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await eh(i)}async function ew(a,e){const i=Le(a);e?(i.Ea.delete(2),await eh(i)):e||(i.Ea.add(2),await Ol(i),i.Ra.set("Unknown"))}function eo(a){return a.ma||(a.ma=(function(i,r,l){const c=Le(i);return c.sa(),new G2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:Z2.bind(null,a),t_:$2.bind(null,a),r_:J2.bind(null,a),H_:W2.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),vm(a)?_m(a):a.Ra.set("Unknown")):(await a.ma.stop(),W0(a))}))),a.ma}class Em{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,g=new Em(e,i,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e1(a,e){if(Yi("AsyncQueue",`${e}: ${a}`),Wa(a))return new he(ee.UNAVAILABLE,`${e}: ${a}`);throw a}class La{static emptySet(e){return new La(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ge.comparator(i.key,r.key):(i,r)=>ge.comparator(i.key,r.key),this.keyedMap=hl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class cv{constructor(){this.ga=new gt(ge.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Ka{constructor(e,i,r,l,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ka(e,i,La.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class tw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nw{constructor(){this.queries=hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Le(i),c=l.queries;l.queries=hv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function hv(){return new Pr((a=>C0(a)),Xc)}async function t1(a,e){const i=Le(a);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new tw,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=e1(d,`Initialization of query '${Da(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Tm(i)}async function n1(a,e){const i=Le(a),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function iw(a,e){const i=Le(a);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&Tm(i)}function sw(a,e,i){const r=Le(a),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function Tm(a){a.Ca.forEach((e=>{e.next()}))}var Fd,fv;(fv=Fd||(Fd={})).Ma="default",fv.Cache="cache";class i1{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fd.Cache}}class s1{constructor(e){this.key=e}}class r1{constructor(e){this.key=e}}class rw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=I0(e),this.tu=new La(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new cv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,A)=>{const x=l.get(T),H=Zc(this.query,A)?A:null,te=!!x&&this.mutatedKeys.has(x.key),X=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;x&&H?x.data.isEqual(H.data)?te!==X&&(r.track({type:3,doc:H}),J=!0):this.su(x,H)||(r.track({type:2,doc:H}),J=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(g=!0)):!x&&H?(r.track({type:0,doc:H}),J=!0):x&&!H&&(r.track({type:1,doc:x}),J=!0,(y||_)&&(g=!0)),J&&(H?(d=d.add(H),c=X?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(H,te){const X=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:J})}};return X(H)-X(te)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Ka(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new r1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new s1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sm="SyncEngine";class aw{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class ow{constructor(e){this.key=e,this.hu=!1}}class lw{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Pr((g=>C0(g)),Xc),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ge.comparator),this.Au=new Map,this.Ru=new fm,this.Vu={},this.mu=new Map,this.fu=Qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uw(a,e,i=!0){const r=c1(a);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await a1(r,e,i,!0),l}async function cw(a,e){const i=c1(a);await a1(i,e,!0,!1)}async function a1(a,e,i,r){const l=await L2(a.localStore,Ei(e)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await hw(a,e,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&$0(a.remoteStore,l),g}async function hw(a,e,i,r,l){a.pu=(A,x,H)=>(async function(X,J,$,re){let ne=J.view.ru($);ne.Cs&&(ne=await iv(X.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,ne))));const we=re&&re.targetChanges.get(J.targetId),Be=re&&re.targetMismatches.get(J.targetId)!=null,Re=J.view.applyChanges(ne,X.isPrimaryClient,we,Be);return mv(X,J.targetId,Re.au),Re.snapshot})(a,A,x,H);const c=await iv(a.localStore,e,!0),d=new rw(e,c.Qs),g=d.ru(c.documents),y=Dl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),_=d.applyChanges(g,a.isPrimaryClient,y);mv(a,i,_.au);const T=new aw(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function fw(a,e,i){const r=Le(a),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Xc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await qd(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&pm(r.remoteStore,l.targetId),Gd(r,l.targetId)})).catch(Fc)):(Gd(r,l.targetId),await qd(r.localStore,l.targetId,!0))}async function dw(a,e){const i=Le(a),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),pm(i.remoteStore,r.targetId))}async function o1(a,e){const i=Le(a);try{const r=await V2(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ot(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ot(d.hu,14607):l.removedDocuments.size>0&&(ot(d.hu,42227),d.hu=!1))})),await u1(i,r,e)}catch(r){await Fc(r)}}function dv(a,e,i){const r=Le(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Le(d);y.onlineState=g;let _=!1;y.queries.forEach(((T,A)=>{for(const x of A.Sa)x.va(g)&&(_=!0)})),_&&Tm(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mw(a,e,i){const r=Le(a);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new gt(ge.comparator);d=d.insert(c,Zt.newNoDocument(c,ve.min()));const g=Pe().add(c),y=new Wc(ve.min(),new Map,new gt(xe),d,g);await o1(r,y),r.du=r.du.remove(c),r.Au.delete(e),Am(r)}else await qd(r.localStore,e,!1).then((()=>Gd(r,e,i))).catch(Fc)}function Gd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||l1(a,r)}))}function l1(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(pm(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Am(a))}function mv(a,e,i){for(const r of i)r instanceof s1?(a.Ru.addReference(r.key,e),gw(a,r)):r instanceof r1?(oe(Sm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||l1(a,r.key)):Ee(19791,{wu:r})}function gw(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(oe(Sm,"New document in limbo: "+i),a.Eu.add(r),Am(a))}function Am(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new ge(at.fromString(e)),r=a.fu.next();a.Au.set(r,new ow(i)),a.du=a.du.insert(i,r),$0(a.remoteStore,new Ls(Ei(lm(i.path)),r,"TargetPurposeLimboResolution",Gc.ce))}}async function u1(a,e,i){const r=Le(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){l.push(_);const T=mm.As(y.targetId,_);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const T=Le(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(x=>Z.forEach(x.Es,(H=>T.persistence.referenceDelegate.addReference(A,x.targetId,H))).next((()=>Z.forEach(x.ds,(H=>T.persistence.referenceDelegate.removeReference(A,x.targetId,H)))))))))}catch(A){if(!Wa(A))throw A;oe(gm,"Failed to update sequence numbers: "+A)}for(const A of _){const x=A.targetId;if(!A.fromCache){const H=T.Ms.get(x),te=H.snapshotVersion,X=H.withLastLimboFreeSnapshotVersion(te);T.Ms=T.Ms.insert(x,X)}}})(r.localStore,c))}async function pw(a,e){const i=Le(a);if(!i.currentUser.isEqual(e)){oe(Sm,"User change. New user:",e.toKey());const r=await Y0(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new he(ee.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await u1(i,r.Ls)}}function yw(a,e){const i=Le(a),r=i.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let l=Pe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function c1(a){const e=Le(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=o1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mw.bind(null,e),e.Pu.H_=iw.bind(null,e.eventManager),e.Pu.yu=sw.bind(null,e.eventManager),e}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=X0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return x2(this.persistence,new D2,e.initialUser,this.serializer)}Cu(e){return new Q0(dm.mi,this.serializer)}Du(e){return new P2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class _w extends kc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ot(this.persistence.referenceDelegate instanceof Vc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new g2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Q0((r=>Vc.mi(r,i)),this.serializer)}}class Qd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pw.bind(null,this.syncEngine),await ew(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nw})()}createDatastore(e){const i=X0(e.databaseInfo.databaseId),r=(function(c){return new H2(c)})(e.databaseInfo);return(function(c,d,g,y){return new Y2(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,g){return new X2(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>dv(this.syncEngine,i,0)),(function(){return av.v()?new av:new j2})())}createSyncEngine(e,i){return(function(l,c,d,g,y,_,T){const A=new lw(l,c,d,g,y,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Le(i);oe(Ya,"RemoteStore shutting down."),r.Ea.add(5),await Ol(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qd.provider={build:()=>new Qd};class h1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ks="FirestoreClient";class vw{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Xt.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{oe(Ks,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(oe(Ks,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=e1(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ed(a,e){a.asyncQueue.verifyOperationInProgress(),oe(Ks,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await Y0(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function gv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Ew(a);oe(Ks,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>uv(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>uv(e.remoteStore,l))),a._onlineComponents=e}async function Ew(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){oe(Ks,"Using user provided OfflineComponentProvider");try{await Ed(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;qa("Error using user provided cache. Falling back to memory cache: "+i),await Ed(a,new kc)}}else oe(Ks,"Using default OfflineComponentProvider"),await Ed(a,new _w(void 0));return a._offlineComponents}async function Tw(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(oe(Ks,"Using user provided OnlineComponentProvider"),await gv(a,a._uninitializedComponentsProvider._online)):(oe(Ks,"Using default OnlineComponentProvider"),await gv(a,new Qd))),a._onlineComponents}async function Yd(a){const e=await Tw(a),i=e.eventManager;return i.onListen=uw.bind(null,e.syncEngine),i.onUnlisten=fw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=cw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=dw.bind(null,e.syncEngine),i}function Sw(a,e,i={}){const r=new Nr;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const T=new h1({next:x=>{T.Nu(),d.enqueueAndForget((()=>n1(c,A))),x.fromCache&&y.source==="server"?_.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new i1(g,T,{includeMetadataChanges:!0,qa:!0});return t1(c,A)})(await Yd(a),a.asyncQueue,e,i,r))),r.promise}function f1(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const pv=new Map;const d1="firestore.googleapis.com",yv=!0;class _v{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d1,this.ssl=yv}else this.host=e.host,this.ssl=e.ssl??yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d2)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bm{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UA;switch(r.type){case"firstParty":return new BA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=pv.get(i);r&&(oe("ComponentProvider","Removing Datastore"),pv.delete(i),r.terminate())})(this),Promise.resolve()}}function Aw(a,e,i,r={}){a=Va(a,bm);const l=Za(e),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;l&&(Jv(`https://${g}`),Wv("Firestore",!0)),c.host!==d1&&c.host!==g&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:r};if(!Vr(y,d)&&(a._setSettings(y),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=Xt.MOCK_USER;else{_=lS(r.mockUserToken,a._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xt(A)}a._authCredentials=new PA(new d0(_,T))}}class xl{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xl(this.firestore,e,this._query)}}class Tn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}toJSON(){return{type:Tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Il(i,Tn._jsonSchema))return new Tn(e,r||null,new ge(at.fromString(i.referencePath)))}}Tn._jsonSchemaVersion="firestore/documentReference/1.0",Tn._jsonSchema={type:It("string",Tn._jsonSchemaVersion),referencePath:It("string")};class Ua extends xl{constructor(e,i,r){super(e,i,lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new ge(e))}withConverter(e){return new Ua(this.firestore,e,this._path)}}function bw(a,e,...i){if(a=Xs(a),a instanceof bm){const r=at.fromString(e,...i);return O_(r),new Ua(a,null,r)}{if(!(a instanceof Tn||a instanceof Ua))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(at.fromString(e,...i));return O_(r),new Ua(a.firestore,null,r)}}const vv="AsyncQueue";class Ev{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z0(this,"async_queue_retry"),this._c=()=>{const r=vd();r&&oe(vv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=vd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=vd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wa(e))throw e;oe(vv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",Tv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Em.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:Tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Tv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function Sv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Lc extends bm{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new Ev,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ev(e),this._firestoreClient=void 0,await e}}}function ww(a,e){const i=typeof a=="object"?a:i0(),r=typeof a=="string"?a:Nc,l=nm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=aS("firestore");c&&Aw(l,...c)}return l}function m1(a){if(a._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Rw(a),a._firestoreClient}function Rw(a){const e=a._freezeSettings(),i=(function(l,c,d,g){return new ob(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,f1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new vw(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(Qt.fromBase64String(e))}catch(i){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new vi(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Il(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:It("string",vi._jsonSchemaVersion),bytes:It("string")};class g1{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bs{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(e){if(Il(e,Bs._jsonSchema))return new Bs(e.latitude,e.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:It("string",Bs._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class qs{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Il(e,qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new qs(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qs._jsonSchemaVersion="firestore/vectorValue/1.0",qs._jsonSchema={type:It("string",qs._jsonSchemaVersion),vectorValues:It("object")};const Cw=new RegExp("[~\\*/\\[\\]]");function Iw(a,e,i){if(e.search(Cw)>=0)throw Av(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a);try{return new g1(...e.split("."))._internalPath}catch{throw Av(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a)}}function Av(a,e,i,r,l){let c=`Function ${e}() called with invalid data`;c+=". ";let d="";return new he(ee.INVALID_ARGUMENT,c+a+d)}class p1{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(y1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Nw extends p1{data(){return super.data()}}function y1(a,e){return typeof e=="string"?Iw(a,e):e instanceof g1?e._internalPath:e._delegate._internalPath}function _1(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{convertValue(e,i="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Nl(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Md].arrayValue?.values?.map((r=>mt(r.doubleValue)));return new qs(i)}convertGeoPoint(e){return new Bs(mt(e.latitude),mt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Yc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const i=Fs(e);return new Ct(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=at.fromString(e);ot(F0(r),9688,{name:e});const l=new Al(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return l.isEqual(i)||Yi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class dl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Or extends p1{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(y1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Or._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Or._jsonSchemaVersion="firestore/documentSnapshot/1.0",Or._jsonSchema={type:It("string",Or._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Sc extends Or{data(e={}){return super.data(e)}}class Mr{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new dl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Sc(this._firestore,this._userDataWriter,r.key,r,new dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Sc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Sc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:Ow(g.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=m0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ow(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:a})}}Mr._jsonSchemaVersion="firestore/querySnapshot/1.0",Mr._jsonSchema={type:It("string",Mr._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class wm extends Dw{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,i)}}function Mw(a){a=Va(a,xl);const e=Va(a.firestore,Lc),i=m1(e),r=new wm(e);return _1(a._query),Sw(i,a._query).then((l=>new Mr(e,r,a,l)))}function xw(a,...e){a=Xs(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Sv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Sv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,g;if(a instanceof Tn)d=Va(a.firestore,Lc),g=lm(a._key.path),c={next:y=>{e[r]&&e[r](Vw(d,a,y))},error:e[r+1],complete:e[r+2]};else{const y=Va(a,xl);d=Va(y.firestore,Lc),g=y._query;const _=new wm(d);c={next:T=>{e[r]&&e[r](new Mr(d,_,y,T))},error:e[r+1],complete:e[r+2]},_1(a._query)}return(function(_,T,A,x){const H=new h1(x),te=new i1(T,H,A);return _.asyncQueue.enqueueAndForget((async()=>t1(await Yd(_),te))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>n1(await Yd(_),te)))}})(m1(d),g,l,c)}function Vw(a,e,i){const r=i.docs.get(e._key),l=new wm(a);return new Or(a,l,e._key,r,new dl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Ja=l})($a),Ba(new kr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Lc(new jA(r.getProvider("auth-internal")),new qA(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(_.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),js(C_,I_,e),js(C_,I_,"esm2020")})();function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kw=v1,E1=new Rl("auth","Firebase",v1());const Uc=new em("@firebase/auth");function Lw(a,...e){Uc.logLevel<=Oe.WARN&&Uc.warn(`Auth (${$a}): ${a}`,...e)}function Ac(a,...e){Uc.logLevel<=Oe.ERROR&&Uc.error(`Auth (${$a}): ${a}`,...e)}function Ki(a,...e){throw Rm(a,...e)}function Ti(a,...e){return Rm(a,...e)}function T1(a,e,i){const r={...kw(),[e]:i};return new Rl("auth","Firebase",r).create(e,{appName:a.name})}function xr(a){return T1(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(a,...e){if(typeof a!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return E1.create(a,...e)}function pe(a,e,...i){if(!a)throw Rm(e,...i)}function Fi(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Ac(e),new Error(e)}function Xi(a,e){a||Fi(e)}function Kd(){return typeof self<"u"&&self.location?.href||""}function Uw(){return bv()==="http:"||bv()==="https:"}function bv(){return typeof self<"u"&&self.location?.protocol||null}function Pw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uw()||mS()||"connection"in navigator)?navigator.onLine:!0}function jw(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Vl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Xi(i>e,"Short delay should be less than long delay!"),this.isMobile=hS()||gS()}get(){return Pw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cm(a,e){Xi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class S1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Bw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qw=new Vl(3e4,6e4);function Im(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function to(a,e,i,r,l={}){return A1(a,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=Cl({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const _={method:e,headers:y,...c};return dS()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&Za(a.emulatorConfig.host)&&(_.credentials="include"),S1.fetch()(await b1(a,a.config.apiHost,i,g),_)})}async function A1(a,e,i){a._canInitEmulator=!1;const r={...zw,...e};try{const l=new Fw(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw yc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw yc(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw yc(a,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw T1(a,T,_);Ki(a,T)}}catch(l){if(l instanceof Zi)throw l;Ki(a,"network-request-failed",{message:String(l)})}}async function Hw(a,e,i,r,l={}){const c=await to(a,e,i,r,l);return"mfaPendingCredential"in c&&Ki(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function b1(a,e,i,r){const l=`${e}${i}?${r}`,c=a,d=c.config.emulator?Cm(a.config,l):`${a.config.apiScheme}://${l}`;return Bw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Fw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),qw.get())})}}function yc(a,e,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ti(a,e,r);return l.customData._tokenResponse=i,l}async function Gw(a,e){return to(a,"POST","/v1/accounts:delete",e)}async function Pc(a,e){return to(a,"POST","/v1/accounts:lookup",e)}function vl(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qw(a,e=!1){const i=Xs(a),r=await i.getIdToken(e),l=Nm(r);pe(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:vl(Td(l.auth_time)),issuedAtTime:vl(Td(l.iat)),expirationTime:vl(Td(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Td(a){return Number(a)*1e3}function Nm(a){const[e,i,r]=a.split(".");if(e===void 0||i===void 0||r===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const l=Kv(i);return l?JSON.parse(l):(Ac("Failed to decode base64 JWT payload"),null)}catch(l){return Ac("Caught error parsing JWT payload as JSON",l?.toString()),null}}function wv(a){const e=Nm(a);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wl(a,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Zi&&Yw(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function Yw({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class Kw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jc(a){const e=a.auth,i=await a.getIdToken(),r=await wl(a,Pc(e,{idToken:i}));pe(r?.users.length,e,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?w1(l.providerUserInfo):[],d=Zw(a.providerData,c),g=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,_=g?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(a,T)}async function Xw(a){const e=Xs(a);await jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zw(a,e){return[...a.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function w1(a){return a.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function $w(a,e){const i=await A1(a,{},async()=>{const r=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await b1(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return a.emulatorConfig&&Za(a.emulatorConfig.host)&&(y.credentials="include"),S1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Jw(a,e){return to(a,"POST","/v2/accounts:revokeToken",Im(a,e))}class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const i=wv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await $w(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Pa;return r&&(pe(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(pe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(pe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Fi("not implemented")}}function Ds(a,e){pe(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Kw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await wl(this,this.stsTokenManager.getToken(this.auth,e));return pe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Qw(this,e)}reload(){return Xw(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await wl(this,Gw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:H,providerData:te,stsTokenManager:X}=i;pe(A&&X,e,"internal-error");const J=Pa.fromJSON(this.name,X);pe(typeof A=="string",e,"internal-error"),Ds(r,e.name),Ds(l,e.name),pe(typeof x=="boolean",e,"internal-error"),pe(typeof H=="boolean",e,"internal-error"),Ds(c,e.name),Ds(d,e.name),Ds(g,e.name),Ds(y,e.name),Ds(_,e.name),Ds(T,e.name);const $=new Yn({uid:A,auth:e,email:l,emailVerified:x,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:T});return te&&Array.isArray(te)&&($.providerData=te.map(re=>({...re}))),y&&($._redirectEventId=y),$}static async _fromIdTokenResponse(e,i,r=!1){const l=new Pa;l.updateFromServerResponse(i);const c=new Yn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await jc(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];pe(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?w1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Pa;g.updateFromIdToken(r);const y=new Yn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const Rv=new Map;function Gi(a){Xi(a instanceof Function,"Expected a class definition");let e=Rv.get(a);return e?(Xi(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Rv.set(a,e),e)}class R1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}R1.type="NONE";const Cv=R1;function bc(a,e,i){return`firebase:${a}:${e}:${i}`}class ja{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Pc(this.auth,{idToken:e}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new ja(Gi(Cv),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Gi(Cv);const d=bc(r,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const T=await _._get(d);if(T){let A;if(typeof T=="string"){const x=await Pc(e,{idToken:T}).catch(()=>{});if(!x)break;A=await Yn._fromGetAccountInfoResponse(e,x,T)}else A=Yn._fromJSON(e,T);_!==c&&(g=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new ja(c,e,r):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ja(c,e,r))}}function Iv(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M1(e))return"Blackberry";if(x1(e))return"Webos";if(I1(e))return"Safari";if((e.includes("chrome/")||N1(e))&&!e.includes("edge/"))return"Chrome";if(O1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function C1(a=$t()){return/firefox\//i.test(a)}function I1(a=$t()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N1(a=$t()){return/crios\//i.test(a)}function D1(a=$t()){return/iemobile/i.test(a)}function O1(a=$t()){return/android/i.test(a)}function M1(a=$t()){return/blackberry/i.test(a)}function x1(a=$t()){return/webos/i.test(a)}function Dm(a=$t()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Ww(a=$t()){return Dm(a)&&!!window.navigator?.standalone}function eR(){return pS()&&document.documentMode===10}function V1(a=$t()){return Dm(a)||O1(a)||x1(a)||M1(a)||/windows phone/i.test(a)||D1(a)}function k1(a,e=[]){let i;switch(a){case"Browser":i=Iv($t());break;case"Worker":i=`${Iv($t())}-${a}`;break;default:i=a}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${$a}/${r}`}class tR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function nR(a,e={}){return to(a,"GET","/v2/passwordPolicy",Im(a,e))}const iR=6;class sR{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??iR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class rR{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new tR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Gi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ja.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Pc(this,{idToken:e}),r=await Yn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await jc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(xr(this));const i=e?Xs(e):null;return i&&pe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nR(this),i=new sR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Jw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Gi(e)||this._popupRedirectResolver;pe(i,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[Gi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Lw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Om(a){return Xs(a)}class Nv{constructor(e){this.auth=e,this.observer=null,this.addObserver=bS(i=>this.observer=i)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aR(a){Mm=a}function oR(a){return Mm.loadJS(a)}function lR(){return Mm.gapiScript}function uR(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function cR(a,e){const i=nm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Vr(c,e??{}))return l;Ki(l,"already-initialized")}return i.initialize({options:e})}function hR(a,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Gi);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(r,e?.popupRedirectResolver)}function fR(a,e,i){const r=Om(a);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=L1(e),{host:d,port:g}=dR(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(Vr(_,r.config.emulator)&&Vr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Za(d)?(Jv(`${c}//${d}${y}`),Wv("Auth",!0)):mR()}function L1(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function dR(a){const e=L1(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Dv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Dv(d)}}}function Dv(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function mR(){function a(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class U1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,i){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function za(a,e){return Hw(a,"POST","/v1/accounts:signInWithIdp",Im(a,e))}const gR="http://localhost";class Ur extends U1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ur(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ki("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Ur(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return za(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,za(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,za(e,i)}buildRequest(){const e={requestUri:gR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Cl(i)}return e}}class P1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kl extends P1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Os extends kl{constructor(){super("facebook.com")}static credential(e){return Ur._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";class Ms extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ur._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Ms.credential(i,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";class xs extends kl{constructor(){super("github.com")}static credential(e){return Ur._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";class Vs extends kl{constructor(){super("twitter.com")}static credential(e,i){return Ur._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Vs.credential(i,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";class Xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await Yn._fromIdTokenResponse(e,r,l),d=Ov(r);return new Xa({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Ov(r);return new Xa({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Ov(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class zc extends Zi{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new zc(e,i,r,l)}}function j1(a,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(a,c,e,r):c})}async function pR(a,e,i=!1){const r=await wl(a,e._linkToIdToken(a.auth,await a.getIdToken()),i);return Xa._forOperation(a,"link",r)}async function yR(a,e,i=!1){const{auth:r}=a;if(yi(r.app))return Promise.reject(xr(r));const l="reauthenticate";try{const c=await wl(a,j1(r,l,e,a),i);pe(c.idToken,r,"internal-error");const d=Nm(c.idToken);pe(d,r,"internal-error");const{sub:g}=d;return pe(a.uid===g,r,"user-mismatch"),Xa._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ki(r,"user-mismatch"),c}}async function _R(a,e,i=!1){if(yi(a.app))return Promise.reject(xr(a));const r="signIn",l=await j1(a,r,e),c=await Xa._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}function vR(a,e,i,r){return Xs(a).onIdTokenChanged(e,i,r)}function ER(a,e,i){return Xs(a).beforeAuthStateChanged(e,i)}const Bc="__sak";class z1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TR=1e3,SR=10;class B1 extends z1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);eR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,SR):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},TR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}B1.type="LOCAL";const AR=B1;class q1 extends z1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}q1.type="SESSION";const H1=q1;function bR(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new th(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await bR(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];function xm(a="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return a+i}class wR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=xm("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const x=A;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function RR(a){Si().location.href=a}function F1(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function CR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IR(){return navigator?.serviceWorker?.controller||null}function NR(){return F1()?self:null}const G1="firebaseLocalStorageDb",DR=1,qc="firebaseLocalStorage",Q1="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function nh(a,e){return a.transaction([qc],e?"readwrite":"readonly").objectStore(qc)}function OR(){const a=indexedDB.deleteDatabase(G1);return new Ll(a).toPromise()}function Zd(){const a=indexedDB.open(G1,DR);return new Promise((e,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(qc,{keyPath:Q1})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(qc)?e(r):(r.close(),await OR(),e(await Zd()))})})}async function Mv(a,e,i){const r=nh(a,!0).put({[Q1]:e,value:i});return new Ll(r).toPromise()}async function MR(a,e){const i=nh(a,!1).get(e),r=await new Ll(i).toPromise();return r===void 0?null:r.value}function xv(a,e){const i=nh(a,!0).delete(e);return new Ll(i).toPromise()}const xR=800,VR=3;class Y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>VR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(NR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CR(),!this.activeServiceWorker)return;this.sender=new wR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zd();return await Mv(e,Bc,"1"),await xv(e,Bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>MR(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>xv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=nh(l,!1).getAll();return new Ll(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y1.type="LOCAL";const kR=Y1;new Vl(3e4,6e4);function LR(a,e){return e?Gi(e):(pe(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Vm extends U1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return za(e,this._buildIdpRequest())}_linkToIdToken(e,i){return za(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return za(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function UR(a){return _R(a.auth,new Vm(a),a.bypassAuthState)}function PR(a){const{auth:e,user:i}=a;return pe(i,e,"internal-error"),yR(i,new Vm(a),a.bypassAuthState)}async function jR(a){const{auth:e,user:i}=a;return pe(i,e,"internal-error"),pR(i,new Vm(a),a.bypassAuthState)}class K1{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UR;case"linkViaPopup":case"linkViaRedirect":return jR;case"reauthViaPopup":case"reauthViaRedirect":return PR;default:Ki(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zR=new Vl(2e3,1e4);class xa extends K1{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zR.get())};e()}}xa.currentPopupAction=null;const BR="pendingRedirect",wc=new Map;class qR extends K1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=wc.get(this.auth._key());if(!e){try{const r=await HR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}wc.set(this.auth._key(),e)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HR(a,e){const i=QR(e),r=GR(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function FR(a,e){wc.set(a._key(),e)}function GR(a){return Gi(a._redirectPersistence)}function QR(a){return bc(BR,a.config.apiKey,a.name)}async function YR(a,e,i=!1){if(yi(a.app))return Promise.reject(xr(a));const r=Om(a),l=LR(r,e),d=await new qR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const KR=600*1e3;class XR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!X1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vv(e))}saveEventToCache(e){this.cachedEventUids.add(Vv(e)),this.lastProcessedEventTime=Date.now()}}function Vv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function X1({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function ZR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X1(a);default:return!1}}async function $R(a,e={}){return to(a,"GET","/v1/projects",e)}const JR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WR=/^https?/;async function eC(a){if(a.config.emulator)return;const{authorizedDomains:e}=await $R(a);for(const i of e)try{if(tC(i))return}catch{}Ki(a,"unauthorized-domain")}function tC(a){const e=Kd(),{protocol:i,hostname:r}=new URL(e);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!WR.test(i))return!1;if(JR.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const nC=new Vl(3e4,6e4);function kv(){const a=Si().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function iC(a){return new Promise((e,i)=>{function r(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),i(Ti(a,"network-request-failed"))},timeout:nC.get()})}if(Si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Si().gapi?.load)r();else{const l=uR("iframefcb");return Si()[l]=()=>{gapi.load?r():i(Ti(a,"network-request-failed"))},oR(`${lR()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Rc=null,e})}let Rc=null;function sC(a){return Rc=Rc||iC(a),Rc}const rC=new Vl(5e3,15e3),aC="__/auth/iframe",oC="emulator/auth/iframe",lC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cC(a){const e=a.config;pe(e.authDomain,a,"auth-domain-config-required");const i=e.emulator?Cm(e,oC):`https://${a.config.authDomain}/${aC}`,r={apiKey:e.apiKey,appName:a.name,v:$a},l=uC.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Cl(r).slice(1)}`}async function hC(a){const e=await sC(a),i=Si().gapi;return pe(i,a,"internal-error"),e.open({where:document.body,url:cC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ti(a,"network-request-failed"),g=Si().setTimeout(()=>{c(d)},rC.get());function y(){Si().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const fC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dC=500,mC=600,gC="_blank",pC="http://localhost";class Lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yC(a,e,i,r=dC,l=mC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...fC,width:r.toString(),height:l.toString(),top:c,left:d},_=$t().toLowerCase();i&&(g=N1(_)?gC:i),C1(_)&&(e=e||pC,y.scrollbars="yes");const T=Object.entries(y).reduce((x,[H,te])=>`${x}${H}=${te},`,"");if(Ww(_)&&g!=="_self")return _C(e||"",g),new Lv(null);const A=window.open(e||"",g,T);pe(A,a,"popup-blocked");try{A.focus()}catch{}return new Lv(A)}function _C(a,e){const i=document.createElement("a");i.href=a,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const vC="__/auth/handler",EC="emulator/auth/handler",TC=encodeURIComponent("fac");async function Uv(a,e,i,r,l,c){pe(a.config.authDomain,a,"auth-domain-config-required"),pe(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:$a,eventId:l};if(e instanceof P1){e.setDefaultLanguage(a.languageCode),d.providerId=e.providerId||"",AS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof kl){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await a._getAppCheckToken(),_=y?`#${TC}=${encodeURIComponent(y)}`:"";return`${SC(a)}?${Cl(g).slice(1)}${_}`}function SC({config:a}){return a.emulator?Cm(a,EC):`https://${a.authDomain}/${vC}`}const Sd="webStorageSupport";class AC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H1,this._completeRedirectFn=YR,this._overrideRedirectResult=FR}async _openPopup(e,i,r,l){Xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Uv(e,i,r,Kd(),l);return yC(e,c,xm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await Uv(e,i,r,Kd(),l);return RR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Xi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await hC(e),r=new XR(e);return i.register("authEvent",l=>(pe(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Sd,{type:Sd},l=>{const c=l?.[0]?.[Sd];c!==void 0&&i(!!c),Ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return V1()||I1()||Dm()}}const bC=AC;var Pv="@firebase/auth",jv="1.12.0";class wC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RC(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CC(a){Ba(new kr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k1(a)},_=new rR(r,l,c,y);return hR(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Ba(new kr("auth-internal",e=>{const i=Om(e.getProvider("auth").getImmediate());return(r=>new wC(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(Pv,jv,RC(a)),js(Pv,jv,"esm2020")}const IC=300,NC=$v("authIdTokenMaxAge")||IC;let zv=null;const DC=a=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>NC)return;const l=i?.token;zv!==l&&(zv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function OC(a=i0()){const e=nm(a,"auth");if(e.isInitialized())return e.getImmediate();const i=cR(a,{popupRedirectResolver:bC,persistence:[kR,AR,H1]}),r=$v("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=DC(c.toString());ER(i,d,()=>d(i.currentUser)),vR(i,g=>d(g))}}const l=Xv("auth");return l&&fR(i,`http://${l}`),i}function MC(){return document.getElementsByTagName("head")?.[0]??document}aR({loadJS(a){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=l=>{const c=Ti("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",MC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CC("Browser");const $d={apiKey:"AIzaSyCha4S_wLxI_CZY1Tc9FOJNA3cUTggISpU",authDomain:"brakexadmin.firebaseapp.com",projectId:"brakexadmin",storageBucket:"brakexadmin.firebasestorage.app",messagingSenderId:"799264562947",appId:"1:799264562947:web:52d860ae41a5c4b8f75336"},Bv=!!($d.apiKey&&$d.projectId),Z1=n0($d),xC=ww(Z1);OC(Z1);const $1=bw(xC,"pastillas"),VC=a=>xw($1,e=>{const i=[];e.forEach(r=>{i.push({id:r.id,...r.data()})}),a(i,e.docChanges())},e=>{console.error("Error subscribing to products:",e)}),kC=async()=>{try{const a=await Mw($1),e=[];return a.forEach(i=>{e.push({id:i.id,...i.data()})}),e}catch(a){throw console.error("Error fetching products:",a),a}};const LC=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UC=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),qv=a=>{const e=UC(a);return e.charAt(0).toUpperCase()+e.slice(1)},J1=(...a)=>a.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),PC=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var jC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zC=Fe.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},y)=>Fe.createElement("svg",{ref:y,...jC,width:e,height:e,stroke:a,strokeWidth:r?Number(i)*24/Number(e):i,className:J1("lucide",l),...!c&&!PC(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,T])=>Fe.createElement(_,T)),...Array.isArray(c)?c:[c]]));const pt=(a,e)=>{const i=Fe.forwardRef(({className:r,...l},c)=>Fe.createElement(zC,{ref:c,iconNode:e,className:J1(`lucide-${LC(qv(a))}`,`lucide-${a}`,r),...l}));return i.displayName=qv(a),i};const BC=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],W1=pt("arrow-right-left",BC);const qC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],HC=pt("arrow-right",qC);const FC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jd=pt("bell",FC);const GC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hv=pt("check",GC);const QC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],YC=pt("chevron-left",QC);const KC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XC=pt("chevron-right",KC);const ZC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$C=pt("circle-alert",ZC);const JC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eE=pt("circle-question-mark",JC);const WC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eI=pt("clock",WC);const tI=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],nI=pt("funnel",tI);const iI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],tE=pt("history",iI);const sI=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],rI=pt("mouse-pointer-2",sI);const aI=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],oI=pt("refresh-ccw",aI);const lI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],uI=pt("refresh-cw",lI);const cI=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],hI=pt("scale",cI);const fI=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],dI=pt("search-x",fI);const mI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ih=pt("search",mI);const gI=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],pI=pt("smartphone",gI);const yI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],km=pt("trash-2",yI);const _I=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],vI=pt("wifi",_I);const EI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nE=pt("x",EI),TI=()=>{const{theme:a,setTheme:e}=me();Fe.useEffect(()=>{document.documentElement.setAttribute("data-theme",a)},[a]);const i=()=>{e(a==="light"?"dark":"light")};return S.jsxs("label",{className:"switch-uiverse",title:`Cambiar a modo ${a==="light"?"oscuro":"claro"}`,children:[S.jsx("input",{type:"checkbox",checked:a==="dark",onChange:i}),S.jsx("span",{className:"slider-uiverse"})]})},SI=()=>{const a=me(r=>r.ui.notifications.length),e=me(r=>r.toggleNotificationPanel),i=me(r=>r.openGuideModal);return S.jsx("header",{className:"header",children:S.jsxs("div",{className:"header-container",children:[S.jsxs("div",{className:"logo-section",children:[S.jsxs("h1",{className:"logo",children:[S.jsx("span",{className:"logo-text",children:"Brake"}),S.jsx("svg",{className:"header-x",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 24",width:"30",height:"20",children:S.jsx("path",{fill:"currentColor",d:"M8.98885921,23.8523026 C8.8942483,23.9435442 8.76801031,24 8.62933774,24 L2.03198365,24 C1.73814918,24 1.5,23.7482301 1.5,23.4380086 C1.5,23.2831829 1.55946972,23.1428989 1.65570253,23.0416777 L13.2166154,12.4291351 C13.3325814,12.3262031 13.4061076,12.1719477 13.4061076,11.999444 C13.4061076,11.8363496 13.3401502,11.6897927 13.2352673,11.587431 L1.68841087,0.990000249 C1.57298556,0.88706828 1.5,0.733668282 1.5,0.561734827 C1.5,0.251798399 1.73814918,0.000028513 2.03198365,0.000028513 L8.62933774,0.000028513 C8.76855094,0.000028513 8.89532956,0.0561991444 8.98994048,0.148296169 L21.4358709,11.5757407 C21.548593,11.6783875 21.6196864,11.8297916 21.6196864,11.999444 C21.6196864,12.1693815 21.5483227,12.3219261 21.4350599,12.4251432 L8.98885921,23.8523026 Z M26.5774333,23.8384453 L20.1765996,17.9616286 C20.060093,17.8578413 19.9865669,17.7038710 19.9865669,17.5310822 C19.9865669,17.3859509 20.0390083,17.2536506 20.1246988,17.153855 L23.4190508,14.1291948 C23.5163648,14.0165684 23.6569296,13.945571 23.8131728,13.945571 C23.9602252,13.945571 24.0929508,14.0082997 24.1894539,14.1092357 L33.861933,22.9913237 C33.9892522,23.0939706 34.0714286,23.2559245 34.0714286,23.4381226 C34.0714286,23.748059 33.8332794,23.9998289 33.5394449,23.9998289 L26.9504707,23.9998289 C26.8053105,23.9998289 26.6733958,23.9382408 26.5774333,23.8384453 Z M26.5774333,0.161098511 C26.6733958,0.0615881034 26.8053105,0 26.9504707,0 L33.5394449,0 C33.8332794,0 34.0714286,0.251769886 34.0714286,0.561706314 C34.0714286,0.743904453 33.9892522,0.905573224 33.861933,1.00822006 L24.1894539,9.89030807 C24.0929508,9.99152926 23.9602252,10.0542579 23.8131728,10.0542579 C23.6569296,10.0542579 23.5163648,9.98354562 23.4190508,9.87063409 L20.1246988,6.8459739 C20.0390083,6.74617837 19.9865669,6.613878 19.9865669,6.46874677 Q20.060093,6.14198767 20.1765996,6.03848544 L26.5774333,0.161098511 Z"})})]}),S.jsx("div",{className:"header-separator"}),S.jsx("p",{className:"tagline",children:"Consulta rpida. Frenado seguro."})]}),S.jsxs("div",{className:"header-actions",children:[S.jsx("button",{className:"icon-button animate-hover-pulse",title:"Gua de uso","aria-label":"Gua de uso",onClick:i,children:S.jsx(eE,{size:20})}),S.jsx(TI,{}),S.jsxs("button",{className:"icon-button animate-hover-ring",title:"Notificaciones","aria-label":"Notificaciones",onClick:e,children:[S.jsx(Jd,{size:20}),a>0&&S.jsx("span",{className:"notification-badge",children:a})]})]})]})})},AI=()=>{const a=me(),{filters:e,products:i,filteredProducts:r}=a,[l,c]=Fe.useState(e.searchQuery),[d,g]=Fe.useState(e.oemReference),[y,_]=Fe.useState(e.fmsiReference),[T,A]=Fe.useState(e.width),[x,H]=Fe.useState(e.height);Fe.useEffect(()=>{c(e.searchQuery),g(e.oemReference),_(e.fmsiReference),A(e.width),H(e.height)},[e.searchQuery,e.oemReference,e.fmsiReference,e.width,e.height]),Fe.useEffect(()=>{const $=setTimeout(()=>{l!==e.searchQuery&&a.setSearchQuery(l)},300);return()=>clearTimeout($)},[l]),Fe.useEffect(()=>{const $=setTimeout(()=>{d!==e.oemReference&&(a.setOemReference(d),d&&l&&c(""))},300);return()=>clearTimeout($)},[d]),Fe.useEffect(()=>{const $=setTimeout(()=>{y!==e.fmsiReference&&(a.setFmsiReference(y),y&&l&&c(""))},300);return()=>clearTimeout($)},[y]),Fe.useEffect(()=>{const $=setTimeout(()=>{T!==e.width&&a.setWidth(T)},300);return()=>clearTimeout($)},[T]),Fe.useEffect(()=>{const $=setTimeout(()=>{x!==e.height&&a.setHeight(x)},300);return()=>clearTimeout($)},[x]);const te=Fe.useMemo(()=>{const $=new Map;return i.forEach(re=>{re.aplicaciones&&Array.isArray(re.aplicaciones)&&re.aplicaciones.forEach(ne=>{ne&&ne.marca&&$.set(ne.marca,($.get(ne.marca)||0)+1)})}),Array.from($.entries()).sort((re,ne)=>re[0].localeCompare(ne[0]))},[i]),X=Fe.useMemo(()=>{const $=new Map;return i.forEach(re=>{re.aplicaciones&&Array.isArray(re.aplicaciones)&&re.aplicaciones.forEach(ne=>{ne&&ne.modelo&&$.set(ne.modelo,($.get(ne.modelo)||0)+1)})}),Array.from($.keys()).sort((re,ne)=>re.localeCompare(ne))},[i]),J=Fe.useMemo(()=>{const $=new Set;return i.forEach(re=>{re.aplicaciones&&Array.isArray(re.aplicaciones)&&re.aplicaciones.forEach(ne=>{ne&&ne.ao&&$.add(String(ne.ao))})}),Array.from($).sort((re,ne)=>ne.localeCompare(re))},[i]);return S.jsxs("aside",{className:"sidebar",children:[S.jsxs("div",{className:"filter-section",children:[S.jsx("h3",{className:"filter-section-title",children:"Bsqueda Rpida"}),S.jsxs("div",{className:"search-box",children:[S.jsx("input",{type:"text",className:"search-input",placeholder:"Chevrolet Onix, 2244, FMSI...",value:l,onChange:$=>c($.target.value)}),S.jsx(ih,{size:16,className:"search-icon"})]})]}),S.jsxs("div",{className:"filter-section",children:[S.jsx("h3",{className:"filter-section-title",children:"Detalles del Vehculo"}),S.jsxs("div",{className:"vehicle-details-grid",children:[S.jsxs("div",{className:"searchable-filter",children:[S.jsx("input",{list:"brands-list",className:"filter-select",placeholder:"Marca",value:e.selectedBrand||"",onChange:$=>{a.setSelectedBrand($.target.value),$.target.value&&c("")}}),S.jsx("datalist",{id:"brands-list",children:te.map(([$])=>S.jsx("option",{value:$},$))})]}),S.jsxs("div",{className:"searchable-filter",children:[S.jsx("input",{list:"models-list",className:"filter-select",placeholder:"Modelo/Serie",value:e.selectedModel||"",onChange:$=>{a.setSelectedModel($.target.value),$.target.value&&c("")}}),S.jsx("datalist",{id:"models-list",children:X.map($=>S.jsx("option",{value:$},$))})]}),S.jsxs("div",{className:"searchable-filter",children:[S.jsx("input",{list:"years-list",className:"filter-select",placeholder:"Ao",value:e.selectedYear||"",onChange:$=>{a.setSelectedYear($.target.value),$.target.value&&c("")}}),S.jsx("datalist",{id:"years-list",children:J.map($=>S.jsx("option",{value:$},$))})]})]})]}),S.jsxs("div",{className:"filter-section",children:[S.jsx("h3",{className:"filter-section-title",children:"Posicin"}),S.jsxs("div",{className:"position-grid",children:[S.jsx("button",{className:`position-toggle-btn ${e.selectedPosition==="delantera"?"active":""}`,onClick:()=>{a.setSelectedPosition(e.selectedPosition==="delantera"?null:"delantera"),c("")},children:"Delantera"}),S.jsx("button",{className:`position-toggle-btn ${e.selectedPosition==="trasera"?"active":""}`,onClick:()=>{a.setSelectedPosition(e.selectedPosition==="trasera"?null:"trasera"),c("")},children:"Trasera"})]})]}),S.jsxs("div",{className:"filter-section",children:[S.jsx("h3",{className:"filter-section-title",children:"Referencias"}),S.jsxs("div",{className:"references-grid",children:[S.jsx("input",{type:"text",className:"ref-input",placeholder:"OEM",value:d,onChange:$=>g($.target.value)}),S.jsx("input",{type:"text",className:"ref-input",placeholder:"FMSI",value:y,onChange:$=>_($.target.value)})]})]}),S.jsxs("div",{className:"filter-section",children:[S.jsx("h3",{className:"filter-section-title",children:"Medidas (mm)"}),S.jsxs("div",{className:"measurements-grid",children:[S.jsx("input",{type:"number",className:"measure-input",placeholder:"Ancho",step:"0.1",value:T,onChange:$=>A($.target.value)}),S.jsx("input",{type:"number",className:"measure-input",placeholder:"Alto",step:"0.1",value:x,onChange:$=>H($.target.value)})]})]}),S.jsx("div",{className:"action-buttons-container",children:S.jsxs("button",{className:"borrar-filtros-btn",onClick:()=>{a.clearFilters(),c(""),g(""),_(""),A(""),H("")},disabled:r.length===i.length,style:{opacity:r.length===i.length?.6:1},children:[S.jsx(km,{size:16}),"LIMPIAR (",r.length,")"]})})]})},bI=()=>{const a=new Date().getFullYear();return S.jsx("footer",{className:"footer",children:S.jsxs("div",{className:"footer-container",children:[S.jsxs("p",{className:"footer-powered",children:["Impulsado por:"," ",S.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"footer-link",children:"GitHub"})," | ",S.jsx("a",{href:"https://gemini.google.com",target:"_blank",rel:"noopener noreferrer",className:"footer-link",children:"Gemini"})]}),S.jsxs("p",{className:"footer-copyright",children:[" ",a," Brake X. Todos los derechos reservados."]})]})})},Lm=({checked:a,onChange:e,size:i=42,animate:r=!0})=>{const l=i?i/24:1;return S.jsx("div",{className:`like ${a&&r?"liked":""} ${a&&!r?"is-checked":""}`,onClick:c=>{c.stopPropagation(),e(!a)},style:{transform:`scale(${l})`,transformOrigin:"center center"},children:S.jsxs("svg",{width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M1.5 7.827C1.5 4.0992 3.5 1.5 7.54036 1.5C10 1.5 11.5646 2.93172 13.5323 5.5C15.5 8.06828 16 12 12 12C8 12 8.5 7.827 10.4677 5.5C12 3.5 14 1.5 16.4596 1.5C20.5 1.5 22.5 4.0992 22.5 7.827C22.5 14.5 12.525 20.5 12 20.5C11.475 20.5 1.5 14.5 1.5 7.827Z",stroke:"#FF3040",strokeWidth:"3",className:"thread"}),S.jsx("path",{d:"M1 7.66C1 12.235 4.899 16.746 10.987 20.594C11.325 20.797 11.727 21 12 21C12.283 21 12.686 20.797 13.013 20.594C19.1 16.746 23 12.234 23 7.66C23 3.736 20.245 1 16.672 1C14.603 1 12.98 1.94 12 3.352C11.042 1.952 9.408 1 7.328 1C3.766 1 1 3.736 1 7.66Z",strokeWidth:"2",className:"heart"})]})})},wI=({totalResults:a,currentStart:e,currentEnd:i})=>{const l=me(A=>A.filteredProducts).reduce((A,x)=>A+(x.aplicaciones?.length||0),0),c=me(A=>A.comparisons.length),d=me(A=>A.favorites.length),g=me(A=>A.openCompareModal),y=me(A=>A.toggleShowFavoritesOnly),_=me(A=>A.filters.showFavoritesOnly),T=me(A=>A.openHistoryModal);return S.jsxs("div",{className:"results-bar",children:[S.jsx("div",{className:"results-text-container",children:S.jsx("p",{className:"results-text",children:a===0?"Sin resultados":S.jsxs(S.Fragment,{children:["Mostrando"," ",S.jsxs("span",{className:"results-count",children:[e,"-",i]})," ","de"," ",S.jsx("span",{className:"results-count",children:a})," ","resultados y"," ",S.jsx("span",{className:"results-count",children:l})," ","aplicaciones"]})})}),S.jsxs("div",{className:"results-actions",children:[S.jsxs("button",{className:`results-action-btn animate-hover-swap ${c>0?"active":""}`,onClick:g,title:"Comparar productos",children:[S.jsx(W1,{size:22}),c>0&&S.jsx("span",{className:"action-badge badge-compare",children:c})]}),S.jsxs("button",{className:`results-action-btn animate-hover-beat ${_?"active":""}`,onClick:y,title:_?"Ver todos los resultados":"Ver solo favoritos",children:[S.jsx("div",{style:{pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsx(Lm,{checked:_,onChange:()=>{},size:22,animate:!1})}),d>0&&S.jsx("span",{className:"action-badge badge-favorite",children:d})]}),S.jsx("button",{className:"results-action-btn animate-hover-history",onClick:T,title:"Historial de bsquedas",children:S.jsx(tE,{size:22})})]})]})},RI=ul.memo(({product:a})=>{const e=me(g=>g.favorites.includes(a.id)),i=me(g=>g.comparisons.includes(a.id)),r=me(g=>g.toggleFavorite),l=me(g=>g.toggleComparison),c=me(g=>g.openProductDetailModal),d=()=>{if(!a.aplicaciones||a.aplicaciones.length===0)return"Sin aplicaciones";const g=a.aplicaciones[0],y=a.aplicaciones.length-1,_=g.marca||"",T=g.modelo&&g.modelo!=="undefined"?g.modelo:"";let A=`${_} ${T}`.trim();return A||(A=g.ao?`Ao: ${g.ao}`:"Sin detalles"),y>0&&(A+=`, +${y} ms`),A};return S.jsxs("div",{className:"product-card",onClick:()=>c(a.id),children:[S.jsxs("div",{className:"card-header",children:[S.jsx("span",{className:"position-badge",children:a.posicion}),S.jsxs("div",{className:"action-icons",children:[S.jsx("button",{className:`action-icon action-icon-compare animate-hover-swap ${i?"active":""}`,onClick:g=>{g.stopPropagation(),l(a.id)},title:"Comparar",children:S.jsx(W1,{size:18})}),S.jsx("div",{className:`action-icon action-icon-favorite animate-hover-beat ${e?"active":""}`,children:S.jsx(Lm,{checked:e,onChange:()=>r(a.id),size:18})})]})]}),S.jsx("div",{className:"image-container",children:S.jsx("img",{src:a.imagenes?.[0]||"https://via.placeholder.com/200x150?text=Brake+Pad",alt:a.referencia,className:"product-image",loading:"lazy"})}),S.jsx("div",{className:"ref-section",children:(a.ref||[]).map((g,y)=>S.jsx("span",{className:`ref-badge ${y===0?"":y===1?"ref-badge-alt":"ref-badge-danger"}`,children:g},g))}),S.jsx("div",{className:"card-bottom",children:S.jsx("p",{className:"applications",children:d()})})]})}),CI=()=>S.jsxs("div",{className:"product-card-skeleton",children:[S.jsxs("div",{className:"skeleton-header",children:[S.jsx("div",{className:"skeleton skeleton-flag"}),S.jsxs("div",{className:"skeleton-actions",children:[S.jsx("div",{className:"skeleton skeleton-btn"}),S.jsx("div",{className:"skeleton skeleton-btn"})]})]}),S.jsx("div",{className:"skeleton skeleton-image"}),S.jsx("div",{className:"skeleton skeleton-badge"}),S.jsxs("div",{className:"skeleton-footer",children:[S.jsx("div",{className:"skeleton skeleton-text"}),S.jsx("div",{className:"skeleton skeleton-text short"})]})]}),II=({title:a="No se encontraron resultados",description:e="Intenta ajustar los filtros de bsqueda o prueba con otros trminos para encontrar lo que necesitas.",actionLabel:i="Limpiar Filtros",onAction:r})=>S.jsxs("div",{className:"empty-state-container",children:[S.jsxs("div",{className:"empty-state-icon-wrapper",children:[S.jsx("div",{className:"empty-state-blob"}),S.jsx(dI,{size:64,className:"empty-state-icon",strokeWidth:1.5})]}),S.jsx("h3",{className:"empty-state-title",children:a}),S.jsx("p",{className:"empty-state-description",children:e}),r&&S.jsxs("button",{onClick:r,className:"empty-state-action",children:[S.jsx(oI,{size:18}),i]})]}),NI=({products:a,loading:e=!1,onClearFilters:i})=>e?S.jsx("div",{className:"results-wrapper",children:Array.from({length:8}).map((r,l)=>S.jsx(CI,{},`skeleton-${l}`))}):a.length===0?S.jsx("div",{className:"results-wrapper",children:S.jsx(II,{onAction:i})}):S.jsx("div",{className:"results-wrapper",children:a.map(r=>S.jsx(RI,{product:r},r.id))}),DI=({currentPage:a,totalPages:e,onPageChange:i})=>{if(e<=1)return null;const r=()=>{const l=[];if(e<=5)for(let d=1;d<=e;d++)l.push(S.jsx("button",{className:`page-btn ${a===d?"active":""}`,onClick:()=>i(d),children:d},d));else{l.push(S.jsx("button",{className:`page-btn ${a===1?"active":""}`,onClick:()=>i(1),children:"1"},1)),a>3&&l.push(S.jsx("span",{className:"page-dots",children:"..."},"dots-start"));const d=Math.max(2,a-1),g=Math.min(e-1,a+1);for(let y=d;y<=g;y++)l.push(S.jsx("button",{className:`page-btn ${a===y?"active":""}`,onClick:()=>i(y),children:y},y));a<e-2&&l.push(S.jsx("span",{className:"page-dots",children:"..."},"dots-end")),l.push(S.jsx("button",{className:`page-btn ${a===e?"active":""}`,onClick:()=>i(e),children:e},e))}return l};return S.jsxs("div",{className:"pagination",children:[S.jsx("button",{className:"page-btn",onClick:()=>i(a-1),disabled:a===1,"aria-label":"Pgina anterior",children:S.jsx(YC,{size:18})}),r(),S.jsx("button",{className:"page-btn",onClick:()=>i(a+1),disabled:a===e,"aria-label":"Pgina siguiente",children:S.jsx(XC,{size:18})})]})};var OI=Gv();const sh=({isOpen:a,onClose:e,title:i,children:r,size:l="default"})=>{if(Fe.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]),Fe.useEffect(()=>{const d=g=>{g.key==="Escape"&&e()};return a&&window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[a,e]),!a)return null;const c=l==="small"?"modal-sm":l==="large"?"modal-large":l==="xl"?"modal-xl":"";return OI.createPortal(S.jsx("div",{className:"modal-overlay",onClick:e,children:S.jsxs("div",{className:`modal-container ${c}`,onClick:d=>d.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h2",{id:"modal-title",className:"modal-title",children:i}),S.jsx("button",{className:"modal-close-btn",onClick:e,"aria-label":"Cerrar modal",children:S.jsx(nE,{size:24})})]}),S.jsx("div",{className:"modal-body",children:r})]})}),document.body)},MI=()=>{const a=me(A=>A.ui.isProductDetailModalOpen),e=me(A=>A.ui.selectedProductId),i=me(A=>A.products),r=me(A=>A.closeProductDetailModal),l=me(A=>A.toggleFavorite),c=me(A=>A.toggleComparison),d=me(A=>A.favorites),g=me(A=>A.comparisons),y=i.find(A=>A.id===e);if(!y)return null;const _=d.includes(y.id),T=g.includes(y.id);return S.jsx(sh,{isOpen:a,onClose:r,title:`Detalles del Producto - ${y.referencia}`,size:"large",children:S.jsxs("div",{className:"detail-grid",children:[S.jsxs("div",{className:"detail-image-section",children:[S.jsx("img",{src:y.imagenes[0],alt:y.referencia,className:"detail-image"}),S.jsxs("div",{className:"action-icons",style:{position:"absolute",top:"1rem",right:"1rem"},children:[S.jsx("button",{className:`action-icon action-icon-compare ${T?"active":""}`,onClick:()=>c(y.id),title:"Comparar",children:S.jsx(hI,{size:20})}),S.jsx("div",{className:`action-icon action-icon-favorite ${_?"active":""}`,onClick:()=>l(y.id),title:"Favorito",children:S.jsx(Lm,{checked:_,onChange:()=>{},size:20})})]})]}),S.jsxs("div",{className:"detail-info-section",children:[S.jsx("div",{children:S.jsx("span",{className:`position-badge ${y.posicion==="DELANTERA"?"position-badge-delantera":y.posicion==="TRASERA"?"position-badge-trasera":"position-badge-ambas"}`,children:y.posicion})}),S.jsxs("div",{className:"detail-specs-grid",children:[S.jsxs("div",{className:"spec-item",children:[S.jsx("span",{className:"spec-label",children:"Fabricante"}),S.jsx("span",{className:"spec-value",children:y.fabricante})]}),S.jsxs("div",{className:"spec-item",children:[S.jsx("span",{className:"spec-label",children:"Referencia Principal"}),S.jsx("span",{className:"spec-value",children:y.referencia})]})]}),S.jsxs("div",{className:"spec-item",children:[S.jsx("span",{className:"spec-label",children:"Referencias FMSI / OEM"}),S.jsxs("div",{className:"detail-refs",children:[y.fmsi.map(A=>S.jsx("span",{className:"ref-badge ref-badge-green",children:A},A)),y.oem.map(A=>S.jsx("span",{className:"ref-badge ref-badge-yellow",children:A},A))]})]}),S.jsxs("div",{className:"spec-item",style:{background:"var(--bg-primary)",padding:"1rem",borderRadius:"0.5rem"},children:[S.jsx("span",{className:"spec-label",style:{marginBottom:"0.5rem",display:"block"},children:"Medidas"}),S.jsxs("div",{className:"detail-specs-grid",children:[S.jsxs("div",{children:[S.jsx("span",{className:"spec-label",children:"Ancho"}),S.jsxs("span",{className:"spec-value",children:[y.medidas.ancho," mm"]})]}),S.jsxs("div",{children:[S.jsx("span",{className:"spec-label",children:"Alto"}),S.jsxs("span",{className:"spec-value",children:[y.medidas.alto," mm"]})]})]})]}),S.jsxs("div",{className:"spec-item",children:[S.jsx("span",{className:"spec-label",children:"Aplicaciones"}),S.jsx("ul",{style:{listStyle:"none",marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:y.aplicaciones.map((A,x)=>S.jsxs("li",{className:"spec-value",style:{fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx(ih,{size:14,className:"text-tertiary"}),S.jsxs("span",{children:[S.jsx("strong",{children:A.marca})," ",A.modelo," ",A.ao?`(${A.ao})`:""]})]},x))})]})]})]})})},xI=()=>{const a=me(d=>d.ui.isCompareModalOpen),e=me(d=>d.comparisons),i=me(d=>d.products),r=me(d=>d.closeCompareModal),l=me(d=>d.toggleComparison),c=i.filter(d=>e.includes(d.id));return S.jsx(sh,{isOpen:a,onClose:r,title:"Comparar Productos",size:"xl",children:c.length===0?S.jsxs("div",{className:"grid-empty",children:[S.jsx($C,{className:"empty-icon"}),S.jsx("h3",{className:"empty-title",children:"Sin productos para comparar"}),S.jsx("p",{className:"empty-message",children:"Selecciona productos usando el icono de balanza () tarjeta."})]}):S.jsx("div",{className:"compare-table-container",children:S.jsx("table",{className:"compare-table",children:S.jsxs("tbody",{children:[S.jsxs("tr",{children:[S.jsx("td",{className:"compare-feature-header",children:"Producto"}),c.map(d=>S.jsxs("td",{className:"compare-product-col",children:[S.jsx("img",{src:d.imagenes[0],alt:d.referencia,className:"compare-image"}),S.jsx("div",{className:"compare-ref-title",children:d.referencia}),S.jsx("div",{className:"compare-manufacturer",children:d.fabricante}),S.jsxs("button",{className:"compare-remove-btn",onClick:()=>l(d.id),children:[S.jsx(km,{size:14})," Quitar"]})]},d.id))]}),S.jsxs("tr",{children:[S.jsx("td",{className:"compare-feature-header",children:"Posicin"}),c.map(d=>S.jsx("td",{className:"compare-product-col",children:S.jsx("span",{className:`position-badge ${d.posicion==="DELANTERA"?"position-badge-delantera":d.posicion==="TRASERA"?"position-badge-trasera":"position-badge-ambas"}`,children:d.posicion})},d.id))]}),S.jsxs("tr",{children:[S.jsx("td",{className:"compare-feature-header",children:"Medidas"}),c.map(d=>S.jsxs("td",{className:"compare-product-col",children:[S.jsx("strong",{children:"Ancho:"})," ",d.medidas.ancho," mm ",S.jsx("br",{}),S.jsx("strong",{children:"Alto:"})," ",d.medidas.alto," mm"]},d.id))]}),S.jsxs("tr",{children:[S.jsx("td",{className:"compare-feature-header",children:"FMSI / OEM"}),c.map(d=>S.jsx("td",{className:"compare-product-col",children:S.jsx("div",{className:"detail-refs",children:d.fmsi.concat(d.oem).map(g=>S.jsx("span",{className:"ref-badge",style:{background:"var(--bg-primary)",color:"var(--text-secondary)",fontSize:"0.7em"},children:g},g))})},d.id))]}),S.jsxs("tr",{children:[S.jsx("td",{className:"compare-feature-header",children:"Aplicaciones"}),c.map(d=>S.jsx("td",{className:"compare-product-col",children:S.jsxs("ul",{style:{listStyle:"none",fontSize:"0.85rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[d.aplicaciones.slice(0,3).map((g,y)=>S.jsxs("li",{children:[S.jsx("strong",{children:g.marca})," ",g.modelo," ",g.ao?`(${g.ao})`:""]},y)),d.aplicaciones.length>3&&S.jsxs("li",{style:{color:"var(--text-tertiary)"},children:["+",d.aplicaciones.length-3," ms..."]})]})},d.id))]})]})})})})},VI=()=>{const a=me(T=>T.ui.isHistoryModalOpen),e=me(T=>T.searchHistory),i=me(T=>T.closeHistoryModal),r=me(T=>T.setSearchQuery),l=me(T=>T.clearFilters),c=me(T=>T.setSelectedBrand),d=me(T=>T.setSelectedModel),g=me(T=>T.setSelectedYear),y=T=>{l(),T.searchQuery&&r(T.searchQuery),T.selectedBrand&&c(T.selectedBrand),T.selectedModel&&d(T.selectedModel),T.selectedYear&&g(T.selectedYear),i()},_=T=>new Date(T).toLocaleString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return S.jsx(sh,{isOpen:a,onClose:i,title:"Historial de Bsqueda",size:"default",children:e.length===0?S.jsxs("div",{className:"grid-empty",children:[S.jsx(tE,{className:"empty-icon"}),S.jsx("h3",{className:"empty-title",children:"Historial Vaco"}),S.jsx("p",{className:"empty-message",children:"Tus bsquedas recientes aparecern aqu."})]}):S.jsx("div",{className:"history-list",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:e.map(T=>S.jsxs("button",{onClick:()=>y(T.filters),className:"history-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"var(--bg-primary)",border:"1px solid var(--border-primary)",borderRadius:"0.5rem",cursor:"pointer",textAlign:"left",width:"100%"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[S.jsx(ih,{size:20,className:"text-secondary"}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"500",color:"var(--text-primary)"},children:T.summary||"Bsqueda General"}),S.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-tertiary)",marginTop:"0.25rem"},children:[T.resultCount," resultados encontrados"]})]})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.75rem",color:"var(--text-tertiary)"},children:[S.jsx(eI,{size:14}),_(T.timestamp)]})]},T.id))})})},kI=()=>{const a=me(r=>r.ui.isGuideModalOpen),e=me(r=>r.closeGuideModal),i=[{icon:S.jsx(ih,{size:24,style:{color:"var(--accent-primary)"}}),title:"Bsqueda Rpida",description:"Usa la barra de bsqueda lateral para encontrar pastillas por referencia directa, cdigo OEM o FMSI."},{icon:S.jsx(nI,{size:24,style:{color:"var(--accent-secondary)"}}),title:"Filtros de Vehculo",description:"Selecciona Marca, Modelo y Ao para ver exactamente qu pastillas corresponden a tu vehculo."},{icon:S.jsx(rI,{size:24,style:{color:"var(--color-success)"}}),title:"Detalles y Comparacin",description:"Haz clic en cualquier producto para ver sus medidas exactas y fotos. salos para comparar hasta 4 modelos a la vez."},{icon:S.jsx(pI,{size:24,style:{color:"var(--color-warning)"}}),title:"Acceso desde el Celular",description:"Esta aplicacin es una PWA. Puedes instalarla en tu celular desde el men del navegador para usarla sin conexin."}];return S.jsx(sh,{isOpen:a,onClose:e,title:"Gua de Uso - Brake X",size:"large",children:S.jsxs("div",{className:"guide-content",style:{padding:"0.5rem 0"},children:[S.jsx("style",{children:`
                    .guide-grid {
                        display: grid;
                        gap: 1rem;
                        grid-template-columns: 1fr;
                    }
                    @media (min-width: 640px) {
                        .guide-grid {
                            grid-template-columns: 1fr 1fr;
                        }
                    }
                `}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",padding:"0.75rem",background:"var(--bg-tertiary)",borderRadius:"10px",border:"1px solid var(--border-primary)"},children:[S.jsx(eE,{size:28,style:{color:"var(--accent-primary)"}}),S.jsxs("div",{children:[S.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"var(--text-primary)"},children:"Gua Rpida"}),S.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Encuentra tus frenos ideales en segundos."})]})]}),S.jsx("div",{className:"guide-grid",children:i.map((r,l)=>S.jsxs("div",{style:{padding:"0.75rem",border:"1px solid var(--border-primary)",borderRadius:"10px",background:"var(--bg-secondary)",boxShadow:"var(--shadow-sm)"},children:[S.jsxs("div",{style:{marginBottom:"0.4rem",display:"flex",alignItems:"center",gap:"0.6rem"},children:[S.jsx("span",{style:{padding:"6px",background:"var(--bg-tertiary)",borderRadius:"8px",display:"flex",border:"1px solid var(--border-secondary)"},children:r.icon}),S.jsx("h4",{style:{margin:0,fontSize:"0.95rem",color:"var(--text-primary)",fontWeight:600},children:r.title})]}),S.jsx("p",{style:{margin:0,fontSize:"0.825rem",lineHeight:"1.3",color:"var(--text-secondary)"},children:r.description})]},l))}),S.jsxs("div",{style:{marginTop:"1rem",textAlign:"center",padding:"1rem",border:"1px dashed var(--border-primary)",borderRadius:"10px",background:"var(--bg-tertiary)"},children:[S.jsx("p",{style:{margin:0,fontWeight:600,color:"var(--text-primary)",fontSize:"0.875rem"},children:"Necesitas soporte tcnico?"}),S.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Contctanos para atencin especializada."})]})]})})},LI=()=>{const a=me(d=>d.isNotificationPanelOpen),e=me(d=>d.ui.notifications),i=me(d=>d.closeNotificationPanel),r=me(d=>d.markAsRead),l=me(d=>d.clearAllNotifications);if(!a)return null;const c=d=>{const g=new Date(d);return g.toLocaleDateString()+" "+g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})};return S.jsx("div",{className:"fixed-container",children:S.jsxs("div",{className:"notification-card",children:[S.jsxs("header",{className:"notification-header",children:[S.jsx("h2",{className:"notification-title",children:"Notificaciones"}),S.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.length>0&&S.jsx("button",{onClick:l,className:"close-btn",title:"Limpiar todo",style:{color:"#ef4444"},children:S.jsx(km,{size:20})}),S.jsx("button",{onClick:i,className:"close-btn",title:"Cerrar",children:S.jsx(nE,{size:24})})]})]}),S.jsx("div",{className:"notification-list custom-scrollbar",children:e.length===0?S.jsxs("div",{className:"empty-state",children:[S.jsx(Jd,{size:48,className:"empty-icon"}),S.jsx("p",{children:"Sin notificaciones pendientes"})]}):e.map(d=>S.jsxs("div",{className:"notification-group",children:[S.jsxs("div",{className:"item-header",children:[S.jsx(Jd,{size:18,className:"bell-icon"}),S.jsx("h3",{className:"item-title",children:d.title}),!d.read&&S.jsx("div",{className:"unread-dot"})]}),S.jsx("p",{className:"item-message",children:d.message}),S.jsxs("div",{className:"item-footer",children:[d.read?S.jsxs("div",{className:"read-status",children:[S.jsx(Hv,{size:14}),S.jsx("span",{children:"LEDO"})]}):S.jsxs("button",{className:"read-action",onClick:()=>r(d.id),children:[S.jsx(Hv,{size:14}),S.jsx("span",{children:"LEDO"})]}),S.jsx("span",{className:"item-time",children:c(d.timestamp)})]})]},d.id))})]})})},UI="modulepreload",PI=function(a){return"/BrakeXAlfa/"+a},Fv={},jI=function(e,i,r){let l=Promise.resolve();if(i&&i.length>0){let _=function(T){return Promise.all(T.map(A=>Promise.resolve(A).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var d=_;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),y=g?.nonce||g?.getAttribute("nonce");l=_(i.map(T=>{if(T=PI(T),T in Fv)return;Fv[T]=!0;const A=T.endsWith(".css"),x=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${x}`))return;const H=document.createElement("link");if(H.rel=A?"stylesheet":UI,A||(H.as="script"),H.crossOrigin="",H.href=T,y&&H.setAttribute("nonce",y),document.head.appendChild(H),A)return new Promise((te,X)=>{H.addEventListener("load",te),H.addEventListener("error",()=>X(new Error(`Unable to preload CSS for ${T}`)))})}))}function c(g){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=g,window.dispatchEvent(y),!y.defaultPrevented)throw g}return l.then(g=>{for(const y of g||[])y.status==="rejected"&&c(y.reason);return e().catch(c)})};function zI(a={}){const{immediate:e=!1,onNeedRefresh:i,onOfflineReady:r,onRegistered:l,onRegisteredSW:c,onRegisterError:d}=a;let g,y;const _=async(A=!0)=>{await y};async function T(){if("serviceWorker"in navigator){if(g=await jI(async()=>{const{Workbox:A}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:A}},[]).then(({Workbox:A})=>new A("/BrakeXAlfa/sw.js",{scope:"/BrakeXAlfa/",type:"classic"})).catch(A=>{d?.(A)}),!g)return;g.addEventListener("activated",A=>{(A.isUpdate||A.isExternal)&&window.location.reload()}),g.addEventListener("installed",A=>{A.isUpdate||r?.()}),g.register({immediate:e}).then(A=>{c?c("/BrakeXAlfa/sw.js",A):l?.(A)}).catch(A=>{d?.(A)})}}return y=T(),_}function BI(a={}){const{immediate:e=!0,onNeedRefresh:i,onOfflineReady:r,onRegistered:l,onRegisteredSW:c,onRegisterError:d}=a,[g,y]=Fe.useState(!1),[_,T]=Fe.useState(!1),[A]=Fe.useState(()=>zI({immediate:e,onOfflineReady(){T(!0),r?.()},onNeedRefresh(){y(!0),i?.()},onRegistered:l,onRegisteredSW:c,onRegisterError:d}));return{needRefresh:[g,y],offlineReady:[_,T],updateServiceWorker:A}}function qI(){const{offlineReady:[a,e],needRefresh:[i,r],updateServiceWorker:l}=BI({onRegistered(d){d&&setInterval(()=>d.update(),36e5)}}),c=()=>{e(!1),r(!1)};return!a&&!i?null:S.jsxs("div",{className:"ReloadPrompt-container",children:[S.jsx("div",{className:"ReloadPrompt-overlay"}),S.jsxs("div",{className:"ReloadPrompt-toast",children:[S.jsx("div",{className:"ReloadPrompt-icon-wrapper",children:a?S.jsx(vI,{size:32}):S.jsx(uI,{size:32,className:"spin-animate"})}),S.jsxs("div",{className:"ReloadPrompt-message",children:[S.jsx("h3",{children:a?"Modo Offline":"Hay mejoras!"}),S.jsx("p",{children:a?"La aplicacin est lista para usarse sin conexin a internet.":"Una nueva versin de Brake X est disponible con mejoras de rendimiento."})]}),S.jsxs("div",{className:"ReloadPrompt-actions",children:[i&&S.jsxs("button",{className:"ReloadPrompt-btn ReloadPrompt-btn-primary",onClick:()=>l(!0),children:["Actualizar ahora ",S.jsx(HC,{size:20,style:{marginLeft:"8px"}})]}),a&&!i&&S.jsx("button",{className:"ReloadPrompt-btn ReloadPrompt-btn-primary",onClick:c,children:"Entendido"})]})]})]})}function HI(){const[a,e]=Fe.useState(!0),i=me(X=>X.filteredProducts),r=me(X=>X.ui),l=me(X=>X.setProducts),c=me(X=>X.clearFilters),d=me(X=>X.setCurrentPage),g=Fe.useMemo(()=>async()=>{e(!0);try{if(Bv)try{const X=await kC();l(X)}catch(X){console.error("Error connecting to Firebase:",X),l([]);const J=X instanceof Error?X.message:"Error desconocido";alert(`Error conectando a Firebase:
${J}

Revisa si tu base de datos Firestore est creada y si las Reglas de Seguridad permiten lectura (allow read: if true).`)}else console.error("Firebase not configured."),l([]),alert("Firebase no est configurado. Por favor configura el archivo .env o edita src/services/firebase.ts")}catch(X){console.error("Error loading products:",X)}finally{e(!1)}},[l]);Fe.useEffect(()=>{if(!Bv){g();return}let X=!0;const J=VC(($,re)=>{if(l($),X&&e(!1),!X&&re){const ne=me.getState();re.forEach(we=>{const Be=we.doc.data(),Re=Be.referencia||Be.ref&&Be.ref[0]||we.doc.id;we.type==="added"?ne.addNotification({type:"data",title:"Referencia Agregada",message:`Se ha aadido la referencia ${Re} al catlogo.`}):we.type==="modified"?ne.addNotification({type:"data",title:"Referencia Actualizada",message:`La referencia ${Re} ha sido modificada.`}):we.type==="removed"&&ne.addNotification({type:"data",title:"Referencia Eliminada",message:`La referencia ${Re} ha sido retirada.`})})}X=!1});return()=>J()},[g,l]);const{currentPage:y,itemsPerPage:_}=r,T=i.length,A=Math.ceil(T/_),x=(y-1)*_,H=Math.min(x+_,T),te=Fe.useMemo(()=>i.slice(x,H),[i,x,H]);return S.jsxs("div",{className:"app",children:[S.jsx(SI,{}),S.jsxs("div",{className:"main-layout",children:[S.jsx("div",{className:"filters-column",children:S.jsx(AI,{})}),S.jsx("main",{className:"results-panel",children:S.jsxs("div",{className:"content-wrapper",children:[S.jsx(wI,{totalResults:T,currentStart:x+1,currentEnd:H}),S.jsx(NI,{products:te,loading:a,onClearFilters:c}),S.jsx(DI,{currentPage:y,totalPages:A,onPageChange:d})]})})]}),S.jsx(bI,{}),S.jsx(LI,{}),S.jsx(qI,{}),S.jsx(MI,{}),S.jsx(xI,{}),S.jsx(VI,{}),S.jsx(kI,{})]})}qT.createRoot(document.getElementById("root")).render(S.jsx(Fe.StrictMode,{children:S.jsx(HI,{})}));
